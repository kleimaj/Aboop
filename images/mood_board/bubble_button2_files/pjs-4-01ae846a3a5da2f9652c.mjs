(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[4],{"0SCs":function(e,t,n){var a=n("q1tI");function i(e){return e.startsWith("enabled")||e.startsWith("employee")}function o(e,{activate:t=!0,activateExperiment:n,group:o,userIsEligible:r=!0}){Object(a.useEffect)(()=>{t&&r&&n(e)},[e,t,r]);const c=Object(a.useCallback)(()=>{r&&n(e)},[n,r,e]);return{group:r?o:"",anyEnabled:r&&i(o),customActivate:r&&!t?c:()=>{}}}var r=n("pLLR");function c(e,t=!0){const{experiments:n}=Object(r.d)(),{group:a,anyEnabled:i}=o(e,{activate:!0,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:a,anyEnabled:i}}function l(e,t=!0){const{experiments:n}=Object(r.d)(),{group:a,anyEnabled:i}=o(e,{activate:!1,activateExperiment:()=>{},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:a,anyEnabled:i}}function s(e,t=!0){const{experiments:n}=Object(r.d)();return o(e,{activate:!1,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t})}n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s}))},"3qdF":function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),o=n("4Utz"),r=n("n6mq");const c={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function l({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:a}=n||{},l=a&&a.length>=3?a.slice(0,3):[];return i.a.createElement(r.c,{display:"flex",dangerouslySetInlineStyle:{__style:c.chipContainer}},l.map(n=>{const a=n.images["750x"]||{},l=i.a.createElement(r.q,{alt:"",fit:"cover",naturalHeight:a.height,naturalWidth:a.width,src:a.url});return i.a.createElement(r.c,{dangerouslySetInlineStyle:{__style:c.chip},"data-test-id":"collageChip",key:n.id},i.a.createElement(r.c,{dangerouslySetInlineStyle:{__style:c.chipInner},position:"relative"},i.a.createElement(r.c,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0},i.a.createElement(r.v,{height:"100%",wash:!0,width:"100%"},t?i.a.createElement(o.a,{additionalStyles:{width:"100%",height:"100%"},collageChipId:n.id,pin:e},l):l))))}))}},"45LI":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("ajUs"),c=n("ou9u"),l=n("gYog"),s=(n("wIXi"),n("17x9"),n("hFNL")),d=n("3gA6"),u=n("yKES"),m=n("5uyJ"),p=n("n6mq");const b={overlay:{__style:{backgroundColor:"#000",opacity:.4}}};function g(e){const{pin:{id:t,images:n,title:a,videos:o,video_status_message:r}}=e,c=r||{},l=n&&n["236x"],s=o&&o.video_list[m.a.V_HLSV4],{duration:g}=s||{};return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.e,null,i.a.createElement(d.b,{to:`/pin/${t}`},i.a.createElement(p.c,{overflow:"hidden",position:"relative",shape:"rounded"},l&&i.a.createElement(p.q,{alt:a||"",color:"lightGray",naturalHeight:l.height,naturalWidth:l.width,src:l.url}),!!g&&i.a.createElement(p.c,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},i.a.createElement(u.a,{duration:g})),i.a.createElement(p.c,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:b.overlay}),i.a.createElement(p.c,{position:"absolute",top:!0,left:!0,padding:5,width:"100%"},i.a.createElement(p.L,{color:"white",overflow:"normal",size:"xl",weight:"bold"},c.title),i.a.createElement(p.c,{marginTop:4},i.a.createElement(p.L,{color:"white",size:"sm",overflow:"normal"},c.subtitle)))),i.a.createElement(p.c,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1},i.a.createElement(p.c,{flex:"grow"},a&&i.a.createElement(p.c,{paddingY:1},i.a.createElement(p.L,{inline:!0,size:"sm",weight:"bold"},a)))))))}var f=n("Y8Sn"),h=n("TxB+"),y=n("0nTG");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=Object(o.connect)(({location:e})=>({location:e}))(class extends a.Component{constructor(...e){super(...e),w(this,"state",{startImpressionTimer:!1}),w(this,"handleLoad",()=>{this.setState({startImpressionTimer:!0})}),w(this,"handleError",()=>{this.setState({startImpressionTimer:!1})})}render(){const{componentType:e,contextLogData:t,impressionAuxFields:n,pin:a,slotIndex:o,location:d,viewData:u,viewType:m,viewParameter:p}=this.props,b=Object(r.a)(a,d),w=Object(c.a)(a),v=!!(w&&w.url&&w.height&&w.width)||void 0,E=w&&a.videos?a.videos.id:void 0;return i.a.createElement(l.a,{componentType:e,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(s.b)(window)}:{},...t,...Object(y.a)(a,t)},loggingId:a.id,impressionType:"Pin",impressionAuxFields:{...n||{},isNativeVideoAndWatchable:v,videoIdStr:E,richTypes:Object(y.c)(a),imageURL:a.images&&a.images["236x"].url,clientTrackingParams:b||`${a.tracking_params}-0`},isPaused:!this.state.startImpressionTimer,slotIndex:o,viewData:u,viewType:m,viewParameter:p},Object(f.h)(a)?i.a.createElement(g,{pin:a}):i.a.createElement(h.b,Object.assign({},this.props,{onError:this.handleError,onLoad:this.handleLoad})))}}),E=n("ynlw");function _({inChangeTitlesExp:e,isGroupBoard:t,pin:n,surface:a}){const{buyable_product:i,carousel_data:o,grid_title:r,rich_summary:c,title:l}=n,{isOwnPin:s,isPromoted:d}=Object(E.a)(n);if(e&&!d)return r||"";if(s&&!t&&!o&&"UserProfilePinGrid"!==a)return"";if(o){const{carousel_slots:e=[],index:t}=o;if(e[t]&&e[t].title)return e[t].title.trim()}const u=c&&"mobile application"!==c.type_name&&c.display_name,m=i&&i.title;return l||u||m||r||""}const O=["BrioCloseupRelatedProducts","EngagementDetails","UserProfilePinGrid"];var k=n("JW66");const x=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return`${-1*t}px 0px 0px 0px`};var P=n("pDoi"),T=n("mVz+"),C=n("uDSo");var S=n("078/");const I=["BrioCloseupRelatedProducts","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","STLProductsFeed","UpdatedCloseupRelatedProducts","VisualProductsShopTab"];var j=n("clxp");const L={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var B=n("1Fta"),R=n("Ye/N"),D=n("vvax");var A=n("63p3");var N=n("Zygf"),V=n("jkxn"),M=n("rYoy"),F=n("gD/Z"),G=n("zwad");function H(e,t){const{carousel_data:n,domain:a}=e;let i=a||"";return n&&n.id&&(i=function(e,t){const n=t||e&&e.index||0,a=e&&e.carousel_slots||[],i=a[n]&&a[n].link||"";return i&&G.a.parse(i).hostname||""}(n,t)),i.replace("www.","")}var z=n("8BHY"),U=n("kVqD");const W=18,q={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:W,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function $({pin:e,sourceLinkStyle:t,surface:n,url:o}){const[r,c]=Object(a.useState)(!1),{id:l}=e,s=H(e),u=Object(y.a)(e)||{},{slotIndex:m}=Object(F.b)(),b=Object(U.a)(12,{grid_index:m,objectId:l,...Object(y.a)(e)||{}}),g=Object(U.a)(101,{element:162,objectId:l,...Object(y.a)(e)||{}});return"icon-only"===t?i.a.createElement(d.b,{auxData:u,external:!0,onClick:()=>{b(),g()},pinId:l,surface:n,to:o},i.a.createElement(z.a,{accessibilityLabel:R.a._("link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",iconSize:12,size:"sm"})):i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{...q.container,...r?q.containerHovered:{},..."truncated-text"===t?q.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),position:"relative"},i.a.createElement(d.b,{className:"SourceLink",external:!0,onClick:()=>{b(),g()},pinId:l,surface:n,style:{borderRadius:W,display:"block"},to:o},i.a.createElement(p.c,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:q.text},display:"flex",justifyContent:"between"},i.a.createElement(p.c,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3},i.a.createElement(p.n,{accessibilityLabel:R.a._("link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})),i.a.createElement(p.c,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden"},i.a.createElement(p.L,{color:"darkGray",size:"sm",weight:"bold",truncate:!0},s)))))}const Y=Object(a.lazy)(()=>Promise.all([n.e(17),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),X=Object(a.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),Q=Object(a.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var K=Object(a.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,onToggleFlyout:a,onToggleModal:o,pin:r,pinTitle:c,setForcePrimary:l,showEditButton:s,showOverflowMenu:d,showShareButton:u,sourceLinkStyle:m,surface:b,useDenseGroupBoardLayout:g}){const{viewParameter:f,viewType:h}=Object(F.b)(),{carousel_data:y,id:w,tracked_link:v,link:E}=r,_=v||E||"",O=!!_&&Object(V.a)(i.a.createElement($,{pin:r,sourceLinkStyle:m,surface:b,url:_})),k=u&&i.a.createElement(M.a,null,i.a.createElement(p.c,{"data-test-id":"send-share-link"},Object(V.a)(i.a.createElement(Q,{pin:r,setForcePrimary:l})))),x=s&&i.a.createElement(M.a,null,i.a.createElement(p.c,{"data-test-id":"edit-button"},Object(V.a)(i.a.createElement(Y,{carouselSlotCurrentIndex:y&&y.index,component:0,onToggleModal:a,pinId:w,style:{size:"sm"},view:h,viewParameter:f,useLegoStyles:!0}))));return g?i.a.createElement(p.c,{display:"flex",justifyContent:"between",alignItems:"center",padding:3},i.a.createElement("div",{style:{flexBasis:32}},O),e?x:k,e?k:x):i.a.createElement(p.c,{alignItems:"center",display:"flex",padding:3},i.a.createElement(p.c,{flex:"shrink"},O),i.a.createElement(p.c,{alignItems:"center",display:"flex",flex:"none",marginLeft:"auto"},i.a.createElement(p.c,{paddingX:d||(e?u:s)?2:0},e?x:k),d&&i.a.createElement(M.a,null,i.a.createElement(p.c,{"data-test-id":"overflow-menu-button"},Object(V.a)(i.a.createElement(X,{feedbackData:t,feedbackType:n,pin:r,pinTitle:c,setForcePrimary:l})))),e?k:x))})),Z=n("XSD5"),J=n("ZbwW"),ee=n("U4JR");function te({direction:e,swipeHandler:t}){const n={left:R.a._("View Previous","Button to advance carousel to the previous image"),right:R.a._("View Next","Button to advance carousel to the next image")},a={[e]:!0};return i.a.createElement(p.c,Object.assign({position:"absolute",bottom:!0,top:!0},a),i.a.createElement(p.Q,{fullWidth:!0,fullHeight:!0,onTouch:t},i.a.createElement(p.c,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`},i.a.createElement(p.n,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]}))))}var ne=Object(o.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(Z.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:a,viewType:o}=Object(F.b)(),r=Object(J.a)(e);if(!r)return null;const{id:c=""}=e,{carousel_slots:l,index:s,id:d}=r,u=(t,i)=>{Object(ee.a)(108,{objectId:c,component:n,view:o,viewParameter:a,eventData:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(d),carouselSlotIndex:t,toCarouselSlotIndex:i}},...Object(y.a)(e)||{}})};function m(e){return()=>{const n="left"===e?s-1:s+1;t(c,n),u(s,n)}}return i.a.createElement(p.c,{height:"100%",position:"relative",width:"100%"},s>0&&Object(V.a)(i.a.createElement(te,{direction:"left",swipeHandler:m("left")})),s<l.length-1&&Object(V.a)(i.a.createElement(te,{direction:"right",swipeHandler:m("right")})))});const ae=32;function ie({avatarUrl:e,attributionNameLink:t,name:n=""}){const a=i.a.createElement(p.c,{height:`${ae}px`,width:`${ae}px`},i.a.createElement(p.a,{name:n,src:e}));return t?i.a.createElement(d.b,{className:"underlineLink",to:t},a):a}function oe({attributionNameLink:e,name:t,regularWeight:n}){const a=i.a.createElement(p.L,{size:"sm",truncate:!0,weight:n?"normal":"bold"},t);return i.a.createElement(p.c,null,e?i.a.createElement(d.b,{className:"underlineLink",to:e},a):a)}function re({link:e,title:t}){if(!t)return null;const n=i.a.createElement(p.L,{leading:"short",size:"sm",truncate:!0},t);return i.a.createElement(p.c,null,e?i.a.createElement(d.b,{className:"underlineLink",to:e},n):n)}var ce=n("b9Z9");function le(e){const{board:t,pinner:n={},promoter:a}=e,{isPromoted:i}=Object(E.a)(e);let o="",r="",c="",l="",s="";return i&&a?(o=a.image_medium_url||a.image_small_url,c=a.full_name,l=R.a._("Promoted by","indicating the username of the person who promoted the pin"),s=`/${a.username}/`):(o=n.image_medium_url||n.image_small_url,r=`/${n.username}/`,l=n.full_name,s=t?t.url:""),{avatarUrl:o,attributionNameLink:r,attributionTitle:c,name:l,url:s}}var se=n("fc1g");const de=32;var ue=Object(o.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(se.b)(t))}}}))((function({feedbackData:e,feedbackType:t,isDarkPromoter:n,pin:a,pinTitle:o,setForcePrimary:r,setMostRecentPin:c}){const{id:l,pinner:s}=a,{isPromoted:u}=Object(E.a)(a),m=s||a.promoter,b=Object(U.a)(101,{element:u?283:27,objectId:l}),{avatarUrl:g,attributionNameLink:f,attributionTitle:h,name:y,url:w}=le(a),{viewParameter:v,viewType:_}=Object(F.b)(),O=w&&!f,k=i.a.createElement(p.c,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}}},i.a.createElement(p.c,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}}},i.a.createElement(ce.a,{avatarSize:de,isDarkPromoter:n,pinId:l,user:m,username:m&&m.username,viewParameter:v,viewType:_},i.a.createElement(ie,{attributionNameLink:f,avatarUrl:g,name:y}))),i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden"},i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}}},i.a.createElement(oe,{attributionNameLink:f,name:y,regularWeight:!h})),i.a.createElement(re,{title:h})));return O?i.a.createElement(d.b,{className:"underlineLink",onClick:()=>{c(l),b()},to:w},k):k})),me=n("Gx6I"),pe=n("fArA"),be=n("GsvW");var ge=Object(pe.compose)(Object(o.connect)((e,t)=>{return{replyActivityItem:t.replyActivityId?e.activityItems[t.replyActivityId]:null}},e=>({toggleLike:(t,n,a)=>e(Object(me.a)(t,1,n,a))})))((function({parentActivity:e,replyActivityId:t,replyActivityItem:n,toggleLike:o}){const{content:{text:r},created_at:c,reaction_by_me:l,type:s,user:d}=n||{},[u,m]=Object(a.useState)(!1);return t&&n?i.a.createElement(p.c,{marginTop:2,display:"flex",direction:"row",width:"100%"},i.a.createElement(p.c,{marginRight:2,dangerouslySetInlineStyle:{__style:{borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"#efefef"}}}),i.a.createElement(p.c,{display:"flex",direction:"column",width:"100%"},i.a.createElement(p.Q,{onTouch:({event:e})=>{o(t,s,!!l)},onMouseEnter:({event:e})=>{m(!0)},onMouseLeave:({event:e})=>{m(!1)}},i.a.createElement(p.c,{display:"flex",direction:"row"},i.a.createElement(p.c,{maxWidth:124},i.a.createElement(p.L,{size:"sm",weight:"bold"},Object(be.e)(d))),i.a.createElement(p.c,{marginLeft:1},i.a.createElement(p.L,{size:"sm",color:"gray"},Object(be.f)(c)))),i.a.createElement(p.c,{display:"flex",direction:"row"},i.a.createElement(p.c,{width:"100%"},i.a.createElement(p.c,{marginRight:5,width:"100%"},i.a.createElement(p.L,{size:"sm"},r))),i.a.createElement(p.c,{marginTop:-2,marginRight:1,marginLeft:2,minWidth:12},!!l&&i.a.createElement(p.n,{icon:"heart",accessibilityLabel:R.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!l&&u&&i.a.createElement(p.n,{icon:"heart-outline",accessibilityLabel:R.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})))))):null})),fe=n("zLLH");const he=160;var ye=Object(pe.compose)(Object(o.connect)((e,t)=>{return{commentActivityItem:e.activityItems[t.commentActivityId]}},e=>({toggleLike:(t,n,a)=>e(Object(me.a)(t,1,n,a))})),Object(fe.c)({name:"BoardActivityCommentFeedResource",key:"replyResource",options:e=>({page_size:1,activityId:e.commentActivityItem&&e.commentActivityItem.id,parentType:e.commentActivityItem&&e.commentActivityItem.type,redux_normalize_feed:!0})},{allowStale:!1}))((function({commentActivityId:e,commentActivityItem:t,parentActivity:n,replyResource:o,showReplies:r,toggleLike:c}){const{comment_count:l,content:{text:s},created_at:u,reaction_by_me:m,type:b,user:g}=t,[f,h]=Object(a.useState)(!1),y=r&&l?l-1:0,w=!o.isLoaded,v=!!o.isLoaded&&!!o.data&&o.data.length>0&&o.data[0].id,E=i.a.createElement(p.L,{size:"xs",weight:"bold"},Object(D.b)(R.a.ngettext("{{ moreRepliesCount }} more comment","{{ moreRepliesCount }} more comments",y,"Number of more comments indicator for board comments under pin cards"),{moreRepliesCount:y}));return i.a.createElement(p.c,{display:"flex",direction:"row",marginTop:2,marginBottom:1},i.a.createElement(p.c,{minWidth:32,minHeight:32},i.a.createElement(p.a,{src:g.image_medium_url,name:g.username})),i.a.createElement(p.c,{display:"flex",direction:"column",marginLeft:2,width:"100%"},i.a.createElement(p.Q,{onTouch:({event:t})=>{c(e,b,!!m)},onMouseEnter:({event:e})=>{h(!0)},onMouseLeave:({event:e})=>{h(!1)}},i.a.createElement(p.c,{display:"flex",direction:"row"},i.a.createElement(p.c,{maxWidth:130},i.a.createElement(p.L,{size:"sm",weight:"bold"},Object(be.e)(g))),i.a.createElement(p.c,{marginLeft:1},i.a.createElement(p.L,{size:"sm",color:"gray"},Object(be.f)(u)))),i.a.createElement(p.c,{display:"flex",direction:"row"},i.a.createElement(p.c,{width:"100%",maxWidth:he},i.a.createElement(p.L,{size:"sm"},s)),i.a.createElement(p.c,{marginTop:-2,marginRight:1,marginLeft:2,minWidth:12},!!m&&i.a.createElement(p.n,{icon:"heart",accessibilityLabel:R.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!m&&f&&i.a.createElement(p.n,{icon:"heart-outline",accessibilityLabel:R.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})))),y>0&&i.a.createElement(p.c,{marginTop:2,marginBottom:1},n&&n.pin?i.a.createElement(d.b,{to:`/pin/${n.pin.id}/`},E):E),r&&(w?i.a.createElement(p.c,{paddingX:1,marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #efefef"}}},i.a.createElement(p.c,{color:"lightGray",width:"100%",height:48})):i.a.createElement(ge,{parentActivity:t,replyActivityId:v||null}))))})),we=n("ExRq");const ve=2e3,Ee=1,_e=2,Oe=17,ke={background:"transparent",border:"0",display:"inline-block",fontSize:"14px",lineHeight:`${Oe}px`,maxHeight:"34px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%",wordBreak:"break-all"},xe={SET_COMMENT_VALUE:0,SET_INPUT_ROWS_VALUE:1,COMMENT_ADDED:2},Pe="",Te=!1,Ce=Ee;function Se(e,t){switch(t.type){case xe.SET_COMMENT_VALUE:return{...e,commentValue:t.commentValue||Pe};case xe.SET_INPUT_ROWS_VALUE:return{...e,inputRowsValue:t.inputRowsValue||Ce};case xe.COMMENT_ADDED:return{...e,commentValue:Pe,commentAdded:!0,inputRowsValue:Ce};default:return e}}var Ie=Object(pe.compose)(Object(o.connect)(({activityItems:e,groupBoardGridComments:t,viewer:n},{pin:{board_activity:a}})=>{const i=a&&a.id,o=i?e[i]:null;return{boardActivityComments:(i&&t[i]||[]).map(t=>e[t]),parentActivity:o,viewer:n}},e=>({createActivityItem:Object(pe.bindActionCreators)(we.a,e)})))((function({boardActivityComments:e,createActivityItem:t,parentActivity:n,pin:o,viewer:r}){const[c,l]=Object(a.useReducer)(Se,{commentValue:Pe,commentAdded:Te,inputRowsValue:Ce,showMoreComment:!!n&&n.comment_count>3});if(!r.isAuth||!e||0===e.length)return null;const s=c.commentValue.length>0,u={color:s?"black":"#8e8e8e",...ke},m=e.length>0?e[0].id:null,b=e.length>1?e[1].id:null,g=e.length>2?e[2].id:null,f=e[0].comment_count>0,h=b&&e[1].comment_count>0&&!f,y=g&&!f&&!h,w=y?3:2,v=e.length<3?e.length:w,E=n?n.comment_count-v:0,_=i.a.createElement(p.L,{size:"xs",weight:"bold"},Object(D.b)(R.a.ngettext("{{ moreCommentsCount }} more comment","{{ moreCommentsCount }} more comments",E,"Number of more comments indicator for board comments under pin cards"),{moreCommentsCount:E})),O=i.a.createElement(p.c,{marginStart:2},i.a.createElement(p.L,{size:"sm",weight:"bold"},R.a._("View your comment","Text after user added comments under group board pin grid"))),k=i.a.createElement(p.c,{display:"flex",direction:"column",width:"100%"},c.showMoreComment&&!!E&&i.a.createElement(p.c,{marginTop:2,marginBottom:1},n&&n.pin?i.a.createElement(d.b,{to:`/pin/${n.pin.id}/`},_):_),y&&i.a.createElement(ye,{commentActivityId:g,parentActivity:n}),b&&i.a.createElement(ye,{commentActivityId:b,parentActivity:n,showReplies:h}),i.a.createElement(ye,{commentActivityId:m,parentActivity:n,showReplies:f}));return i.a.createElement(p.c,{display:"flex",direction:"column"},e.length>0&&k,i.a.createElement(p.c,{alignItems:"center",display:"flex",direction:"row",marginTop:2},i.a.createElement(p.c,{height:32,minWidth:32},i.a.createElement(p.a,{src:r.imageMediumUrl,name:r.username})),c.commentAdded&&(n&&n.pin?i.a.createElement(d.b,{to:`/pin/${n.pin.id}/`},O):O),!c.commentAdded&&i.a.createElement(a.Fragment,null,i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{borderRadius:"16px"}},color:"lightGray",width:"100%",alignItems:"center",display:"flex",marginLeft:2,marginRight:2,paddingX:2,paddingY:1},i.a.createElement("textarea",{maxLength:ve,name:"commentTextBox",placeholder:R.a._("Add comment","Placeholder for comment text field under pin rep"),style:u,rows:c.inputRowsValue,value:c.commentValue,onChange:e=>{if(l({type:xe.SET_COMMENT_VALUE,commentValue:String(e.target.value)}),e&&e.target){const t=e.target.rows;e.target.rows=Ee;const n=Math.floor(e.target.scrollHeight/Oe);n===t&&(e.target.rows=n),n>=_e&&(e.target.rows=_e,e.target.scrollTop=e.target.scrollHeight),l({type:xe.SET_INPUT_ROWS_VALUE,inputRowsValue:n<_e?n:_e})}}})),s&&i.a.createElement(p.c,{width:32,height:32,shape:"circle",color:"red"},i.a.createElement(p.o,{accessibilityLabel:R.a._("send","Accessibility label for send comment under pin rep"),bgColor:"transparent",icon:"send",iconColor:"white",size:"sm",onClick:()=>{if(!n)return;const e=JSON.stringify([]);t({imageSignatures:"",objectIds:[],parentId:n.id,parentType:n.type,text:c.commentValue,tags:e}),l({type:xe.COMMENT_ADDED})}})))))})),je=n("/5zs"),Le=n("pLLR");const Be=6,Re=10;var De=Object(pe.compose)(Object(o.connect)((function({pins:e},{pinId:t}){const n=e[t]||{};return{carouselData:Object(J.a)(n),pin:n}}),(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(Z.a)(t,n))}})),Le.e)((function({carouselData:e,changeCarouselSlotIndex:t,pin:n,pinId:a,requestContext:o}){const{componentType:r,viewParameter:c,viewType:l}=Object(F.b)(),{carousel_slots:s=[],id:d,index:u}=e||{},m=new je.c(o,"web_carousel_pip_improvements").enabled();o.experiments.flush();const b=m?Re:Be,g=e=>({event:i})=>{i.preventDefault(),i.stopPropagation(),void 0!==t&&(t(a,e),Object(ee.a)(108,{component:r,eventData:{pinCarouselSlotEventData:{carouselDataId:Number(d),carouselSlotId:s[u]&&Number(s[u].id),carouselSlotIndex:u,toCarouselSlotIndex:e}},objectId:a,view:l,viewParameter:c,...Object(y.a)(n)||{}}))};return i.a.createElement(p.c,{display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:-3,marginRight:-3}}},s.map((e,t)=>i.a.createElement(p.c,{key:a+t,dangerouslySetInlineStyle:{__style:{marginLeft:3,marginRight:3}}},i.a.createElement(p.Q,{fullWidth:!1,shape:"circle",onTouch:g(t)},i.a.createElement(p.c,{"data-test-id":"ellipsis-size",height:b,width:b,dangerouslySetInlineStyle:{__style:{backgroundColor:t===u?"#555":"lightGray"}},shape:"circle"})))))})),Ae=n("T5j3"),Ne=n("obIb"),Ve=n.n(Ne),Me=n("X/CP"),Fe=n.n(Me),Ge=n("x/xQ"),He=n.n(Ge),ze=n("jOPH"),Ue=n.n(ze),We=n("U5D8"),qe=n.n(We);const $e={goodIdea:Ve.a,love:He.a,thanks:Ue.a,wow:qe.a,haha:Fe.a},Ye={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"};var Xe=function({pinId:e,reactionCounts:t}){const n=t?Object(Ae.a)(t):null,a=t?Object(Ae.b)(t):0,o=!!n&&n.length>0&&n.map((e,t)=>{const n=Ye[e],a=$e[n];return i.a.createElement(p.c,{key:t,dangerouslySetInlineStyle:{__style:{marginRight:2}}},i.a.createElement(p.c,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${a})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}}))});return!!o&&i.a.createElement(d.b,{to:`/pin/${e}/`},i.a.createElement(p.c,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3},i.a.createElement(p.c,{display:"flex",direction:"row"},o),i.a.createElement(p.c,{paddingX:1},i.a.createElement(p.L,{size:"sm"},a))))},Qe=n("4Utz"),Ke=n("q7Wf");function Ze({feedbackType:e,pin:t}){const{pinner:n,source_interest:a}=t,{full_name:o,username:r}=n||{},{name:c}=a||{},l="topic"===e,s=!l&&"followed"===e,u=`/${r}/`,m=Object(Ke.g)(c),b=`/search/pins/?q=${encodeURIComponent(m)}&rs=image_only_attribution`,g=l?b:u,f={topic:R.a._("From {topic}","attribution on pin rep"),followed:R.a._("From {pinnerName}","attribution on pin rep"),pfyBoard:R.a._("Picked for you","attribution on pin rep"),pfy:R.a._("Picked for you","attribution on pin rep")}[e];if(!f)return null;if(s||l){const e=0===f.indexOf("{"),t=l?c:o,n=e?f.slice(f.indexOf("}")+1):f.slice(0,f.indexOf("{"));return e?i.a.createElement(p.c,null,i.a.createElement(d.b,{to:g},i.a.createElement(p.L,{weight:"bold",inline:!0,size:"sm",truncate:!0},t)),i.a.createElement(p.L,{inline:!0,size:"sm"},n)):i.a.createElement(p.c,null,i.a.createElement(p.L,{inline:!0,size:"sm"},n),i.a.createElement(d.b,{to:g},i.a.createElement(p.L,{color:"darkGray",weight:"bold",inline:!0,size:"sm",truncate:!0},t)))}return i.a.createElement(p.c,null,i.a.createElement(Qe.a,{pin:t},i.a.createElement(p.L,{color:"darkGray",overflow:"normal",size:"sm",weight:"bold"},f)))}var Je=n("Te6n"),et=n("US8k"),tt=n("oRao");function nt({pin:e}){const{isStoryPin:t,isVideo:n}=Object(E.a)(e),a=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:a}=t||{},{isStoryPin:i}=Object(E.a)(e);return!n||!i&&a?a:n}(e);if(!a)return null;const o=n?[{iconType:"play",displayText:R.a._("Video views","Label for views of a video pin on closeup page"),field:"video_views",align:"start"},{iconType:"clock",displayText:R.a._("Avg. time","Label for average time of a video pin on closeup page"),field:"video_average_time",align:"center",valueFormat:"TIME"},{iconType:"angled-pin",displayText:R.a._("Saves","Label for saves of a video pin on closeup page"),field:"save",align:"end"}]:[{iconType:"eye",displayText:R.a._("Impressions","Label for impressions of a pin on closeup page"),field:"impression",align:"start"},{iconType:"angled-pin",displayText:R.a._("Saves","Label for saves of a pin on closeup page"),field:"save",align:"center"},{iconType:"arrow-up-right",displayText:R.a._("Link clicks","Label for click-throughs of a pin on closeup page"),field:"clickthrough",iconSize:10,align:"end"}],r=(n||t)&&a.all_time?a.all_time:a["30d"];return r&&0!==Object.keys(r).length?i.a.createElement(p.c,{display:"flex"},o.map(({align:e,displayText:t,field:n,iconType:a,iconSize:o=12,valueFormat:c})=>i.a.createElement(p.c,{alignItems:"center",column:4,display:"flex",justifyContent:e,key:n},i.a.createElement(p.c,{display:"inlineBlock",marginRight:1},i.a.createElement(p.n,{accessibilityLabel:t,color:"darkGray",icon:a,size:o})),i.a.createElement(p.L,{inline:!0,size:"sm"},function(e,t="COUNT"){return Number.isInteger(e)?"TIME"===t?Object(et.a)(e):i.a.createElement(tt.a,{value:e,shortform:!0,shortformMaximumFractionDigits:1}):"-"}(r[n],c))))):null}var at=n("h4v/");function it(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var ot=n("4cpq"),rt=n("PVJQ");function ct({children:e,componentType:t,contextLogData:n,elementType:a,pin:o,surface:r,viewParameter:c,viewType:l}){const s=Object(F.b)(),{carousel_data:u,id:m,link:b,tracked_link:g}=o;let f,h=g||b,y="one-tap-desktop";if(u){const{carousel_slots:e=[],id:t,index:n}=u;e[n]&&e[n].link&&(h=e[n].link),f={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},y+="-carousel"}return i.a.createElement(p.c,{"data-test-id":"otpp"},i.a.createElement(ot.a,{id:y},i.a.createElement(d.b,{auxData:f,deeplinkUrls:Object(rt.m)(m),external:!0,onClick:()=>{const e=at.a.getInstance(),a=e.getViewFromContext();Object(ee.a)(12,{...n,view:l||s.viewType,viewParameter:c||s.viewParameter,component:t||s.componentType,objectId:m,grid_index:s.slotIndex,pin_id:m,prefetch_percentage_complete:it(b||"")}),Object(ee.a)(13,{closeup_navigation_type:"web_closeup",objectId:m,component:t||s.componentType,view:3,...s.contextLogData,...n}),e.addViewToContext(a)},pinId:m,style:{cursor:"pointer",display:"block"},surface:r,to:h||""},e)))}var lt=n("gC5q");function st(e){const{pin:t,surface:n}=e,{isOneTap:a}=Object(E.a)(t),o=a?ct:Qe.a;return i.a.createElement(o,Object.assign({surface:a?n:void 0},Object(lt.b)(e,["surface"])))}function dt(e){const{isProduct:t}=Object(E.a)(e);return t&&Object(y.b)(e)||""}var ut=n("Zxas");function mt({pin:e,singleLineMaxLength:t,surface:n}){const a=dt(e),o=Object(ut.a)(a,t),r=i.a.createElement(p.L,{color:"darkGray",overflow:"normal",size:"sm",weight:"normal"},o);return i.a.createElement(st,{pin:e,surface:n},r)}function pt({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:a,surface:o}){const r=e*a,c=Object(ut.a)(n,r);return i.a.createElement(st,{pin:t,surface:o},i.a.createElement(p.L,{color:"darkGray",overflow:"normal",size:"sm",weight:"bold"},c))}var bt=n("+tKw");const gt=1.8;function ft({pin:e,showGroupBoardAvatar:t,singleLineMaxLength:n,userNote:a}){const{pinner:o}=e;if(!o)return null;const{full_name:r,image_small_url:c}=o,l=gt*n,s=Object(ut.a)(a,l);return i.a.createElement(st,{pin:e},i.a.createElement(p.c,{alignItems:"center",display:"flex"},!t&&i.a.createElement(p.c,{flex:"none",marginEnd:2},i.a.createElement(p.a,{name:r,size:"sm",src:c})),i.a.createElement(p.c,{"data-test-id":"PinRep-UserNote"},i.a.createElement(p.L,{overflow:"normal",size:"sm"},i.a.createElement(bt.a,{text:s,options:{hashtags:{source:"hashtag_closeup"}}})))))}var ht=n("XLg/");const yt=Object(a.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),wt={container:{padding:"8px 6px 16px"},groupBoardContainer:{padding:"8px 6px 8px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${ht.a}ms ease`},visible:{opacity:1}}};var vt=Object(a.memo)((function({attributionType:e,blockClickEvents:t,feedbackData:n,feedbackType:a,hoverTransitionState:o,isDarkPromoter:r,pin:c,board:l,pinTitle:s,setForcePrimary:d,showAvatarAndNameOnLeft:u,showBoardActivityComments:m,showBoardActivityReply:b,showCarouselEllipsis:g,showGroupBoardAvatar:f,showOverflowMenu:h,showNativeReactions:y,showPinStats:w,showReactions:v,showSource:E,singleLineMaxLength:_,surface:O,titleLines:k,useLegoPadding:x,userNote:P}){const{board_activity:T,id:C}=c,S=s||E,I=S||P,{avatarUrl:j,attributionNameLink:L,name:B}=le(c);let R=null;"default"===e?R=i.a.createElement(ue,{feedbackData:n,feedbackType:a,pin:c,pinTitle:s,setForcePrimary:d,isDarkPromoter:r}):"image-only-credit"===e&&(R=i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:wt.imageOnlyAttribution["active"===o?"visible":"hidden"]}},i.a.createElement(Ze,{pin:c,feedbackType:a})));const D=i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:l&&l.is_collaborative&&x?wt.groupBoardContainer:wt.container}},g&&i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:S||f||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center"},i.a.createElement(p.c,{flex:"none"},i.a.createElement(De,{pinId:C}))),w&&i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%"},i.a.createElement(nt,{pin:c})),i.a.createElement(p.c,{display:"flex"},i.a.createElement(p.c,{flex:"grow"},I&&i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:"none"!==e||v?{marginBottom:"6px"}:{}}},i.a.createElement(pt,{numberOfLines:k,pin:c,pinTitle:s,singleLineMaxLength:_,surface:O}),E&&i.a.createElement(mt,{pin:c,singleLineMaxLength:_,surface:O}),P&&i.a.createElement(p.c,{marginTop:S?1:0},i.a.createElement(ft,{pin:c,showGroupBoardAvatar:f,singleLineMaxLength:_,userNote:P}))),i.a.createElement(p.c,{alignItems:"center",display:"flex"},i.a.createElement(p.c,{flex:"grow"},R),h&&i.a.createElement(p.c,{flex:"none"},i.a.createElement(Je.default,{feedbackData:n,feedbackType:a,pin:c,pinTitle:s,setForcePrimary:d,transparentBackground:!0}))),y&&!!c.reaction_counts&&i.a.createElement(p.c,null,i.a.createElement(Xe,{pinId:c.id,reactionCounts:c.reaction_counts})),u&&i.a.createElement(p.c,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1},i.a.createElement(ie,{attributionNameLink:L,avatarUrl:j,name:B}),i.a.createElement(p.c,{marginLeft:2,flex:"grow"},i.a.createElement(p.L,{size:"sm"},B)),i.a.createElement(p.c,null,i.a.createElement(M.a,null,i.a.createElement(yt,{pinId:c.id,board:l,activityId:T&&T.id||c.id,showReply:b,canShowComments:!m})))),v&&!u&&i.a.createElement(p.c,{position:"relative","data-test-id":"board-activity-reactions",minHeight:16},i.a.createElement(M.a,null,i.a.createElement(yt,{pinId:c.id,board:l,activityId:T&&T.id||c.id,showReply:b,canShowComments:!m})))),!u&&f&&i.a.createElement(p.c,{flex:"none",marginRight:1},i.a.createElement(ie,{attributionNameLink:L,avatarUrl:j,name:B}))),m&&i.a.createElement(Ie,{pin:c}));return t?i.a.createElement("div",{style:{pointerEvents:"none"}},D):Object(V.a)(D)})),Et=n("4+TC"),_t=n("XCz/");const Ot=Object(a.lazy)(()=>Promise.all([n.e(17),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),kt=Object(a.lazy)(()=>Promise.all([n.e(17),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),xt=Object(a.lazy)(()=>Promise.all([n.e(16),n.e(41),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),Pt=Object(a.lazy)(()=>Promise.all([n.e(16),n.e(17),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),Tt=Object(a.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),Ct=Object(a.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ewYc")));function St({derivedSaveButtonOptions:e,onToggleFlyout:t,onToggleModal:n,pin:o,board:r,showEditButton:c,showLikeButton:l,supportsReactionBar:s}){const[d,u]=Object(a.useState)(!1),{carousel_data:m,id:b,savedInfo:g}=o,f=Object(a.useRef)(!!g),{viewParameter:h,viewType:y}=Object(F.b)(),w=Object(U.a)(101,{element:0,objectId:b});let v=null;const E={onToggleModal:t,view:y,viewParameter:h,useLegoStyles:!0};if(!d)if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;v=i.a.createElement(p.c,{display:"flex",justifyContent:"end"},i.a.createElement(M.a,null,i.a.createElement(p.c,{"data-test-id":"pin-save-button"},Object(V.a)(i.a.createElement(xt,{icon:!1,onClickCallback:w,onToggleModal:n,oneTapSave:"controlled"===e.type&&e,pin:o,renderPinSaveTooltip:t,variant:"lego"})))))}else if("inline"===e.type){const a=o,{initialSelection:r,onSave:c,renderPinSaveTooltip:l}=e;v=i.a.createElement(M.a,null,i.a.createElement(p.c,{"data-test-id":"better-save"},Object(V.a)(i.a.createElement(Pt,{initialSelection:r,onSave:c,onToggleFlyout:t,onToggleModal:n,pin:a,renderPinSaveTooltip:l,renderSavedStatus:({savedInfo:e})=>e&&Object(V.a)(i.a.createElement(Et.a,{isNewlySaved:!f.current,name:e.title,url:e.url})),useMasonryFlyout:!0,variant:"lego-pin",viewParameter:h}))))}else"persistentOneClickSave"===e.type?v=i.a.createElement(M.a,null,i.a.createElement(p.c,{"data-test-id":"persistent-one-click-save"},Object(V.a)(i.a.createElement(kt,Object.assign({},E,{saveOptions:e,pin:o}))))):"promote"===e.type&&(v=i.a.createElement(p.c,{display:"flex",justifyContent:"end"},i.a.createElement(M.a,null,i.a.createElement(p.c,{"data-test-id":"pin-promote-button"},Object(V.a)(i.a.createElement(Ct,{pin:o}))))));let _=null;return c?_=i.a.createElement(M.a,null,Object(V.a)(i.a.createElement(p.c,{"data-test-id":"edit-button",display:"inlineBlock"},i.a.createElement(Ot,Object.assign({},E,{carouselSlotCurrentIndex:m&&m.index,component:0,pinId:b,style:{size:"sm"}}))))):l&&(_=i.a.createElement(M.a,null,i.a.createElement(p.c,{"data-test-id":"like-button"},i.a.createElement(_t.a,{name:"group_boards_reactions",activate:!1},({anyEnabled:e,customActivate:t})=>Object(V.a)(i.a.createElement(Tt,{pin:o,board:r,activateReactionsExperiment:t,inReactionsExperiment:e,onShowReactionsBar:()=>u(!0),onHideReactionsBar:()=>u(!1),supportsReactionBar:s,useLegoStyles:!0})))))),i.a.createElement(p.c,{display:"flex",margin:3},_&&i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{marginRight:"auto"}},flex:"grow"},_),v&&i.a.createElement(p.c,{marginLeft:"auto",flex:"grow"},v))}var It=n("7wXf"),jt=n("VJm5"),Lt=n("3qdF"),Bt=n("qhFy"),Rt=n("HOY+"),Dt=n("0SCs");const At=55;function Nt({allowImageCropping:e,autoplaySettingOff:t,blockClickEvents:n,cropHeight:o,cropWidth:r,isHovering:c,isSocialSeasonalBoard:l=!1,onError:s,onLoad:d,pin:u,resolution:m="default",rootMargin:b,showCarousel:g,showPromotedVideos:f,surface:h}){const{contextLogData:y,slotIndex:w,viewParameter:v,viewType:_}=Object(F.b)(),{anyEnabled:O}=Object(Dt.c)("web_closeup_shopping_unification"),{anyEnabled:k}=Object(Dt.c)("web_flashlight_shop_tab"),{id:x="",aggregated_pin_data:P,image_signature:T}=u,{pin_tags_chips:C}=P||{},{isVideo:S,isPromoted:I,isGif:j}=Object(E.a)(u);let L=null;if(t||!S||!f&&I)if(g)L=i.a.createElement(p.c,{"data-test-id":"pinrep-carousel"},i.a.createElement(jt.a,{cropHeight:o,cropWidth:r,onError:s,onLoad:d,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:x,showCarouselBadge:!1}));else{const t=e?function({images:e,image_crop:t}){const n=e&&e["236x"].height;if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e,max_y:a}=t;return{marginTop:`${e>0?-1*e*n:0}px`,marginBottom:`${a<1?Math.round(-1*(1-a)*n):0}px`}}return{}}(u):{};L=i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:t},"data-test-id":"pinrep-image",minHeight:At},i.a.createElement(Bt.a,{pin:u,highResOnly:"high-res"===m,mediumResOnly:"medium-res"===m,lowResOnly:"low-res"===m,onLoad:d,onError:s,cropHeight:o,cropWidth:r,animateGif:j&&l}))}else L=i.a.createElement(p.c,{"data-test-id":"pinrep-video"},i.a.createElement(Rt.a,{rootMargin:b,inAdsDesktopVideoExperiment:S&&f,pin:u,onLoad:d,viewType:_,viewParameter:v,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,onError:s,isExperimentalPinRep:!0}));const B=i.a.createElement(p.v,{wash:!0},L);if(n)return i.a.createElement(a.Fragment,null,B,C&&i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},i.a.createElement(Lt.a,{pin:u,enableCloseupLink:!0})));const{commerce_data:R}=y||{};return i.a.createElement(st,{contextLogData:{grid_index:w,image_signature:T,commerce_data:k||O?R:void 0},elementType:35,pin:u,surface:h},B,C&&i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},i.a.createElement(Lt.a,{pin:u,enableCloseupLink:!1})))}var Vt=n("tXBB");const Mt=60,Ft=40,Gt=60;function Ht(e){return e<Mt+Ft+Gt?"header-only":"none"}function zt(e){const[t,n]=Object(a.useState)(e.current?Ht(e.current.clientHeight||0):"none");return function(e,t){const n=Object(a.useRef)();Object(a.useEffect)(()=>{const a=e.current;if(!a)return;const i=n.current;i&&i.width===a.offsetWidth&&i.height===a.offsetHeight||(n.current={width:a.offsetWidth||0,height:a.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const a=Ht(e);a!==t&&n(a)}),t}const Ut=4e3;const Wt={impressed:{backgroundColor:"#adebad",opacity:.5}},qt=()=>void 0!==G.a.getQueryStringParams().debug_impression_log;function $t({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:Wt.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0},i.a.createElement(p.c,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray"},i.a.createElement(p.L,{size:"xl",color:"white"},t)))}var Yt=n("I7CA"),Xt=n("eqXv"),Qt=n("tMjw");const Kt={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:Qt.a,filter:"blur(20px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.4)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}},Zt=["followed","related","search"],Jt=["pfy","pfyBoard"];function en({feedbackType:e,isHomefeedControlPanelExp:t,pin:n}){const[o,r]=Object(a.useState)(!1),[c,l]=Object(a.useState)(!1);Object(a.useEffect)(()=>r(!0),[]);const s=()=>l(!0),{feedbackText:u,images:m,showFeedbackOverlay:b,undoAction:g,undoText:f}=n,h=m&&m["236x"].url,{image:y,subTitle:w,title:v,unfollow:E}=u,_=t&&!Zt.includes(e),O=Jt.includes(e);return i.a.createElement(p.c,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:Qt.a}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{borderRadius:Qt.a}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},h&&i.a.createElement(Yt.a,{additionalStyles:{...Kt.background.base,...o?Kt.background.blurred:{},backgroundImage:`url("${h}")`}}),h&&i.a.createElement(Yt.a,{additionalStyles:{...Kt.background.base,...o?Kt.background.blurred:{},backgroundImage:`url("${h}")`}}),i.a.createElement(Yt.a,{additionalStyles:{...Kt.backdrop.base,...o?Kt.backdrop.blurred:{}}})),i.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{...Kt.feedbackOverlayContainer.base,...!b&&o?Kt.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%"},i.a.createElement(p.c,{display:"flex",direction:"column",height:"100%",justifyContent:"between"},i.a.createElement(p.c,{className:"ObscuredOverlay","data-test-id":"PinFeedbackConfirmation",maxWidth:216},i.a.createElement(p.c,{marginBottom:2},i.a.createElement(p.L,{color:"white",size:"xl",weight:"bold"},v)),i.a.createElement(p.c,{display:"flex"},y&&i.a.createElement(p.c,{marginRight:3},i.a.createElement(p.v,{width:y.width,height:y.height,shape:"rounded",wash:!0},i.a.createElement(p.q,{alt:w||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:y.url||""}))),i.a.createElement(p.L,{color:"white",overflow:"normal"},w,_&&i.a.createElement(d.b,{className:"underlineLink",to:"/edit",onClick:()=>{Object(ee.a)(101,{view:1,viewParameter:92,element:11347})},style:Kt.navigateLinkStyle},R.a._(" Tune your home feed","Text on the button to navigate to homefeed control"))))),!g&&!c&&E&&!O&&i.a.createElement(p.d,{color:"white",onClick:()=>Object(Xt.a)(E.action,E.actionOptions,s),text:R.a._("Unfollow","Text on the button to unfollow a specific board / user")}),g&&i.a.createElement(p.d,{color:"white",onClick:g,text:f||R.a._("Undo","Text on the button to unfollow hiding a pin")}))))}var tn=n("DozZ");const nn=228;var an=Object(a.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:o=!1,footerProps:r,forcePrimaryContentVisibility:c,impressionsDebuggerProps:l,onError:s,onLoad:d,obscuredPinOverlayProps:u,pin:m,pinVisualProps:b,presentationProps:g,primaryContentProps:f,selectionState:h,secondaryContentProps:y,showAccessoryContent:w,showActionBar:v,showFooter:E,showImpressionsDebugger:_,showSignalDebugger:O,showObscuredPinOverlay:k,showPrimaryAndSecondaryContent:x,surface:P}){const{savedInfo:T}=m,{viewType:C}=Object(F.b)(),[S,I]=Object(a.useState)(!1),j=Object(ht.b)(S);let{isHovering:L,hoverTransitionState:B,handleMouseOver:R,handleMouseLeave:D}=function(){const[e,t]=Object(a.useState)(!1);return{isHovering:e,hoverTransitionState:Object(ht.b)(e,0,ht.a),handleMouseOver:Object(a.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(a.useCallback)(()=>t(!1),[t])}}();o&&(L=!1,B="inactive");const A=Object(ht.b)(!!T),N=Object(tn.c)(A),V=Object(tn.c)(B),M=Object(tn.c)(B),G=Object(tn.c)(j),H=Object(tn.c)(A),z={primaryContentVisibility:Object(tn.a)(M,G,H),secondaryContentVisibility:Object(tn.d)(Object(tn.a)(M,G,H)),actionBarVisibility:Object(tn.a)(M,G),accessoryContentVisibility:"none"},U=e=>I(e),W=e=>{I(e),e||D()};let q=null;c&&(z.primaryContentVisibility="visible"),"none"!==z.primaryContentVisibility&&x&&(q=i.a.createElement(St,Object.assign({pin:m,onToggleFlyout:U,onToggleModal:W},f)));let $=null;const Y=Object(a.useRef)(!0),X=Y.current;Y.current=!1;const Q=function(e,t){const{carousel_data:n}=e,{index:i}=n||{},[o,r]=Object(a.useState)(!n||t),c=Object(a.useRef)(i),l=Object(a.useRef)(null);if(n){const e=c.current;c.current=i,(i!==e||t)&&(l.current&&clearTimeout(l.current),r(!0),l.current=setTimeout(()=>{r(!1),l.current=null},Ut))}return Object(a.useEffect)(()=>()=>{l.current&&clearTimeout(l.current)},[]),o}(m,X),Z=Object(ht.b)(Q),J=Object(tn.c)(Z);z.secondaryContentVisibility=Object(tn.b)(z.secondaryContentVisibility,J),$=(y.allowShoppingPriceIndicator||"none"!==z.secondaryContentVisibility)&&x&&!n&&i.a.createElement(p.c,{margin:2},i.a.createElement(It.a,Object.assign({pin:m},y)));let ee=null;w&&(ee=i.a.createElement(ne,{pin:m}),z.accessoryContentVisibility=Object(tn.c)(B)),b.isSocialSeasonalBoard&&(e.showShareButton=!1);const te=v?i.a.createElement(K,Object.assign({onToggleFlyout:U,onToggleModal:W,pin:m,setForcePrimary:I,surface:P},e)):null;let ae=null;E&&(ae=i.a.createElement(vt,Object.assign({blockClickEvents:t,hoverTransitionState:"image-only-credit"===r.attributionType?B:null,pin:m,setForcePrimary:I,surface:P},r))),b.isSocialSeasonalBoard&&(ae=i.a.createElement(p.c,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%"},i.a.createElement(p.c,{margin:"auto",width:nn},i.a.createElement(Vt.a,{isFlyoutOpen:S,onFlyoutDismiss:()=>U(!S),onToggleFlyout:()=>U(!S),pinId:m.id,sendType:"pin",shownWithinMasonry:!0,viewType:C}))));const ie=_&&i.a.createElement($t,l),oe=O&&m.debug_info_html&&i.a.createElement(p.c,{paddingY:1},i.a.createElement("pre",null,m.debug_info_html)),re=Object(a.useRef)();"header-only"===zt(re)&&(z.actionBarVisibility="none",z.accessoryContentVisibility="none");const ce=k?i.a.createElement(en,Object.assign({pin:m},u)):null;return i.a.createElement("div",{onMouseOver:R,onMouseLeave:D,"data-test-id":"pin","data-test-pin-id":m.id},i.a.createElement(Qt.b,Object.assign({visualOverlayVisibility:V,savedOverlayVisibility:N,primaryContent:q,primaryContentVisibility:z.primaryContentVisibility,secondaryContent:$,secondaryContentVisibility:z.secondaryContentVisibility,accessoryContent:ee,accessoryContentVisibility:z.accessoryContentVisibility,actionBar:te,actionBarVisibility:z.actionBarVisibility,footer:ae,selectionState:h,debugContent:ie,signalDebuggerContent:oe,obscuredPinOverlay:ce},g),i.a.createElement(p.c,{ref:re},i.a.createElement(Nt,Object.assign({blockClickEvents:t,isHovering:L,onError:s,onLoad:d,pin:m,surface:P},b)))))})),on=n("v/Q4");const rn=["BrioCloseupRelatedProducts","CloseupRelatedProducts","UserProfilePinGrid"];function cn({attributionOption:e,board:t,boardActivityOptions:n,feedbackData:a,feedbackType:i,hasCarouselData:o,inChangeTitlesExp:r,isGroupBoard:c,isLegoGroupBoardsEnabled:l,isOwnBoard:s,pin:d,showAvatarAndNameOnLeft:u,showBoardActivityComments:m,showImageOnly:p,showNativeReactions:b,surface:g,viewerIsPartner:f}){const{isPromoted:h}=Object(E.a)(d),{promoter:y,unified_user_note:w}=d,v=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:a,showImageOnly:i,surface:o}){const{is_downstream_promotion:r,promoter:c}=a;if("promoted"===t||c&&!r)return"default";if(rn.includes(o))return"none";if(n)return"none";let l="default";return e&&("image-only"===e?l="image-only-credit":"hide"===e&&(l="none")),"followed"!==t||i?"none":l}({attributionOption:e,feedbackType:i,isGroupBoard:c,pin:d,showImageOnly:p,surface:g}),O=p?"":_({inChangeTitlesExp:r,isGroupBoard:c,pin:d,surface:g}),k=!h&&!p&&Boolean(dt(d)),x=r&&"BaseBoardPinGrid"===g&&!h&&w?w.trim():null,P=h;let T=2;h?T=3:(k||"none"!==v)&&(T=1);let C=c?25:30;["BrioCloseupRelatedProducts","CloseupRelatedProducts"].includes(g)&&(C=23);let I=!1;return"BaseBoardPinGrid"===g?I=s&&f:"UserProfilePinGrid"===g&&(I=f),{attributionType:v,feedbackData:a,feedbackType:i,isDarkPromoter:!h&&!!y,pinTitle:O,showAvatarAndNameOnLeft:u,showBoardActivityComments:m,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:o,showGroupBoardAvatar:c,showOverflowMenu:P,showPinStats:I,showReactions:(Boolean(t&&t.should_show_board_activity)||c)&&S.b.includes(g),showNativeReactions:b,showSource:k,singleLineMaxLength:C,titleLines:T,useLegoPadding:l||m,userNote:x,board:t}}var ln=n("0S8y");var sn=Object(o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},groupBoardGridComments:n,pins:a,ui:i},{pin:o,pinId:r}){const c=a[r]||o,l=c.board&&c.board.id,s=(l?t[`${l}`]:void 0)||c.board,d=i.app?i.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},u=Object(f.j)(r,d),{board_activity:m}=c;return{board:s,currentlyPlayingVideo:u,hasComments:!!(m&&m.id&&n&&n[m.id]&&n[m.id].length),isSocialSeasonalBoard:e,reduxPin:c,viewConfig:i.views}}),()=>({}))((function({allowImageCropping:e,blockClickEvents:t,attributionOption:n,board:o,boardActivityOptions:r,currentlyPlayingVideo:c,debugImpressionState:l,feedbackOptions:s,hasComments:d,imageOnlyOption:u,isSocialSeasonalBoard:m,reduxPin:p,resolution:b,saveButtonOptions:g,surface:f,trackingParameters:h,viewConfig:y,...w}){const{collaborated_by_me:v,collaborator_count:V,is_collaborative:M}=o||{},{pinner:G,showFeedback:H,is_quick_promotable:z}=p,U=Object(N.a)(p),W=Object(on.a)(),{slotIndex:q,viewParameter:$}=h,Y=Object(Le.d)(),X=new je.c(Y,"web_unified_description_both").enabled()||new je.c(Y,"web_unified_description_both_perf").enabledWithNoActivation(),Q=function(e){const t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images;return!!(t&&t.length>0)}(p),K=Object(A.a)(p)||Q,{anyEnabled:Z}=Object(Dt.a)("gb_web_lego_grid_change",o&&o.is_collaborative),J=!!o&&o.is_collaborative&&Z&&"FollowingFeedGrid"!==f,ee=!!o&&o.is_collaborative&&Z,te=W.isAuth&&W.isEmployee,ne=W.isAuth&&(Object(ln.c)({user:W})||Object(ln.d)({user:W}))&&!W.isPartner;let ae=ne;"default"!==u&&(ae="image-only"===u);let ie=n;ne&&(ie="image-only");const oe=function({feedbackOptions:e,pin:t,viewParameter:n}){const{board:a,pinner:i}=t,{getFeedbackType:o}=Object(B.a)({i18n:R.a,interpolateNamedTemplate:D.b});return o({board:a,feedback:e,pin:t,pinner:i,viewParameter:n})}({feedbackOptions:s,pin:p,viewParameter:$}),{data:re}=s||{},ce=V>0||M,le=function(e,t){const n=L[t];return!!n&&"dense"===e[n]}(y,f),se=ce&&"BaseBoardPinGrid"===f,de=function(e,t){const n=e&&e.owner&&e.owner.id;return t.isAuth&&n===t.id}(o,W),ue=Boolean(W.isAuth&&G&&G.id===W.id),me=v||ce&&de,pe=W.isAuth&&W.isPartner,be=!["EngagementDetails","BoardCreateUpsell"].includes(f),ge=Object(a.useMemo)(()=>(function({isDenseView:e,isGroupBoard:t,isOwnBoard:n,isOwnPin:a,isQuickPromotable:i,isRemovable:o,saveButtonOptions:r,surface:c,viewer:l,viewerIsCollaborator:s,board:d}){const u=l.isAuth?l.boardCount:void 0;let m=r||function(e=0){return e<2?{type:"classic"}:{type:"inline"}}(u);return i?m={type:"promote"}:n&&"HomefeedMoreIdeasTabs"===c?m={type:"persistentOneClickSave"}:(s||n||["BrioCloseupRelatedProducts","UserProfilePinGrid"].includes(c))&&(m={type:"classic"}),o&&(m={type:"none"}),{derivedSaveButtonOptions:m,showEditButton:n&&!t||a&&"UserProfilePinGrid"===c,showLikeButton:s&&t&&S.b.includes(c),supportsReactionBar:!e,board:d}})({isDenseView:le,isGroupBoard:se,isOwnBoard:de,isOwnPin:ue,isQuickPromotable:z,isRemovable:U,saveButtonOptions:g,surface:f,viewer:W,viewerIsCollaborator:me,board:o}),[se,de,ue,z,U,g,f,W,o]),fe=new je.a(Y,"web_board_price_pill"),he=fe.getGroup();let ye=!1;"BaseBoardPinGrid"===f&&(["employees","enabled","control"].includes(he)?(fe.getGroup(!0),ye=["employees","enabled"].includes(he)):(de||v)&&(fe.getGroup(!0),ye="enabled_own"===he));const{group:we}=Object(Dt.c)("web_closeup_shopping_unification"),{group:ve}=Object(Dt.c)("web_flashlight_shop_tab"),Ee=["employees","enabled_mvp","enabled_tabs"].includes(we)||["employees","enabled"].includes(ve),_e=Object(a.useMemo)(()=>(function({allowPricePillOnBoard:e=!1,allowProductCarousel:t=!1,allowPricePillOnVisualProducts:n=!1,surface:a}){return{allowProductCarousel:t,allowShoppingPriceIndicator:I.includes(a)||e&&"BaseBoardPinGrid"===a||n&&"VisualProductsShopTab"===a}})({allowPricePillOnBoard:ye,allowProductCarousel:Q,allowPricePillOnVisualProducts:Ee,surface:f}),[Q,f]),Oe=K,ke=!["EngagementDetails","BoardCreateUpsell"].includes(f),xe=Object(a.useMemo)(()=>(function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,inChangeTitlesExp:a,isDenseView:i,isGroupBoard:o,isOwnBoard:r,pin:c,surface:l}){const{isOwnPin:s,isPromoted:d}=Object(E.a)(c);let u="default";return i&&(u=o?"icon-only":"truncated-text"),{actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,pinTitle:_({inChangeTitlesExp:a,isGroupBoard:o,pin:c,surface:l}),showEditButton:o&&s,showOverflowMenu:!(d||r||o||O.includes(l)),showShareButton:!["BrioCloseupRelatedProducts","CloseupRelatedProducts"].includes(l),sourceLinkStyle:u,useDenseGroupBoardLayout:o&&i}})({actionBarEditBeforeShare:ee,feedbackData:re,feedbackType:oe,inChangeTitlesExp:X,isDenseView:le,isGroupBoard:se,isOwnBoard:de,pin:p,surface:f}),[re,oe,le,se,de,p,f]),{anyEnabled:Pe}=Object(Dt.a)("gb_web_exposed_comment",!!(o&&o.is_collaborative&&"BaseBoardPinGrid"===f&&d)),{anyEnabled:Te}=Object(Dt.a)("web_video_reactions",Object(Ae.c)(p)),Ce=Object(a.useMemo)(()=>cn({attributionOption:ie,board:o,boardActivityOptions:r,feedbackData:re,feedbackType:oe,hasCarouselData:K,inChangeTitlesExp:X,isGroupBoard:se,isLegoGroupBoardsEnabled:Z,isOwnBoard:de,pin:p,showAvatarAndNameOnLeft:J,showBoardActivityComments:Pe,showImageOnly:ae,showNativeReactions:Te,surface:f,viewerIsPartner:pe}),[ie,o,r,re,oe,K,X,se,Z,de,p,J,Pe,ae,f,pe]);let Se=Boolean(Ce.pinTitle)||Ce.userNote||Ce.showSource||"none"!==Ce.attributionType||Ce.showNativeReactions||se;"BaseBoardPinGrid"===f&&de&&pe?Se=!0:"EngagementDetails"===f?Se=!1:le?Se=!1:m&&(Se=!1);const Ie=Boolean(H),{isPromoted:Be}=Object(E.a)(p),Re=new je.c(Y,"web_others_board_feed_ads_border"),De={showNoPinBorderRadius:"TopicBestPinNarrow"===f||"TopicBestPinWide"===f,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===f&&Be&&Re.enabled()},Ne=new je.c(Y,"web_homefeed_control_panel_nag").enabledWithNoActivation(),Ve=new je.c(Y,"web_homefeed_control_panel_pin_feedback"),Me=Ie?{feedbackType:oe,isHomefeedControlPanelExp:Ne||Ve.enabled()}:void 0,Fe=new je.c(Y,"ads_desktop_video_ads").enabledWithNoActivation(),Ge=Object(a.useMemo)(()=>(function({allowImageCropping:e=!0,hasCarouselData:t,isSocialSeasonalBoard:n,resolution:a="default",showPromotedVideos:i,surface:o}){let r,c;"CloseupRelatedProducts"===o?(r=T.d,c=T.c):"BrioCloseupRelatedProducts"===o?(r=T.b,c=T.a):"UpdatedCloseupRelatedProducts"===o?(r=T.r,c=T.q):"TopicBestPinWide"===o?(r=C.h,c=C.g):"TopicBestPinNarrow"===o&&(r=C.d,c=C.c);const l=x(o);return{allowImageCropping:e,autoplaySettingOff:"undefined"!=typeof window&&0===P.c.getItem(k.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),cropHeight:c,cropWidth:r,isSocialSeasonalBoard:n,resolution:a,rootMargin:l,showCarousel:t,showPromotedVideos:i}})({allowImageCropping:e,hasCarouselData:K,isSocialSeasonalBoard:m,resolution:b,showPromotedVideos:Fe,surface:f}),[e,K,m,b,Fe,f]),He=te&&qt(),ze=Object(a.useMemo)(()=>({debugImpressionState:l,slotIndex:q}),[l,q]);return i.a.createElement(j.a,{name:"PinRepConfiguration"},i.a.createElement(F.a,{value:h},i.a.createElement(an,Object.assign({actionBarProps:xe,blockClickEvents:t,currentlyPlayingVideo:c,footerProps:Ce,forcePrimaryContentVisibility:["ExplorePossibilitiesPersistent","HomefeedMoreIdeasTabs","SearchItemPersistentOneClickSave"].includes(f),impressionsDebuggerProps:ze,obscuredPinOverlayProps:Me,pin:p,pinVisualProps:Ge,presentationProps:De,primaryContentProps:ge,secondaryContentProps:_e,showPrimaryAndSecondaryContent:be,showAccessoryContent:Oe,showActionBar:ke,showFooter:Se,showImpressionsDebugger:He,showSignalDebugger:te,showObscuredPinOverlay:Ie,surface:f},Object(lt.b)(w,["pinId"])))))}));var dn=Object(o.connect)((function({pins:e,location:t},{pin:n,pinId:a}){return{location:t,reduxPin:e[a]||n}}),()=>({}))((function({blockClickEvents:e,location:t,reduxPin:n,trackingParameters:o,...d}){const u=Object(r.a)(n,t),m=Object(c.a)(n),p=!!(m&&m.url&&m.height&&m.width)||void 0,b=m&&n.videos?n.videos.id:void 0,[h,w]=Object(a.useState)(!1),v=Object(a.useCallback)(()=>w(!0),[]),E=Object(a.useCallback)(()=>w(!1),[]),{componentType:_,contextLogData:O,impressionAuxFields:k,slotIndex:x,viewData:P,viewParameter:T,viewType:C}=o;return i.a.createElement(l.a,{componentType:_,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(s.b)(window)}:{},...O,...Object(y.a)(n,O)},loggingId:n.id,impressionAuxFields:{...k||{},isNativeVideoAndWatchable:p,videoIdStr:b,clientTrackingParams:u||`${n.tracking_params||""}-0`,imageURL:n.images&&n.images["236x"].url,richTypes:Object(y.c)(n)},impressionType:"Pin",isPaused:!h,slotIndex:x,viewData:P,viewParameter:T,viewType:C},Object(f.h)(n)?i.a.createElement(g,{pin:n}):i.a.createElement(sn,Object.assign({},d,{blockClickEvents:e,debugImpressionState:h?"started":"paused",onError:E,onLoad:v,pin:n,trackingParameters:{componentType:_,contextLogData:O,slotIndex:x,viewParameter:T,viewType:C}})))}));t.a=function({forceOldPinRep:e,...t}){return e?i.a.createElement(v,t):i.a.createElement(dn,function(e){const t={};if(t.allowImageCropping=e.truncatePinHeight,t.disableHover=e.hideHover,t.feedbackOptions=e.feedback,t.saveButtonOptions=e.saveOptions,t.blockClickEvents=e.blockClickEvents,t.pin=e.pin,t.pinId=e.pin.id,t.imageOnlyOption="default","boolean"==typeof e.showImageOnly&&(t.imageOnlyOption=e.showImageOnly?"image-only":"not-image-only"),t.boardActivityOptions="default",!1===e.showPinReactionsReply&&(t.boardActivityOptions="no-reply"),t.onError=e.onError,t.onLoad=e.onLoad,t.trackingParameters={componentType:e.componentType,contextLogData:e.contextLogData,impressionAuxFields:e.impressionAuxFields,slotIndex:e.slotIndex,viewData:e.viewData,viewParameter:e.viewParameter,viewType:e.viewType},t.resolution="default",e.highResOnly?t.resolution="high-res":e.lowResOnly?t.resolution="low-res":e.mediumResOnly&&(t.resolution="medium-res"),void 0!==e.selection){const n={NO_SELECTION:"no-selection",SELECTED:"selected",UNSELECTED:"deselected"};t.selectionState=n[e.selection]}return t.attributionOption=null,e.showCredits||!1===e.hideAttribution?t.attributionOption="show":(e.hideAttribution||!1===e.showCredits)&&(t.attributionOption="hide"),t.surface=e.surface,t}(t))}},"4Utz":function(e,t,n){n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n.n(a),o=n("3gA6"),r=n("PVJQ"),c=n("0nTG"),l=n("NtFK"),s=n("U4JR"),d=n("gD/Z");function u({additionalStyles:e={},children:t,collageChipId:n,componentType:a,contextLogData:u,elementType:m,pin:p,viewParameter:b,viewType:g}){const f=Object(d.b)(),{carousel_data:h,id:y}=p;let w,v=`/pin/${n||y}/`;if(h){const{carousel_slots:e=[],id:t,index:n}=h;v=`/pin/${y}/`,w={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}w={...w||{},...Object(c.a)(p,u)||{}};return i.a.createElement(o.b,{auxData:w,deeplinkUrls:Object(r.m)(y),forceRefresh:1,onClick:()=>{Object(l.g)(13),Object(s.a)(101,{...u,component:a||f.componentType,element:m,objectId:y,view:g||f.viewType,viewParameter:b||f.viewParameter,...Object(c.a)(p,u)||{}})},pinId:y,style:{cursor:"zoom-in",display:"block",...e},to:v},t)}},5871:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("E/VT"),c=n("R6wO"),l=n("1Fta"),s=n("Ye/N"),d=n("3gA6"),u=n("hFNL"),m=n("fArA"),p=n("XCz/"),b=n("pSsd"),g=n("vvax"),f=n("0bYG"),h=n("U4JR"),y=n("dtw8"),w=n("DJoW"),v=n("n6mq"),E=n("eqXv");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O={color:"white",textDecorationColor:"white"};t.a=Object(m.compose)(Object(o.connect)(),y.withRouter)(class extends i.a.Component{constructor(e){super(e),_(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:a,promoter:i,recommendationReason:o,sourceInterest:r}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:a,promoter:i,recommendationReason:o,sourceInterest:r})}),_(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:a}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,c;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",c=`/${n.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",c=a&&a.board&&a.board.url||e.url),o?i.a.createElement(v.c,{marginStart:3,flex:"none",dangerouslySetInlineStyle:{__style:{borderRadius:r}},overflow:"hidden"},i.a.createElement(v.Q,{onTouch:()=>this.props.router.push(c)},i.a.createElement(v.v,{width:40,height:40,wash:!0},i.a.createElement(v.q,{src:o,naturalHeight:1,naturalWidth:1,alt:"",fit:"cover"})))):null}),_(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:a}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:a})}),_(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?s.a._("Follow again","Caption for button to undo a unfollowing of a topic"):""),_(this,"generateUndoHideCallback",(e,t)=>()=>{const{dispatch:n,pinId:a,viewType:i,viewParameter:o}=this.props,r={...e,undo:!0};let c=t;"unfollowPinner"===t?c="followPinner":"unfollowBoard"===t?c="followBoard":"unfollowTopic"===t&&(c="followTopic"),Object(E.a)(c,r),n(Object(w.b)(a)),Object(h.a)(101,{component:0,element:11181,view:i,viewParameter:o})}),_(this,"feedbackHelpers",Object(l.a)({i18n:s.a,interpolateNamedTemplate:g.b})),_(this,"makeNavigateLink",(e,t,n,a)=>{const o={display:"inline",...a?O:{}};return i.a.createElement(d.b,{className:"underlineLink",key:e,to:t,onClick:this.props.onLinkClick},i.a.createElement(v.c,{dangerouslySetInlineStyle:{__style:o}},n))}),_(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:s.a._("Report Pin","Report a pin in the dropdown"),description:s.a._("This goes against Pinterest's community guidelines","Description for the report pin option"),callback:this.props.reportPin})),_(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:a,recommendationReason:i}=this.props,o="search"===n?973:982,{action:r,actionOptions:c}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:a,recommendationReasonId:i&&i.reason&&f.ReasonToChoose[i.reason],pinFeedbackType:"pfy"===n?4:10,throughId:i&&this.getThroughId()}),l=s.a._("Hide Pin","message displayed in pin feedback list");return{action:r,actionOptions:c,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:s.a._("See fewer Pins like this","Description for the hide pin option"),elementType:o}}),_(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:a}=this.props,{board:i,reason:o}=a,r=o&&f.ReasonToChoose[o],c=a&&this.getThroughId(),l="pfyBoard"===t,{action:d,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:r,pinFeedbackType:l?2:4,throughId:c}),m=!!i&&this.makeNavigateLink("boardUrl",i.url,i.name,!0);return{action:d,actionOptions:u,feedbackText:{subTitle:l&&i?Object(g.b)(s.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:m}):s.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin")},text:l&&i?Object(g.b)(s.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:i.name}):s.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),_(this,"unfollowBoardOption",()=>{const{board:e}=this.props,t=this.makeNavigateLink("boardUrl",e.url,e.name,!0),n=Object(g.b)(s.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:e.name}),a=Object(g.b)(s.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:e.id},feedbackText:{title:"",subTitle:a},text:n,description:Object(g.b)(s.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:e.name}),elementType:10614}}),_(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:a}=e,i=`/topics/${a}`,o=this.makeNavigateLink("topicUrl",i,n,!0),r=Object(g.b)(s.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),c=Object(g.b)(s.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"),{formattedTopic:o});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:b.a},feedbackText:{title:"",subTitle:c},text:r,description:Object(g.b)(s.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),_(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:a}=e,i=`/${n}`,o=this.makeNavigateLink("pinnerUrl",i,a,!0);return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(g.b)(s.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user"),{formattedUser:o})},text:Object(g.b)(s.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:a}),description:s.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),_(this,"downloadPinOption",()=>({action:"downloadPin",text:s.a._("Download image","Button to download Pin image"),elementType:10836})),_(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:a}=this.props,i="followed"===this.props.feedbackType,o=e.pathname.includes("following"),r=(i||"topic"===t)&&!o,c=this.hidePinOption(r),l=this.reportPinOption(),d="promoted"!==t&&!n;switch(t){case"followed":const e=o,n=!e&&this.getRecommendationDescription(),i=a.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[c,...r||e?[i]:[],..."promoted"!==t?[this.downloadPinOption()]:[],l]};case"promoted":const{ad_match_reason:u}=this.props,m=[c,{link:this.feedbackHelpers.getLearnMoreUrl(u),text:s.a._("Why am I seeing this ad?","Link to promoted pins explanation page")},l];return{description:this.getRecommendationDescription(),options:m};case"topic":const p=this.unfollowTopicOption(),b=[c,...r&&p?[p]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:b};case"pfy":case"pfyBoard":const g=[c,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:g};default:const f=[c,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:f}}}),_(this,"handleSecondaryFeedbackItemClick",(e,t)=>{const{feedbackData:n,feedbackType:a,pinId:i,onHide:o,recommendationReason:r}=this.props,c=r&&r.reason&&f.ReasonToChoose[r.reason],l=r&&this.getThroughId(),{action:s,actionOptions:d}=this.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:a,pinId:i,recommendationReasonId:c,throughId:l,complaintReason:e});this.handleClickLogging(t),Object(E.a)(s,d),o()}),_(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:s.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin")}}),_(this,"renderSecondaryFeedbackItem",({text:e,reason:t,elementType:n})=>i.a.createElement(v.Q,{onTouch:()=>this.handleSecondaryFeedbackItemClick(t,n),fullWidth:!1,key:e},i.a.createElement(c.a,{text:e,compact:!0}))),_(this,"renderSecondaryFeedback",()=>{const{feedbackType:e}=this.props,t="promoted"===e?[{text:s.a._("Not relevant to me","Feedback option for Pin"),reason:10,elementType:1296},{text:s.a._("Seen Pin too many times",""),reason:3,elementType:11172},{text:s.a._("Blurry or pixelated image","low quality picture"),reason:13,elementType:10898}]:[{text:s.a._("Not relevant to me","Feedback option for Pin"),reason:10,elementType:1296},{text:s.a._("Not in a language I understand",""),reason:15,elementType:11178},{text:s.a._("Seen Pin too many times",""),reason:3,elementType:295},{text:s.a._("Blurry or pixelated image","low quality picture"),reason:13,elementType:10898},{text:s.a._("Other",""),reason:8,elementType:11179}];return i.a.createElement(v.c,{overflow:"hidden",width:"100%",shape:"rounded"},i.a.createElement(v.c,{paddingX:4,paddingY:4},i.a.createElement(v.L,{color:"darkGray",size:"sm"},s.a._("Got a moment? Tell us why.","Title of follow up question after negative Pin feedback"))),i.a.createElement(v.j,null),i.a.createElement(v.c,{paddingY:2},t.map(this.renderSecondaryFeedbackItem)))});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(E.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,a){const{dispatch:i,onHide:o,pinId:r}=this.props;i(t&&n&&a?Object(w.e)(r,e,this.generateUndoHideCallback(n,a),this.getUndoText(a)):Object(w.a)(r,e)),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?o():(this.setState({showSecondary:!0}),i(Object(w.d)(r)))}getThroughId(){const{recommendationReason:e}=this.props;return e.reason_id?e.reason_id:e.board?e.board.id:e.pin?e.pin.id:e.interest?e.interest.id:""}getComponentType(){const{feedbackType:e}=this.props;switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}makeStrongText(e,t){return i.a.createElement("strong",{key:e},t)}handleClickLogging(e,t={}){const{viewParameter:n,viewType:a}=this.props;Object(h.a)(101,{...t,view:a,viewParameter:n,element:e,component:this.getComponentType()})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t}=this.props,{pinFeedbackConfig:n}=this.state,{options:a}=n,o=[],l=a.length;for(let m=0;m<l;m+=1){const n=a[m],l=E.b.includes(n.action),b=n.callback?n.callback:()=>this.onPinHide(n.feedbackText,l,n.actionOptions,n.action);if("downloadPin"!==n.action)o.push(i.a.createElement(v.c,{key:m},n.link?i.a.createElement(d.b,{external:!0,to:n.link},i.a.createElement(c.a,{text:n.text,compact:!0})):i.a.createElement(v.Q,{onTouch:({event:e})=>this.onPinFeedbackActionButtonClick(e,n,b),fullWidth:!1},i.a.createElement(c.a,{text:n.text,compact:!0}))));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(u.b)(window)){const{bestPinImgSrc:e,pinTitle:n,pinDescription:a,pinCategory:l}=this.props;o.push(i.a.createElement(v.c,{key:m},i.a.createElement(p.a,{name:"web_hide_overflow_menu_on_download",activate:!1},({customActivate:o})=>i.a.createElement(r.a,{imgSrc:e,filename:n||a,category:l,imageDownloadSuccessCallback:()=>{!!o&&o().includes("enabled")&&t&&t()}},e=>i.a.createElement(v.Q,{onTouch:e,fullWidth:!1},i.a.createElement(c.a,{text:s.a._("Download image","Button to download Pin image"),compact:!0}))))))}}return o}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{description:n}=e,a=this.getRecommendationDescriptionImage();return i.a.createElement(v.c,{overflow:"hidden",width:"100%"},t?this.renderSecondaryFeedback():i.a.createElement(v.c,null,n&&i.a.createElement(v.c,null,i.a.createElement(v.c,{padding:4,display:"flex",alignItems:"center"},i.a.createElement(v.c,{maxHeight:56,overflow:"hidden"},i.a.createElement(v.L,{color:"darkGray",size:"sm",overflow:"normal"},n)),a),i.a.createElement(v.j,null)),i.a.createElement(v.c,{marginTop:2,marginBottom:3},this.renderButtons())))}})},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return a}));const a={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"63p3":function(e,t,n){function a(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,"a",(function(){return a}))},"7wXf":function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n.n(a),o=n("ynlw"),r=n("EDqd"),c=n("US8k"),l=n("n6mq");const s={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function d(e){return i.a.createElement(l.c,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:s},"data-test-id":"PinTypeIdentifier"},e)}function u({pin:e,allowProductCarousel:t,allowShoppingPriceIndicator:n}){const a=Object(o.a)(e);if(a.isGif)return d("GIF");if(a.isStoryPin)return d("Story");if(a.isVideo){const t=e.videos,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return d(Object(c.a)(n))}if(a.isProduct&&n){const t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary,n=t&&(t.price||t.max_price);return n?d(n):null}if(t){const t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&Object(r.a)(e.images,t,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:a=[],index:i=0}=n;return d(`${i+1}/${a.length}`)}if(a.isCarousel){const t=e.carousel_data||{},{carousel_slots:n=[],index:a=0}=t;return d(`${a+1}/${n.length}`)}return null}},"8BHY":function(e,t,n){var a=n("q1tI"),i=n.n(a);const o={backgroundColor:"rgba(0, 0, 0, .06)"},r={backgroundColor:"rgba(51, 51, 51, 1.0)"},c={backgroundColor:"rgba(255, 255, 255, 1.0)"},l={backgroundColor:"rgba(239, 239, 239, 1.0)"},s={backgroundColor:"rgba(142 ,142, 142, 1.0)"},d={backgroundColor:"rgba(230, 0, 35, 1.0)"};var u={transparent:{backgroundColor:"transparent"},transparentDarkGray:{backgroundColor:"rgba(51, 51, 51, .8)"},transparentHovered:o,transparentFocused:o,transparentActive:{backgroundColor:"rgba(0, 0, 0, .1)"},transparentDarkGrayHovered:r,transparentDarkGrayFocused:r,transparentDarkGrayActive:{backgroundColor:"rgba(51, 51, 51, 1.0)"},white:{backgroundColor:"rgba(255, 255, 255, .9)"},whiteHovered:c,whiteFocused:c,whiteActive:{backgroundColor:"rgba(255, 255, 255, 1.0)"},lightGray:{backgroundColor:"rgba(239, 239, 239, .9)"},lightGrayHovered:l,lightGrayFocused:l,lightGrayActive:{backgroundColor:"rgba(239, 239, 239, 1.0)"},gray:{color:"rgba(142 ,142, 142, .9)"},grayHovered:s,grayFocused:s,grayActive:{backgroundColor:"rgba(142 ,142, 142, 1.0)"},red:{backgroundColor:"rgba(230, 0, 35, .9)"},redActive:d,redFocused:d,redHovered:d},m=n("n6mq");const p={xs:24,sm:32,md:40,lg:48,xl:56},b={alignItems:"center",borderRadius:"50%",display:"flex",justifyContent:"center"},g={boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)",outline:0},f={transparent:"gray",gray:"white",lightGray:"gray",white:"gray",transparentDarkGray:"white",red:"white"};function h(e){const{active:t=!1,bgColor:n="transparent",focused:a=!1,hovered:o=!1,icon:r,iconColor:c=f[n],size:l="md",title:s=""}=e,d=e.iconSize||p[l]/2,h={height:p[l],width:p[l]},y={...b,...u[n],...t?u[`${n}Active`]:{},...a?g:{},...a?u[`${n}Focused`]:{},...!o||a||t?{}:u[`${n}Active`]};return i.a.createElement("div",{style:{...h,...y}},i.a.createElement(m.c,{shape:"circle"},i.a.createElement(m.n,{accessibilityLabel:"",color:c,icon:r,size:d,title:s})))}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return w}));class w extends i.a.Component{constructor(...e){super(...e),y(this,"state",{active:!1,focused:!1,hovered:!1}),y(this,"handleBlur",()=>this.setState({focused:!1})),y(this,"handleFocus",()=>{this.setState({focused:!0})}),y(this,"handleMouseDown",()=>{this.setState({active:!0})}),y(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),y(this,"handleMouseLeave",()=>{this.setState({active:!1,hovered:!1})}),y(this,"handleMouseUp",()=>{this.setState({active:!1})})}render(){const{accessibilityExpanded:e,accessibilityHaspopup:t,accessibilityLabel:n,bgColor:a,disabled:o,icon:r,iconColor:c,iconSize:l,onClick:s,size:d,wrappingPogStyle:u}=this.props,{active:m,focused:p,hovered:b}=this.state;return i.a.createElement("button",{"aria-expanded":e,"aria-haspopup":t,"aria-label":n,className:"LegoGestalt_IconButton",disabled:o,onBlur:this.handleBlur,onClick:e=>s&&s({event:e}),onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,title:n,type:"button"},i.a.createElement("div",{style:{...u||{}}},i.a.createElement(h,{active:m,bgColor:a,focused:p,hovered:b,icon:r,iconColor:c,iconSize:l,size:d,title:n})))}}},DJoW:function(e,t,n){function a(e,t,n,a){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:a}}}function i(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function o(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function r(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return c}))},DozZ:function(e,t,n){function a(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function i(e){return"none"===e?"visible":"visible"===e?"none":"hidden"}function o(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}function r(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},"E/VT":function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n("BlMG"),o=n("n6mq");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{constructor(...e){super(...e),r(this,"state",{href:void 0}),r(this,"onEvent",()=>{if("undefined"==typeof window)return;const{imgSrc:e,isUnauth:t,category:n,imageDownloadSuccessCallback:a}=this.props,{href:o}=this.state;null==o&&fetch(e,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>a&&a()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(i.a)(`web.${t?"unauth":"auth"}.download.click.${n||"no_category"}`)}),r(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,i=null!=n&&n!==this.DOWNLOAD_ERROR;return a.createElement(a.Fragment,null,e(this.onEvent),i&&a.createElement(o.c,{display:"none"},a.createElement("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})))}}},ExRq:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("uVIr"),i=n("eOdZ"),o=n("qUSw"),r=n("i9se");const c={[r.a.BOARD]:"BoardActivityResource",[r.a.BOARD_ACTIVITY]:"BoardActivityCommentResource",[r.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityNestedCommentResource"},l={[r.a.BOARD]:"boardId",[r.a.BOARD_ACTIVITY]:"activityId",[r.a.BOARD_ACTIVITY_COMMENT]:"activityId"};function s({contentMarkdown:e,imageSignatures:t,objectIds:n,parentId:s,parentType:d,text:u,tags:m,replyToCommentId:p}){return b=>{const g=c[d],f={[l[d]]:s,contentMarkdown:e,imageSignatures:t,objectIds:n,tags:m,text:u,replyToCommentId:p},h=r.b[d],y=d!==r.a.BOARD_ACTIVITY_COMMENT;return i.a.create(g,f).callCreate({showError:!0}).then(e=>{const t=e.resource_response.data;return b(function(e,t){return{type:"ACTIVITY_ITEM_CREATED",payload:{parentId:e,activityItem:t}}}(s,t)),b(Object(a.a)({feedId:s,feedType:h,itemIds:[t.id],itemType:t.type,prepend:y})),b(Object(o.b)(s)),e})}}},GsvW:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return s}));var a=n("Ye/N");const i=656,o=464,r=60,c=170,l=e=>{const t=new Date(e),n=(new Date).getTime()-t.getTime();return Math.floor(n/1e3)<60?a.a._("now","timestamp for a comment or post that was created within the last minute"):a.a.getHumanizedTimesince(e,{isAbbreviated:!0})},s=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>r?t.substring(0,r).trim().concat("..."):t}},I7CA:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a),o=n("n6mq");function r({children:e,additionalStyles:t={}}){return i.a.createElement(o.c,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}}},e)}},R6wO:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),o=n("n6mq");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class l extends a.PureComponent{constructor(...e){super(...e),r(this,"state",{hovered:!1}),r(this,"handleMouseEnter",e=>this.setState({hovered:!0})),r(this,"handleMouseLeave",e=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:a,compact:r}=this.props,l=Array.isArray(n)?n.join(""):n;return i.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.a.createElement(o.c,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",display:"flex",direction:"row",overflow:"hidden",paddingX:4,paddingY:2,marginStart:-1,marginEnd:-1,title:l},!r&&t&&i.a.createElement(o.c,{flex:"none",padding:1},"unfollow"===t?i.a.createElement(o.n,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:c,size:16}):i.a.createElement(o.n,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})),i.a.createElement(o.c,{flex:"grow",display:"flex",direction:r?"row":"column",padding:1,width:"100%",alignItems:r?"center":"start"},i.a.createElement(o.L,{color:"darkGray",size:r?"sm":"md",weight:e?"bold":"normal"},n),i.a.createElement(o.c,{display:"flex",alignItems:"center"},!r&&a&&i.a.createElement(o.c,{marginTop:1},i.a.createElement(o.L,{color:"darkGray",overflow:"normal"},a))))))}}r(l,"defaultProps",{bold:!0})},T5j3:function(e,t,n){function a(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function i(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function o(e){const{videos:t,is_downstream_promotion:n,is_promoted:a,story_pin_data_id:i,board:o}=e;return!(a||n||(!t||!t.id)&&!i||o&&o.is_collaborative)}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}))},Te6n:function(e,t,n){n.r(t),n.d(t,"OverflowMenu",(function(){return v}));var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("ENn1"),c=n("jCsw"),l=n("Ye/N"),s=n("8BHY"),d=n("5871"),u=n("Zxas"),m=n("kVqD"),p=n("YxyV"),b=n("DJoW"),g=n("Y8Sn"),f=n("gD/Z"),h=n("n6mq");const y=50,w=60;function v({feedbackData:e,feedbackType:t,hidePinFeedbackOverlay:n,isHomefeedContextualMenuTooltipExperience:o,pin:b,pinTitle:v,setForcePrimary:E,transparentBackground:_}){const{slotIndex:O,viewParameter:k,viewType:x}=Object(f.b)(),[P,T]=Object(a.useState)(!1),[C,S]=Object(a.useState)(),{ad_match_reason:I,board:j,category:L,description:B,id:R="",images:D,is_promoted:A,pinner:N,promoter:V,recommendation_reason:M,source_interest:F,videos:G}=b;var H;const z=(H=A?w:y,function(e=""){return Object(u.a)(e.trim(),H)})(B),U=Object(c.a)(D,"236x"),W=Object(g.i)(G),q=Object(m.a)(101,{component:0,element:981,feedback_type:t,objectId:R}),$=()=>{E(!1),n(),T(!1)},Y=1===O&&o;return i.a.createElement(a.Fragment,null,i.a.createElement(h.c,{"data-test-id":"feedback-button",ref:S},i.a.createElement(s.a,{accessibilityLabel:l.a._("More information","accessibility label for overflow menu button"),bgColor:_?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",iconSize:12,onClick:({event:e})=>{P?$():(E(!0),T(!0)),q()},size:"sm"})),P&&i.a.createElement(h.s,null,i.a.createElement(h.k,{anchor:C,idealDirection:"right",onDismiss:$,positionRelativeToAnchor:!1,size:"md"},i.a.createElement(d.a,{ad_match_reason:I,bestPinImgSrc:Object(p.h)(b),board:j,feedbackData:e,feedbackType:t,hideDownload:W,isHomefeedContextualMenuTooltip:Y,onLinkClick:()=>{P&&$()},onHide:$,onDownloadHideFlyout:()=>{E(!1),T(!1)},pinCategory:L,pinDescription:z,pinId:R,pinImgSrc:U,pinner:N,pinTitle:v,promoter:V,recommendationReason:M,reportPin:Object(r.a)({pin:b,viewParameter:k,viewType:x}),sourceInterest:F,viewParameter:k,viewType:x}))))}t.default=Object(o.connect)((function({experiences:e}){return{isHomefeedContextualMenuTooltipExperience:e&&e.eligibleExperiences&&e.eligibleExperiences[1000116]&&501093===e.eligibleExperiences[1000116].experience_id}}),(function(e,{pin:t}){return{hidePinFeedbackOverlay:()=>{e(Object(b.c)(t.id))}}}))(v)},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/wow-c68810b1.svg"},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/haha-43062cb9.svg"},"XLg/":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("q1tI");const i=120;function o(e,t,n){e.current&&clearTimeout(e.current),e.current=null,n&&(t?e.current=setTimeout(n,t):n())}function r(e,t=0,n=i){const r=Object(a.useRef)(),c=Object(a.useRef)(e),[l,s]=Object(a.useState)(e?"active":"inactive");return e!==c.current&&(e?"inactive"===l?(s("starting"),o(r,t,()=>{s("active")})):"ending"===l&&(s("active"),o(r)):"active"===l?(s("ending"),o(r,n,()=>{s("inactive")})):"starting"===l&&(s("inactive"),o(r))),Object(a.useEffect)(()=>()=>o(r),[]),c.current=e,l}},Zygf:function(e,t,n){function a(e){return Boolean(e.promoted_is_removable)}n.d(t,"a",(function(){return a}))},eqXv:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n("eOdZ");const i=()=>{};const o={complaint:function(e,t){a.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},enablePFY:function(e,t){a.a.create("PFYPreferenceResource",e).callCreate().then(()=>t())},followBoard:function(e,t){a.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){a.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){a.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){a.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){a.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){a.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},unfollowBoard:function(e,t){a.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){a.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){a.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){a.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function c(e,t,n=i){const a=o[e];return a?a(t,n):n()}},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("1dBE");const{Provider:i,Consumer:o,useHook:r}=Object(a.c)("trackingParametersContext")},jCsw:function(e,t,n){function a(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return a}))},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/thanks-57f4c785.svg"},jkxn:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n.n(a);function o(e){return i.a.createElement("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"}},e)}},kVqD:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("U4JR"),o=n("gD/Z");function r(e,t){const{componentType:n,contextLogData:r,viewParameter:c,viewType:l}=Object(o.b)();return Object(a.useCallback)(()=>{Object(i.a)(e,{component:n,view:l,viewParameter:c,...r,...t||{}})},[e,n,r,c,l])}},"mVz+":function(e,t,n){n.d(t,"m",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"n",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"p",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return v}));const a=171,i=85,o=40,r=20,c=4,l=106,s=133,d=16,u=5,m=1.25,p=.1,b=10,g=246,f=197,h=206,y=165,w=295,v=236},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/goodIdea-cb4b8beb.svg"},ou9u:function(e,t,n){function a(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return a}))},qUSw:function(e,t,n){function a(e,t){return{type:"UPDATE_ACTIVITY_ITEM_COMMENT_COUNT",payload:{increment:t,id:e}}}function i(e){return a(e,!1)}function o(e){return a(e,!0)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},tMjw:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("I7CA"),r=n("vcEN"),c=n("n6mq");const l={SELECTED:"#e60023",NOT_SELECTED:"#efefef"};function s({selected:e=!1}){return i.a.createElement(c.c,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?l.SELECTED:l.NOT_SELECTED,borderRadius:d,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}}})}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));const d=16,u={wrapper:{borderRadius:d,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, 0.33)"}};function m({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:a,primaryContentVisibility:l="none",secondaryContent:d,secondaryContentVisibility:m="none",accessoryContent:p,accessoryContentVisibility:b="none",actionBar:g,actionBarVisibility:f="none",footer:h,selectionState:y="no-selection",debugContent:w,signalDebuggerContent:v,obscuredPinOverlay:E,showNoPinBorderRadius:_,showPromotedPinBorderTreatment:O}){return i.a.createElement(c.c,{dangerouslySetInlineStyle:{__style:O?u.promotedPinBorderTreatment:{}}},i.a.createElement(c.c,{dangerouslySetInlineStyle:{__style:_?{}:u.wrapper},"data-test-id":"pinWrapper",overflow:"hidden",position:"relative"},"no-selection"!==y&&i.a.createElement(s,{selected:"selected"===y}),i.a.createElement(c.c,{dangerouslySetInlineStyle:{__style:_?{}:u.wrapper},overflow:"hidden",position:"relative"},e,i.a.createElement(r.a,{visibility:n},i.a.createElement(o.a,{additionalStyles:u.visualOverlay})),i.a.createElement(r.a,{visibility:t},i.a.createElement(o.a,{additionalStyles:u.savedOverlay})),p&&i.a.createElement(r.a,{visibility:b},i.a.createElement(o.a,null,p)),d&&i.a.createElement(r.a,{visibility:m},i.a.createElement(o.a,null,d)),a&&i.a.createElement(r.a,{visibility:l},i.a.createElement(o.a,null,a)),g&&i.a.createElement(r.a,{visibility:f},i.a.createElement(o.a,null,i.a.createElement(c.c,{position:"absolute",left:!0,right:!0,bottom:!0},g))),w&&i.a.createElement(o.a,null,w),v),h,E&&i.a.createElement(c.c,null,E)))}},uDSo:function(e,t,n){n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d}));const a=424,i=800,o=976,r=508,c=424,l=278,s=640,d=508},uVIr:function(e,t,n){function a(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,"a",(function(){return a}))},"v/Q4":function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("/MKj");function i(){return Object(a.useSelector)(({viewer:e})=>e)}},vcEN:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),o=n("n6mq"),r=n("XLg/");function c(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function l({children:e,fadeInDuration:t=0,fadeOutDuration:n=r.a,visibility:a}){return"none"!==a&&e?i.a.createElement(o.c,{dangerouslySetInlineStyle:{__style:c(t,n)[a]}},e):null}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/love-ea9221bd.svg"},ynlw:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("63p3"),i=n("Y8Sn");const o=()=>({isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isStoryPin:!1,isVideo:!1});function r(e){const{access:t,attribution:n,buyable_product:r,embed:c,is_eligible_for_web_closeup:l,rich_summary:s,story_pin_data_id:d,videos:u}=e,m=o();Object(a.a)(e)&&(m.isCarousel=!0),l&&(m.isOneTap=!0),Object(i.i)(u)&&(m.isVideo=!0);const p=c||n&&n.embed||null;return p&&"gif"===p.type&&(m.isGif=!0),(r||s&&"product"===s.type_name)&&(m.isProduct=!0),s&&"recipe"===s.type_name&&(m.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(m.isPromoted=!0),(t||[]).includes("write")&&(m.isOwnPin=!0),d&&(m.isStoryPin=!0),m}}}]);
//# sourceMappingURL=pjs-4-01ae846a3a5da2f9652c.mjs.map
