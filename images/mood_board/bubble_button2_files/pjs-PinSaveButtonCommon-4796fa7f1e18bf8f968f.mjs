(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinSaveButtonCommon"],{"0BOE":function(e,t,n){n.d(t,"a",(function(){return o}));const r={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},a=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=r[e.charAt(n)]||e.charAt(n);return t},o=(e,t,n="name")=>{const r=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),r=e.split(" ");let o=0;for(let i=0;i<r.length;i+=1){(a(r[i]).includes(n[o])||r[i].includes(n[o]))&&(o+=1)}return o===n.length})(e[n].toLowerCase(),r))}},"5FNA":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("qtKf"),a=n("Pqnw"),o=n("Wer7");const i=["alphabetical","last_pinned_to","oldest","newest","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,mixPublicSecret:t,username:n})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",username:n,page_size:25,group_by:t?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},c=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),l=e=>i.reduce((t,n)=>{const i=[Object(a.a)("profileBoards",Object(r.c)(e,n))];return[!0,!1].forEach(t=>{i.push(Object(o.f)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t})))}),t.concat(i)},[])},"8cMa":function(e,t,n){var r=n("q1tI"),a=n("Ye/N"),o=n("n6mq");t.a=function({type:e}){const t={group:{accessibilityLabel:a.a._("group board","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:a.a._("protected board","Board picker protected board icon"),icon:"lock"},secret:{accessibilityLabel:a.a._("secret board","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:a.a._("board with sections","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:a.a._("board with sections","Board picker board with sections icon"),icon:"arrow-down"}}[e];return r.createElement(o.c,{marginLeft:1},r.createElement(o.c,{marginStart:2},"sections"===e||"sectionsInline"===e?r.createElement(o.n,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):r.createElement(o.n,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})))}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return i}));const r={row:0,section:0},a={row:-1,section:-1},o=()=>void 0;class i{constructor(e){this.index=Object.assign({},r),this.sections=e,this.updateCallback=o,this.selectItem=o}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===a.row&&t===a.section?this.index=Object.assign({},r):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===a.row&&t===a.section)this.index=Object.assign({},r);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},a),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},IBrh:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),a=n("i8i4"),o=n.n(a),i=n("mEMi"),s=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends r.Component{constructor(e,t){super(e,t),c(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),c(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),c(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),c(this,"handleMouseEnter",e=>({event:t})=>{const{disabled:n,indexManager:r}=this.props;n||r.updateIndex(e)}),c(this,"handleMouseLeave",({event:e})=>{const{disabled:t,indexManager:n}=this.props;t||n.setInactive()}),c(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:a}=this.state,{row:o,section:i}=a||{},{customProps:c={},items:l,renderItem:d}=e,{isDisabled:u=(e=>!1)}=c,h=t===i,p=d||n;return p&&l.map((e,n)=>{const a=u(e),i={section:t,row:n},l=h&&n===o;return r.createElement("div",{"data-test-id":"board-selection",key:n,ref:!a&&l&&this.setSelectedItemRef},a?p({item:e,hovered:l,sectionProps:c}):r.createElement(s.Q,{onMouseEnter:this.handleMouseEnter(i),onMouseLeave:this.handleMouseLeave,onTouch:this.handleSelectItem(e),fullWidth:!1,shape:"rounded"},p({item:e,hovered:l,sectionProps:c})))})}),c(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>r.createElement(s.c,{key:n},e&&e(t,n),this.renderItems(t,n)))});const{indexManager:n}=this.props;this.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=o.a.findDOMNode(this.selectedItemRef);if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),r=n.top,a=n.bottom,i=t.getBoundingClientRect(),s=i.top;a>=i.bottom?e.scrollIntoView(!1):r<=s&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return r.createElement(i.a,{fetchMore:n},({setRef:n,onScroll:a})=>r.createElement(s.c,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:a,overflow:"auto",ref:e=>{this.containerRef=e,n(e)}},this.renderSections()))}}},MhBu:function(e,t,n){function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return r}))},NdQN:function(e,t,n){var r=n("q1tI"),a=n.n(r),o=n("i8i4"),i=n.n(o),s=n("JW66"),c=n("Ye/N"),l=(n("9QW3"),n("n6mq"));t.a=class extends r.Component{constructor(...e){var t,n,r;super(...e),r=e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case s.a.KeyCode.ENTER:case s.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case s.a.KeyCode.UP:e.preventDefault(),n.prev();break;case s.a.KeyCode.DOWN:e.preventDefault(),n.next()}},(n="handleKeyDown")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const e=this._input;if(e){const t=i.a.findDOMNode(e);if(t instanceof HTMLElement){const e=t.querySelector("input");e&&e.focus()}}}render(){const{onChange:e,value:t}=this.props;return a.a.createElement("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"}},a.a.createElement(l.E,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:c.a._("Search","search bar placeholder text"),ref:e=>{this._input=e},value:t}))}}},NjDU:function(e,t,n){function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function a(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function i(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}))},Nlx5:function(e,t,n){n.d(t,"a",(function(){return p}));var r=n("q1tI");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=32,i=100;let s=null,c=!1;const l=[],d=()=>{s&&clearTimeout(s),c=!0,s=setTimeout(()=>{c=!1},i)},u=e=>{0===l.length&&window.addEventListener("scroll",d),l.push(e)},h=e=>{const t=l.indexOf(e);l.splice(t,1),0===l.length&&window.removeEventListener("scroll",d)};function p(e){return class extends r.Component{constructor(...e){super(...e),a(this,"state",{isHovering:!1}),a(this,"handlers",{onMouseOver:()=>this._setHover(!0),onMouseLeave:()=>this._setHover(!1)})}componentDidMount(){u(this)}componentWillUnmount(){this.hoverTimer&&clearTimeout(this.hoverTimer),h(this)}_setHover(e){this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=e&&c?setTimeout(()=>this._setHover(e),i):setTimeout(()=>{e!==this.state.isHovering&&this.setState({isHovering:e})},o)}render(){return r.createElement(e,Object.assign({},this.props,{hoverHandlers:this.handlers,isHovering:this.state.isHovering}))}}}},Pqnw:function(e,t,n){function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return r}))},Wrea:function(e,t,n){n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("Wer7");const a=(e,t)=>n=>n(Object(r.a)("BoardResource",{board_id:e,field_set_key:t})),o=e=>a(e,"pin_count"),i=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),c=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},gONw:function(e,t,n){var r=n("q1tI"),a=n.n(r),o=n("n6mq");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends r.Component{constructor(...e){super(...e),i(this,"state",{isHovering:!1}),i(this,"onHover",()=>{this.setState({isHovering:!0})}),i(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:r}=this.props;return r?a.a.createElement(o.c,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover},a.a.createElement(o.c,null,a.a.createElement(o.v,{height:40,width:40,shape:"rounded"},this.state.isHovering&&n?a.a.createElement(o.q,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):a.a.createElement(o.c,{color:"lightGray",height:40,width:40}))),a.a.createElement(o.c,{padding:2},a.a.createElement(o.L,{size:"xl",weight:"bold"},e))):a.a.createElement(o.c,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2},a.a.createElement(o.c,null,a.a.createElement(o.n,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})),a.a.createElement(o.c,{marginLeft:3},a.a.createElement(o.L,{color:t?"darkGray":"gray",size:"lg",weight:"bold"},e)))}}var c=n("Ye/N"),l=n("NtFK"),d=n("U4JR"),u=n("zLLH");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=-1;t.a=Object(u.c)({name:"BoardTitleSuggestionsResource",options:({pinId:e})=>({pin_id:e}),key:"boards"})(class extends r.Component{constructor(e){super(e),h(this,"_processSuggestions",e=>e&&e.length?e.map(e=>e.title):[]),h(this,"handleClick",e=>{const{suggestedBoardsNames:t}=this.state,{onBoardSelected:n}=this.props;n(t[e],!1),Object(d.a)(101,{component:13025,element:23})}),h(this,"handleMouseEnter",e=>{this.setState({selectedIndex:e})}),h(this,"handleMouseLeave",()=>{this.setState({selectedIndex:p})}),h(this,"renderSuggestionRow",(e,t)=>{const n=this.state.selectedIndex===t;return a.a.createElement("li",{key:t},a.a.createElement(o.Q,{onTouch:()=>this.handleClick(t),onMouseEnter:()=>this.handleMouseEnter(t),onMouseLeave:this.handleMouseLeave},a.a.createElement(s,{selected:n,name:e,inFlyoutExp:this.props.inFlyoutExp,image:this.props.image})))}),this.state={selectedIndex:p,suggestedBoardsNames:this._processSuggestions(e.boards.data)}}UNSAFE_componentWillReceiveProps(e){this.setState({suggestedBoardsNames:this._processSuggestions(e.boards.data)})}componentDidUpdate(e){const{inFirstBoardCreateGestaltExp:t,boards:n}=this.props;!e.boards.isLoaded&&n.isLoaded&&t&&this.setPWTLoadingEnd()}setPWTLoadingEnd(){Object(l.h)(16,{error:!!this.props.error})}renderGestaltBoardSuggestionList(){const{suggestedBoardsNames:e}=this.state;c.a._("Suggested board names","text above suggested board names list");return a.a.createElement(o.c,null,a.a.createElement(o.c,{marginTop:5,marginLeft:6,marginBottom:3},a.a.createElement(o.L,{size:"md"},c.a._("Suggested board names"))),a.a.createElement("ul",null,e.map(this.renderSuggestionRow)))}renderPreviewBoardSuggestionList(){const{suggestedBoardsNames:e}=this.state;return a.a.createElement("div",null,a.a.createElement("ul",null,e.map(this.renderSuggestionRow)))}render(){const{inFirstBoardCreateGestaltExp:e,inFlyoutExp:t,minHeight:n,boards:r}=this.props,{suggestedBoardsNames:i}=this.state;return r.isLoaded?i&&i.length?t?this.renderPreviewBoardSuggestionList():e?this.renderGestaltBoardSuggestionList():a.a.createElement(o.c,null,a.a.createElement(o.c,{marginTop:2,paddingX:5},a.a.createElement(o.L,null,c.a._("Suggested board names"))),a.a.createElement("ul",null,i.map(this.renderSuggestionRow))):null:a.a.createElement(o.c,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:n||""},a.a.createElement(o.H,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions"),show:!0}))}})},jdx6:function(e,t,n){n.d(t,"b",(function(){return c}));var r=n("q1tI"),a=n("8cMa"),o=n("JW66"),i=n("Ye/N"),s=n("n6mq");function c(e,t){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,a,o)=>{if(n.length>0&&e&&e.length){const i=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(r.createElement("em",{key:o,style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"}},t.substring(i,i+e.length)),a)}return[a]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:l,isSelectMode:d,isWithinSectionPicker:u,saveState:h,searchQuery:p,selected:m,size:g="md"}=e,b=l?null:n,f=l?n:null,_=f&&f.title||b&&b.name||"";let E="",y=!1,v="",S=0;b&&({image_cover_url:E,is_collaborative:y,privacy:v,section_count:S=0}=b);const I=c(p,_),w=v===o.a.BoardPrivacy.SECRET,x=!t&&(m||!!h),L=!u&&S>0,B=S>0?"boardWithSection":"boardWithoutSection",O=d?i.a._("Select","Board select button label"):i.a._("Save","Pin save button label");return r.createElement(s.c,{alignItems:"center",color:x?"lightGray":"white",display:"flex",paddingX:"lg"===g?4:6,paddingY:2,"data-test-id":B},r.createElement(s.c,{height:"lg"===g?40:36,width:"lg"===g?40:36,color:"lightGray",overflow:"hidden",shape:"rounded",marginRight:2,flex:"none"},E?r.createElement(s.q,{src:E,alt:_,fit:"cover",naturalWidth:1,naturalHeight:1}):r.createElement("span",null)),r.createElement(s.c,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow"},r.createElement(s.L,{color:t?"gray":"darkGray",size:"lg"===g?"xl":"md",truncate:!0,weight:"bold"},I),(L||!x)&&r.createElement(s.c,{alignItems:"center",display:"flex"},w&&r.createElement(a.a,{type:"secret"}),y&&r.createElement(a.a,{type:"group"}),L&&r.createElement(a.a,{type:"sections"})),!L&&x&&!h&&r.createElement(s.c,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,dangerouslySetInlineStyle:{__style:{borderRadius:"4px"}}},!d&&r.createElement(s.c,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},r.createElement(s.n,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})),r.createElement(s.L,{color:"white",overflow:"normal",size:"sm",weight:"bold"},O)),!L&&x&&"loading"===h&&r.createElement(s.c,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35},r.createElement(s.H,{accessibilityLabel:i.a._("Saving","Accessibility label for saving a pin to a board"),show:!0}))))}},mEMi:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI"),a=n.n(r),o=n("DzJC"),i=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=200,l=({scrollTop:e,clientHeight:t,scrollHeight:n},r)=>{return e+t+(r?r(t):2*t)>n};class d extends a.a.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",e=>{this.containerRef=e}),s(this,"fetchMoreIfNecessary",i()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&l(this.containerRef,t)&&e()},c))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},oN2T:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"l",(function(){return _})),n.d(t,"g",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return S})),n.d(t,"k",(function(){return I})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return x})),n.d(t,"e",(function(){return L}));var r=n("4dcN"),a=n("Pqnw"),o=n("7w6Q"),i=n("eOdZ"),s=n("KFEb"),c=n("5FNA"),l=n("NjDU"),d=n("Wer7");const u="board_create",h="board_delete",p="board_edit";function m(e,t){return Object(d.a)("BoardResource",{board_id:e,field_set_key:t})}function g(){return(e,t)=>{const{viewer:n}=t();n.isAuth&&Object(c.b)(n.username).forEach(t=>{e(t)})}}function b(e){const t={...e};return n=>(n({type:"BOARD_CREATE",payload:{board:e}}),i.a.create("BoardResource",t).callCreate().then(e=>{r.a.trackEvent(u,"success");const a=e.resource_response.data;return a&&(n(g()),n(function(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}(t,a))),a}).catch(e=>{throw r.a.trackEvent(u,"error"),e}))}function f(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function _(e){return t=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},a={board_id:e.id,name:e.name,description:e.description,category:e.category,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...n};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:a}}),i.a.create("BoardResource",a).callUpdate().then(n=>{r.a.trackEvent(p,"success");const o=n&&n.resource_response&&n.resource_response.data||e;t(f(a,o))}).catch(e=>{throw r.a.trackEvent(p,"error"),e})}}function E(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function y(e){return(t,n)=>{const a=n().boards.content[e],{pin_count:o}=a,{id:s}=a.owner;return t({type:"BOARD_DELETE",payload:{boardId:e}}),i.a.create("BoardResource",{board_id:e}).callDelete().then(()=>{r.a.trackEvent(h,"error"),t(E(e)),t(Object(l.b)({userId:s,increment:-o}))}).catch(e=>{throw r.a.trackEvent(h,"error"),e})}}function v(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function S(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callUpdate())}function I(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callDelete())}function w(e,t){return n=>i.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([n(E(e)),n(m(t,"pin_count")),n(Object(a.a)(s.a.BOARD_SECTIONS,t))]))}function x(e,t){return n=>i.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then(e=>{if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}const r=e.resource_response.data||{},a=(r.model||{}).custom_properties||{},{campaign_id:i="unknown"}=a,s=r.display_data||{},c={isSocialSeasonalBoard:!!r.display_data,socialHeaderBgImage:s.header_image,socialHeaderBgColor:s.header_background_color,textIconColor:s.text_icon_color};return o.a.increment(`web.seasonal_board.${i}.${t}.land`),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:c})})}function L(){return e=>{return e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}}},qyR9:function(e,t,n){var r=n("q1tI"),a=n.n(r),o=n("jdx6"),i=n("gONw"),s=n("Ye/N"),c=n("Nlx5"),l=n("n6mq");var d=Object(c.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:a,hasHoverState:o,hoverHandlers:i,name:c,onClick:d}=e,u=c||t||s.a._("Create board");return r.createElement(l.Q,{onMouseEnter:i.onMouseOver,onMouseLeave:i.onMouseLeave,onTouch:d},r.createElement(l.c,{alignItems:"center",color:o&&n?"lightGray":"white",display:"flex",flex:a?"shrink":"none",height:64,width:"100%"},r.createElement(l.c,{marginLeft:6,marginRight:3,"data-test-id":"createBoardButton"},r.createElement(l.n,{accessibilityLabel:s.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})),c?r.createElement(l.c,{margin:1},r.createElement(l.L,{inline:!0,overflow:"normal",__dangerouslyIncreaseLineHeight:!0}," ",s.a._("Create: ")," ")):null,r.createElement(l.L,{__dangerouslyIncreaseLineHeight:!0,align:"center",inline:!0,truncate:!0,weight:"bold"}," ",u," ")))})),u=n("9QW3"),h=n("NdQN"),p=n("NtFK"),m=n("IBrh");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return f}));const b="",f=2;t.b=class extends r.Component{constructor(...e){super(...e),g(this,"state",{searchQuery:b}),g(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),g(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),g(this,"renderSectionHeader",(e,t)=>e.title?a.a.createElement(l.c,null,t>0&&a.a.createElement(l.j,null),a.a.createElement(l.c,{deprecatedPadding:{x:3,y:1}},a.a.createElement(l.L,{size:"sm"},e.title))):null),g(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:r,isSelectMode:i,disabledRowId:s}=this.props,{searchQuery:c}=this.state,{inSectionSelection:l=!1}=n,d=r&&r.board===e.id?r&&r.state:null,u="board_section"===e.type;return a.a.createElement(o.a,{isSelectMode:i,disabled:e.id===s&&l,item:e,isSection:u,isWithinSectionPicker:l,saveState:d,searchQuery:c,selected:t,size:"md"})})}componentDidUpdate(e){!e.isLoaded&&this.props.isLoaded&&this.setPWTLoadingEnd()}setPWTLoadingEnd(){Object(p.h)(16,{error:this.props.hasLoadError})}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:r,isLoaded:o,onCreate:c,pinId:p}=this.props;if(o){const{searchQuery:o}=this.state,s=r(o);return this.indexManager=new u.a(s.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),a.a.createElement(l.c,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}}},!n&&a.a.createElement(l.c,null,a.a.createElement(l.c,{paddingX:6,marginBottom:4,marginTop:1},a.a.createElement(h.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:o})),a.a.createElement(l.j,null)),a.a.createElement(m.a,{disabled:!!e,grow:!n&&!o,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:s}),a.a.createElement(l.j,null),c&&a.a.createElement(d,{buttonLabel:t,hasHoverState:!0,name:o,onClick:()=>c(o)}),n&&p&&a.a.createElement(i.a,{onBoardSelected:c,pinId:p}))}return a.a.createElement(l.c,{deprecatedPadding:{y:5}},a.a.createElement(l.H,{accessibilityLabel:s.a._("loading section picker","accessibility label for the loading spinner the repin picker"),show:!0}))}}}}]);
//# sourceMappingURL=pjs-PinSaveButtonCommon-4796fa7f1e18bf8f968f.mjs.map
