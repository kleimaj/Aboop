(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[3],{"+tKw":function(e,t,n){var i=n("q1tI"),a=n("Y+p1"),r=n.n(a),o=n("3gA6");const s="__HashtagFlag__",l=4,c=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,d=(e,t)=>`/search/pins/?q=${encodeURIComponent(e)}&rs=${t}`;n.d(t,"a",(function(){return p}));const u={hashtags:function(e,t){const n=t.appendText||"",a=t.source||"hashtag_pinrep";let r=[];const u=[],p={};let m=0;const h=e=>(t,n)=>{if(t===s&&u.length){const t=u.shift();return m+=1,i.createElement(o.b,{to:d(t,a),key:`hashtag-${e}.${n}`},i.createElement("span",{className:"pinHashtag"},t))}return t};for(let i=0;i<e.length;i+=1){const t=e[i];if("string"==typeof t){const e=t.replace(c,e=>(u.push(e),p[e]=!0,s)).split(new RegExp(`(${s})`)).map(h(i));r=[...r,...e]}else r.push(t)}const g=[];return n&&n.replace(c,(e,t)=>(!p[e]&&m<l&&(m+=1,g.push(i.createElement("span",{key:"appended"+t}," ",i.createElement(o.b,{to:d(e,a)},i.createElement("span",{className:"pinHashtag"},e)))),p[e]=!0),e)),r=[...r,...g]}};class p extends i.Component{shouldComponentUpdate(e){return!r()(this.props,e)}render(){const{text:e,options:t}=this.props;if("string"==typeof e&&""===e.trim())return e;let n=[e];for(const i of Object.keys(u))if(i in t){n=(0,u[i])(n,t[i])}return i.createElement("span",null,n)}}},"/90Z":function(e,t,n){var i=n("q1tI");function a({color:e="#333",height:t}){const n=14*t/10;return i.createElement("svg",{width:n,height:t,viewBox:"3 3 18 18",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fill:e,d:"M20.571 8.573h-3.428V12h1.714v1.715h-1.714v3.428h-1.714V6.86h5.142v1.714zM12 17.144V6.86h1.714v10.285H12zm-1.714-8.571H5.143v6.857H8.57v-1.714H6.857V12h3.429v5.143H3.429V6.86h6.857v1.714zM5.143 3.43A5.143 5.143 0 0 0 0 8.573v6.857a5.143 5.143 0 0 0 5.143 5.143h13.714A5.143 5.143 0 0 0 24 15.43V8.573a5.143 5.143 0 0 0-5.143-5.143H5.143z"}))}var r=n("Ye/N"),o=n("nj6m"),s=n("zLLH"),l=n("n6mq");const c=20,d=12,u=1,p="M21,17.6119404 L21,9.15332448 C21,7.0136795 20.7772185,6.23779253 20.3588815,5.45557032 C19.9405445,4.67334809 19.3266519,4.05945552 18.5444297,3.64111848 C17.7622075,3.22278146 16.9863205,3 14.8466755,3 L6.3880595,3 C6.46224202,2.80834445 6.54669936,2.63211874 6.64111848,2.45557032 C7.05945552,1.67334809 7.67334809,1.05945552 8.45557032,0.64111848 C9.23779253,0.222781464 10.0136795,0 12.1533245,0 L17.8466755,0 C19.9863205,0 20.7622075,0.222781464 21.5444297,0.64111848 C22.3266519,1.05945552 22.9405445,1.67334809 23.3588815,2.45557032 C23.7772185,3.23779253 24,4.0136795 24,6.15332448 L24,11.8466755 C24,13.9863205 23.7772185,14.7622075 23.3588815,15.5444297 C22.9405445,16.3266519 22.3266519,16.9405445 21.5444297,17.3588815 C21.3678813,17.4533006 21.1916556,17.5377581 21,17.6119404 Z M6.15332448,6 L11.8466755,6 C13.9863205,6 14.7622075,6.22278146 15.5444297,6.64111848 C16.3266519,7.05945552 16.9405445,7.67334809 17.3588815,8.45557032 C17.7772185,9.23779253 18,10.0136795 18,12.1533245 L18,17.8466755 C18,19.9863204 17.7772185,20.7622075 17.3588815,21.5444297 C16.9405445,22.3266518 16.3266519,22.9405445 15.5444297,23.3588815 C14.7622075,23.7772186 13.9863205,24 11.8466755,24 L6.15332448,24 C4.0136795,24 3.23779253,23.7772186 2.45557032,23.3588815 C1.67334809,22.9405445 1.05945551,22.3266518 0.64111849,21.5444297 C0.222781467,20.7622075 0,19.9863204 0,17.8466755 L0,12.1533245 C0,10.0136795 0.222781467,9.23779253 0.64111849,8.45557032 C1.05945551,7.67334809 1.67334809,7.05945552 2.45557032,6.64111848 C3.23779253,6.22278146 4.0136795,6 6.15332448,6 Z";var m=Object(s.c)({name:"PinResource",key:"detailedPin",options:({pinId:e})=>({id:e,field_set_key:"detailed"})})((function(e){const{data:t}=e.detailedPin,n=t&&t.story_pin_data?t.story_pin_data.page_count:null;return i.createElement(l.c,{display:"flex",alignItems:"center",height:c},i.createElement(l.n,{dangerouslySetSvgPath:{__path:p},accessibilityLabel:r.a._("Story Pin Icon","Icon indicating this Pin is a story"),size:d,color:"darkGray"}),n&&i.createElement(l.c,{marginLeft:u},i.createElement(l.L,{inline:!0,size:"xs",weight:"bold"},n)))}));n.d(t,"a",(function(){return y}));const h={__path:"M6 5h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm8 0h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm0 8h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1z"},g=e=>{switch(e){case"arrow-up-right":return r.a._("Promoted Pin","Icon indicating this Pin is promoted");case"play":return r.a._("Video Pin","Icon indicating this Pin is a video");case"gif":return r.a._("GIF Pin","Icon indicating this Pin is a GIF");case"tag":return r.a._("Product Pin","Icon indicating this Pin is a product");case"star":return r.a._("Recipe Pin","Icon indicating this Pin is a recipe");case"story-pin":return r.a._("Story Pin","Icon indicating this Pin is a story");case"collage":return r.a._("Collage Pin","Icon indicating this Pin is a collage");default:return""}};function y({max_rating:e,icon:t,text:n,rating:r,pinId:s}){let c;if(t)switch(t){case"star":c=i.createElement(o.a,{rating:r||"",max_rating:e,width:10});break;case"gif":c=i.createElement(a,{height:10,color:"#333"});break;case"story-pin":c=i.createElement(m,{pinId:s});break;default:const n={accessibilityLabel:g(t),color:"darkGray",size:10,inline:!0};c=i.createElement(l.c,{display:"flex",alignItems:"center",marginRight:1},"collage"===t?i.createElement(l.n,Object.assign({dangerouslySetSvgPath:h},n)):i.createElement(l.n,Object.assign({icon:t},n)))}return i.createElement(l.c,{display:"flex",alignItems:"center"},c,n&&i.createElement(l.c,{marginLeft:1},i.createElement(l.L,{inline:!0,size:"sm"},n.trim().substring(0,25))))}},"0nTG":function(e,t,n){n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("mwIZ"),a=n.n(i);const r=e=>!!e&&(e.shopping_flags||[]).includes(2),o=e=>{const t=a()(e,"link_domain.official_user.full_name");if(t)return t;const n=a()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=a()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},s=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]},l=(e,t={})=>{if(e){const n=s(e),i={...t.commerce_data};n.includes(2)&&(i.pin_is_shop_the_look=!0),n.includes(1)&&(i.is_available=!0),n.includes(5)&&(i.is_product_pin_v2=!0),n.includes(6)&&(i.is_rich_product_pin=!0),n.includes(10)&&(i.is_organic_product_carousel=!0);const a=JSON.stringify(i);if("{}"!==a)return{commerce_data:a}}return null}},"1Fta":function(e,t,n){var i=n("kmwA"),a=n("pSsd");const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:a,makeNavigateLink:o,pinner:s,promoter:l,recommendationReason:c,sourceInterest:d})=>{switch(a){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason");case"pfyBoard":const{name:a,url:u}=c.board,p=o("navigation",u,a);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:m,url_name:h}=d,g=o("topicUrl",`/topics/${h}`,m);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback"),{formattedTopic:g});case"followed":const y=`/${s.username}`,f=o("boardUrl",i.url,r(i.name)),_=o("pinnerUrl",y,r(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback"),{formattedPinner:_}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback"),{formattedBoard:f});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback");default:const{full_name:n,username:i}=l,a=o("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback"),{promoterLink:a})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:a,recommendation_reason:r},pinner:o}){const s=t&&t.type;return i&&!a?"promoted":s||(r?"FOLLOWED_INTEREST"===r.reason?"topic":r.board?"pfyBoard":"pfy":e&&e.followed_by_me||o&&o.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:a,complaintReason:r,throughId:o})=>{const s="promoted"===t;let l,c;switch(t){case"promoted":l="promotedComplaint";break;case"search":l="unrelatedSearchPin";break;case"related":l="relatedPinHide";break;case"newsHub":l="newsHubPinHide";break;default:l="complaint"}switch(t){case"search":c={query:e.query,pin_id:n};break;case"related":c={pin:n};break;case"newsHub":c={pinId:n,newsId:e.newsId};break;default:c={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:a||1,promoted:s,...o?{through_id:o}:{}}}return{action:l,actionOptions:c}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:r,pinner:o,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:o}=s,l=r("topicUrl",`/topics/${o}`,i,!0);return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:a.a},title:"",subTitle:t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"),{formattedTopic:l})}}}else if("followed"===i){const{id:i,name:a,url:s}=n||{},{explicitly_followed_by_me:l,full_name:c,username:d}=o,u=`/${d}`;if(n&&o){const n=r("boardUrl",s,a,!0),o=r("pinnerUrl",u,c,!0);let d=l?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedPinner:o,formattedBoard:n}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:d=l?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user"),{formattedPinner:o}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board"),{formattedBoard:n})}}}return null}})},"2qKt":function(e,t,n){var i=n("q1tI"),a=n("/MKj"),r=(n("17x9"),n("Vzit")),o=n("vh5K");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1};t.a=(e,t={},n)=>c=>{const d=function(e){return t=>{return{experience:t.experiences.eligibleExperiences[e]}}}(e);n=Object.assign({},l,n);const u=function(e,t,n=!0,a=!0,l){return class extends i.Component{constructor(e){super(e),s(this,"state",{extraContext:void 0}),s(this,"setExtraContextState",e=>this.setState({extraContext:e}))}componentDidMount(){this.dispatchPlacementMount(!1)}UNSAFE_componentWillUpdate(n,i){const{dispatch:a,experience:s}=n;let l=t;if("function"==typeof t){const e=i.extraContext||{};l=t(n,e)}if(!Object(o.d)(s)&&"function"==typeof t&&l&&Object.keys(l).length){const n=t(this.props,this.state);JSON.stringify(n)!==JSON.stringify(l)&&a(Object(r.c)(e,l))}!s||this.props.experience&&s.id===this.props.experience.id||a(Object(r.i)(e,l))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(r.k)(e))}dispatchPlacementMount(n){const{dispatch:i}=this.props;let a={};a="function"==typeof t?t(this.props,this.state):Object.assign({},t),i(Object(r.j)(e,a,n))}render(){const{experience:e}=this.props;return i.createElement(l,Object.assign({},this.props,{setPlacementExtraContext:this.setExtraContextState,experience:Object(o.d)(e)?e:null}))}}}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,c);return Object(a.connect)(d)(u)}},"2rEd":function(e,t,n){n.r(t);var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("rSLd"),s=n("/90Z"),l=n("NdXn");const c=e=>e.charAt(0).toUpperCase()+e.slice(1);var d=n("H2go"),u=n("n6mq"),p=n("0nTG");n.d(t,"getEligiblePinTypes",(function(){return m})),n.d(t,"PinType",(function(){return h}));const m=e=>e.reduce((e,t)=>{return{...e,[`is${"story-pin"===t?"StoryPin":function(e){return c(Object(l.a)(e))}(t)}`]:!0}},{isCarousel:!1,isEmbeddedVideo:!1,isGif:!1,isOneTap:!1,isProduct:!1,isRecipe:!1,isStoryPin:!1,isVideo:!1}),h=({pin:e,pinId:t,types:n})=>{const{promoter:i}=e,{isStoryPin:r,isOneTap:l,isCarousel:c,isEmbeddedVideo:h,isRecipe:g,isProduct:y,isGif:f}=m(n);return l?c?a.a.createElement(u.c,{paddingY:1},a.a.createElement(u.c,{position:"relative",marginBottom:2,marginLeft:2,dangerouslySetInlineStyle:{__style:{zIndex:d.a.max}}},a.a.createElement(o.default,{pinId:t,variant:"legacy"})),a.a.createElement(s.a,{text:(i||{}).full_name,icon:"arrow-up-right"})):a.a.createElement(u.c,{paddingY:1},a.a.createElement(s.a,{text:(i||{}).full_name,icon:"arrow-up-right"})):c?a.a.createElement(o.default,{pinId:t,variant:"legacy"}):f?a.a.createElement(u.c,{paddingY:1},a.a.createElement(s.a,{icon:"gif"})):h?a.a.createElement(u.c,{paddingY:1},a.a.createElement(s.a,{icon:"play"})):y?a.a.createElement(u.c,{paddingY:1},a.a.createElement(s.a,{text:Object(p.b)(e),icon:"tag"})):g?e.rich_summary&&e.rich_summary.aggregate_rating&&e.rich_summary.aggregate_rating.review_count?a.a.createElement(u.c,{paddingY:1},a.a.createElement(s.a,{text:e.rich_summary.aggregate_rating.review_count.toString(),icon:"star",rating:e.rich_summary&&e.rich_summary.aggregate_rating?e.rich_summary.aggregate_rating.rating_value:"",max_rating:e.rich_summary&&e.rich_summary.aggregate_rating?e.rich_summary.aggregate_rating.best_rating:""})):null:r?a.a.createElement(u.c,{paddingY:1},a.a.createElement(s.a,{icon:"story-pin"})):null};t.default=Object(r.connect)(({pins:e},t)=>{const{pinId:n,pin:i}=t;return{pin:e[n]||i}})(h)},"4+TC":function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("TSYQ"),o=n.n(r),s=n("Ye/N"),l=n("3gA6"),c=n("n6mq");const d={color:"white",size:"xl"},u=950;t.a=class extends a.a.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},u)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isNewlySaved:t,name:n,url:i}=this.props;let r,u;if(t&&!e)r=a.a.createElement(c.L,d,s.a._("Saved!","Indication that a pin has been saved"));else{const e=a.a.createElement(c.L,Object.assign({},d,{truncate:!0,weight:"bold"}),n);r=i?a.a.createElement(l.b,{to:i},e):e}return t&&(u=e?"board":"saved"),a.a.createElement("div",{"data-test-id":"savedInfo",className:o()("SavedAnimation",u)},r)}}},"4cpq":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n("n6mq");function r(e){const{children:t,display:n,id:r}=e;return i.createElement(a.c,{"data-test-id":r,display:n},t)}},"9Hsp":function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const i=/[\- _,.<>:;+=*&@~\/\|!]*$/,a=(e,t=80,n="…")=>{let a;if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])a=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return(a=a.replace(i,""))+n},r=/\s\s+/g,o=e=>e.replace(r," ")},"CgR/":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),a=n.n(i),r=n("qWlA"),o=n("fevN"),s=n("TiQD"),l=n("oVol"),c=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{static makeSendShareButton(e){return t=>a.a.createElement(this,Object.assign({ref:t.shareButtonRef,Subject:e},t))}constructor(e,t){super(e,t),d(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),d(this,"handleClick",Object(r.a)(e=>{e&&e.stopPropagation&&e.stopPropagation(),this.toggle()})),d(this,"flyoutProps",e=>{const{gridDescription:t,imageSrc:n,pinId:i,userId:r,board:s,sendType:c,fullName:d,profileUrl:u,viewParameter:p,viewType:m,onClick:h=(()=>{}),onExternalSend:g}=this.props;let y={description:t,id:i,imageUrl:n,name:"",type:l.a.PIN,url:`/pin/${i}/`},f=l.a.PIN;switch(c){case"user":y={description:t,id:r,imageUrl:n,name:d,type:l.a.PINNER,url:u},f=l.a.USER;break;case"board":y=s&&{description:s.description,id:s.id,imageUrl:s.imageUrl,name:s.name,type:l.a.BOARD,url:s.url},f=l.a.BOARD}return{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.handleDismiss,size:e,children:a.a.createElement(o.a,{classNames:"SendPin",isFlyout:!0,onHide:()=>{h(),this.handleDismiss()},onExternalSend:g,sendType:f,sharedObject:y,viewParameter:p,viewType:m})}}),this.flyoutAnchor=void 0}toggle(){const{onToggleFlyout:e}=this.props;e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i}=this.props;return a.a.createElement("div",null,a.a.createElement("div",{ref:e=>{e&&(this.flyoutAnchor=e)}},a.a.createElement(e,Object.assign({handleSendShareFlyoutButtonClick:this.handleClick},this.props))),n&&(i?a.a.createElement(c.s,null,a.a.createElement(c.c,{dangerouslySetInlineStyle:t?{__style:{zIndex:s.a,position:"absolute"}}:void 0},a.a.createElement(c.k,Object.assign({},this.flyoutProps("lg"),{positionRelativeToAnchor:!1})))):a.a.createElement(c.k,this.flyoutProps("lg"))))}}},CvCA:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("TSYQ"),o=n.n(r),s=(n("17x9"),n("n6mq"));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{hiding:!1,visible:!1}),l(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=setTimeout(this.props.onHide,200)}),l(this,"handleMouseEnter",()=>{this.timeout&&clearTimeout(this.timeout)}),l(this,"handleMouseLeave",()=>{this.timeout=setTimeout(this.handleHide,this.props.duration)})}componentDidMount(){setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=setTimeout(this.handleHide,this.props.duration)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){const{icon:e,imageUrl:t,href:n,onClick:i,text:r,openNewPage:l}=this.props,c=this.props.color?this.props.color:"darkGray",d="string"==typeof r?r:`${r[0]} ${r[1]}`;let u=e;n&&(u=t?void 0:"arrow-circle-forward");const p=n||t?a.a.createElement("div",{className:"imageWrapper"},a.a.createElement("img",{className:"toastImage",src:t,alt:d})):void 0,m=a.a.createElement(s.O,{color:c,icon:u,text:r,thumbnail:p});return a.a.createElement("div",{className:o()("ToastBase","react",{visible:this.state.visible},{hiding:this.state.hiding}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-test-id":"toast"},n?a.a.createElement("a",{href:n,onClick:i,target:l?"_blank":null,rel:l?"noopener noreferrer":null},m):m)}}l(c,"defaultProps",{duration:2e3})},EDqd:function(e,t,n){n.d(t,"a",(function(){return o}));const i=["236x","474x","564x","736x"];function a(e){function t(e,{imageKey:t,height:n,width:i}){return e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map(e=>e.images[t]&&e.images[t].height||1/0)),i=Math.min(...e.map(e=>e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:i}}));return e.map(e=>n.reduce(t,e))}function r(e,t){return e.push({images:t&&t.canonical_images}),e}function o(e,t,n){const i=[{images:e}];return{carousel_slots:a((t&&t.additional_images).reduce(r,i)),index:n||0}}},ENn1:function(e,t,n){var i=n("zpPL"),a=n("xjqW"),r=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:o,videos:s}=e,l=Object(r.f)(e),c=Object(r.g)(e);let d;if(Object(r.i)(s)&&s){const{video_list:e}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(a.b)({id:o,isProduct:l,isPromoted:c,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},Gx6I:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("eOdZ"),a=n("i9se");const r={[a.a.BOARD_ACTIVITY]:"BoardActivityReactionResource",[a.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityCommentReactionResource"};function o(e,t,n=1){return{type:"ACTIVITY_ITEM_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}function s(e,t,n){return r=>{const o=a.c[t],s={activityId:e,...n};return i.a.create(o,s).callUpdate().then(e=>{const t=e.resource_response.data;return r(function(e){return{type:"ACTIVITY_ITEM_UPDATED",payload:{data:e}}}(t)),t})}}function l(e,t,n,a){return s=>{if(n===a)return;const l=r[t],c={activityId:e,reactionType:a},d=i.a.create(l,c);0===a?d.callDelete({showError:!1}):d.callUpdate({showError:!1}),0!==n&&s(o(e,!1,n)),0!==a&&s(o(e,!0,a))}}function c(e,t,n,a,s=0){return l=>{const c=r[n];if(!a&&s>0){l(o(e,!1,s)),l(o(e,!0,t));const n={activityId:e,reactionType:s},a=i.a.create(c,n),r={activityId:e,reactionType:t},d=i.a.create(c,r);a.callDelete({showError:!1}).then(()=>{d.callCreate({showError:!1})})}else{const n={activityId:e,reactionType:t},r=i.a.create(c,n);a?r.callDelete({showError:!1}):r.callCreate({showError:!1}),l(o(e,!a,t))}}}},H2go:function(e,t,n){t.a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},"HOY+":function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("s+7V"),s=n("Ye/N"),l=n("qhFy"),c=n("n6mq");const d={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},u={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},p={overlay:{__style:{backgroundColor:"#000",opacity:.8}}};function m({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:r,pin:o}){const{id:l}=o;return a.a.createElement(c.q,{alt:r||s.a._("pin image","image of a pin"),naturalHeight:t,naturalWidth:n,src:e},a.a.createElement(c.c,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:p.overlay}),a.a.createElement(c.c,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${l}`},a.a.createElement(c.Q,{shape:"rounded"},a.a.createElement(c.c,{display:"flex",justifyContent:"center",padding:2},a.a.createElement(c.n,{accessibilityLabel:s.a._("Visit site","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:u,size:25}),a.a.createElement(c.c,{margin:1}),a.a.createElement(c.L,{color:"white",size:"lg",truncate:!0,weight:"bold"},s.a._("Visit site","Button when pressed goes to pin's website")))),a.a.createElement(c.c,{margin:3}),a.a.createElement(c.Q,{shape:"rounded",onTouch:i},a.a.createElement(c.c,{display:"flex",justifyContent:"center",padding:2},a.a.createElement(c.n,{accessibilityLabel:s.a._("Watch again","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:d,size:25}),a.a.createElement(c.c,{margin:1}),a.a.createElement(c.L,{color:"white",size:"lg",truncate:!0,weight:"bold"},s.a._("Watch again","Button when pressed restarts the video"))))))}var h=n("51gp"),g=n("Y8Sn"),y=n("vZlu");var f=Object(r.connect)(void 0,(e,t)=>({setCurrentVideo:t=>e(Object(y.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,currentTime:n,lowResOnly:r,highResOnly:o,onLoad:d,onError:u,saved:p,onTimeChange:y,isExperimentalPinRep:f,pin:_,playing:b,rootMargin:E,setCurrentVideo:w,viewType:v,viewParameter:T}){const[x,C]=Object(i.useState)(!1),[I,O]=Object(i.useState)(!0),S=Object(g.g)(_),P=S&&!_.is_eligible_for_web_closeup,k=f&&S&&_.is_eligible_for_web_closeup,L=!S||P||!f;let R=!b;e&&(R=I,t&&b&&I&&O(!1));const{url:A}=_.images["236x"]||{},{id:D,is_promoted:j}=_,M=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),w({pinId:D,isPromoted:j,currentTime:0}),C(!1)},[]),N=Object(i.useCallback)(()=>{C(k)},[k]);if(!_.videos||!_.videos.video_list.V_HLSV4)return null;const{height:B,thumbnail:H,width:U,url:F}=_.videos.video_list.V_HLSV4||{},V=_.videos.id,z=[{type:"video/m3u8",src:F}];return x?a.a.createElement(c.c,null,a.a.createElement(m,{backgroundImage:A,naturalHeight:B,naturalWidth:U,pin:_,onRestartVideo:M})):R?a.a.createElement(c.c,null,a.a.createElement(l.a,{lowResOnly:r,highResOnly:o,onLoad:d,onError:u,pin:_,saved:p})):a.a.createElement(c.c,null,a.a.createElement(h.a,{rootMargin:E,inAdsDesktopVideoExperiment:e,contextLogData:{component:0,view:v,viewParameter:T,objectId:_.id,video_id:V},accessibilityMaximizeLabel:s.a._("Maximize","Maximize button on video"),accessibilityMinimizeLabel:s.a._("Minimize","Minimize button on video"),accessibilityMuteLabel:s.a._("Mute","Mute button on video"),accessibilityPauseLabel:s.a._("Pause","Pause button on video"),accessibilityPlayLabel:s.a._("Play","Play button on video"),accessibilityUnmuteLabel:s.a._("Unmute","Unmute button on video"),aspectRatio:U/B,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:n||-1},loop:L,onTimeChange:y,playing:b,poster:A||H,src:z,videoStartTime:n,volume:0,onEnded:N}))}));function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=Object(o.a)(f);t.a=Object(r.connect)((e,t)=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),(e,t)=>({pauseAutoplay:t=>e(Object(y.a)(t)),setCurrentVideo:t=>e(Object(y.c)(t))}))(class extends a.a.Component{constructor(...e){super(...e),_(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:a,videosAutoplaying:r}=this.props,{id:o,is_promoted:s}=n,l=Object(g.c)(o,r),c=Object(g.j)(o,r),d=Object(g.a)(o,r);e?s?i({pinId:o,isPromoted:s,currentTime:l||t||this.currentVideoCurrentTime}):d&&i({pinId:o,isPromoted:s,currentTime:l||t||this.currentVideoCurrentTime}):!e&&c&&a({pinId:o,isPromoted:s,currentTime:t||this.currentVideoCurrentTime})}),_(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:a}=t;Object(g.j)(a,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:a,pin:r,setCurrentVideo:o,videosAutoplaying:s}=this.props,{id:l,is_promoted:c}=r,d=Object(g.j)(l,s),u=Object(g.c)(l,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:l,isPromoted:c,currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,o({pinId:l,isPromoted:c,currentTime:u||i||this.currentVideoCurrentTime}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:a,is_promoted:r}=n;Object(g.j)(a,i)&&t({pinId:a,isPromoted:r,currentTime:e||this.currentVideoCurrentTime})}render(){const{isAutoplay:e,pin:t,videosAutoplaying:n,viewParameter:i,viewType:r,highResOnly:o,lowResOnly:s,onError:l,onLoad:c,saved:d,inAdsDesktopVideoExperiment:u,isExperimentalPinRep:p,rootMargin:m}=this.props,{id:h}=t,y=Object(g.c)(h,n),f=Object(g.j)(h,n)&&e;return a.a.createElement(b,{rootMargin:m,currentTime:y,inAdsDesktopVideoExperiment:u,isAutoplay:e,viewParameter:i,viewType:r,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:t,playing:f,trackFullVisible:!1,highResOnly:o,lowResOnly:s,onError:l,onLoad:c,saved:d,isExperimentalPinRep:p})}})},NhEX:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("+tKw"),s=n("n6mq");t.a=Object(r.connect)(({pins:e},{pinId:t})=>({carousel_data:e[t]&&e[t].carousel_data}))(({carousel_data:e,title:t})=>{let n=t;if(e){const{carousel_slots:t=[],index:i}=e;t[i]&&t[i].title&&(n=t[i].title)}const i=e?{height:"40px",overflow:"hidden"}:{};return a.a.createElement(s.c,{dangerouslySetInlineStyle:{__style:i},paddingY:1},a.a.createElement(s.L,{size:"sm",weight:"bold"},a.a.createElement(o.a,{text:n,options:{hashtags:{appendText:`${n}`,source:"hashtag_pinrep"}}})))})},Pezf:function(e,t,n){function i({m:e=0,h:t=0}){let n;return{m:e,h:t,rm:t>0?0:e,rh:n=t<=0?t:e>45?t+1:e>15?t+.5:t}}function a(e){const t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Sci3:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("US8k"),s=n("oRao"),l=n("n6mq");class c extends i.Component{constructor(...e){var t,n,i;super(...e),t=this,n="statsList",i=this.props.isVideo?[{iconType:"play",displayText:r.a._("Video views","Label for views of a video pin on closeup page"),field:"video_views",align:"start"},{iconType:"clock",displayText:r.a._("Avg. time","Label for average time of a video pin on closeup page"),field:"video_average_time",align:"center",valueFormat:"TIME"},{iconType:"angled-pin",displayText:r.a._("Saves","Label for saves of a video pin on closeup page"),field:"save",align:"end"}]:[{iconType:"eye",displayText:r.a._("Impressions","Label for impressions of a pin on closeup page"),field:"impression",align:"start"},{iconType:"angled-pin",displayText:r.a._("Saves","Label for saves of a pin on closeup page"),field:"save",align:"center"},{iconType:"arrow-up-right",displayText:r.a._("Link clicks","Label for click-throughs of a pin on closeup page"),field:"clickthrough",iconSize:10,align:"end"}],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}renderValue(e,t="COUNT"){return Number.isInteger(e)?"TIME"===t?Object(o.a)(e):a.a.createElement(s.a,{value:e,shortform:!0,shortformMaximumFractionDigits:1}):"-"}render(){const{isVideo:e,stats:t,isStoryPin:n}=this.props;if(!t)return null;const i=(e||n)&&t.all_time?t.all_time:t["30d"];return i&&0!==Object.keys(i).length?a.a.createElement(l.c,{display:"flex"},this.statsList.map(({align:e,iconType:t,iconSize:n=12,field:r,displayText:o,valueFormat:s},c)=>a.a.createElement(l.c,{key:c,column:4,display:"flex",justifyContent:e,alignItems:"center"},a.a.createElement(l.c,{display:"inlineBlock",marginRight:1},a.a.createElement(l.n,{accessibilityLabel:o,color:"darkGray",icon:t,size:n})),a.a.createElement(l.L,{inline:!0,size:"sm"},this.renderValue(i[r],s))))):null}}},"TxB+":function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("h4v/"),s=n("TSYQ"),l=n.n(s),c=n("H2go"),d=n("n6mq");function u(e){const{debugImpressionStarted:t,debugImpressionLogged:n,slotIndex:a}=e,r=n||t?{...n&&!t?{opacity:.1}:{},...t?{backgroundColor:"#adebad"}:{},height:"100%",width:"100%"}:null;return i.createElement("div",{style:r},(t||n)&&i.createElement(d.c,{position:"absolute",padding:2,color:"darkGray",dangerouslySetInlineStyle:{__style:{zIndex:c.a.debugPinImpressions}}},i.createElement(d.L,{size:"xl",color:"white"},a)),e.children)}var p=n("k6pS"),m=n("ENn1"),h=n("1Fta"),g=n("Ye/N"),y=n("xOLo"),f=n("3gA6");var _=({pinId:e,sourceUrl:t,domain:n,onClick:a,bgColor:r,size:o,iconColor:s})=>t?i.createElement(f.b,{external:!0,onClick:a,pinId:e,stopPropagation:!0,to:t},i.createElement(d.o,{bgColor:r,icon:"arrow-up-right",accessibilityLabel:n,size:o,iconColor:s})):null,b=n("17x9"),E=n.n(b),w=n("rYoy"),v=n("4cpq"),T=n("yKES"),x=n("i9se"),C=n("PVJQ"),I=n("XCz/"),O=n("/5zs"),S=n("NtFK"),P=n("U4JR"),k=n("Warx");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R=23,A=15;class D extends i.Component{constructor(...e){super(...e),L(this,"state",{hovered:!1,focused:!1,active:!1}),L(this,"handleFocus",()=>{this.setState({focused:!0})}),L(this,"handleMouseDown",()=>{this.setState({active:!0})}),L(this,"handleMouseUp",()=>{this.setState({active:!1})}),L(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),L(this,"handleMouseLeave",()=>{this.setState({active:!1,hovered:!1})}),L(this,"renderRightArrowClickthrough",()=>{const{backgroundColor:e,borderRadius:t,denseViewSelected:n,domain:a,textColor:r,maxHeight:o}=this.props,s=n?A:R,l=Object(k.a)(a,{maxLength:s});return i.createElement(d.c,{padding:2,color:e,display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:t}},maxHeight:o},i.createElement(d.c,{display:"flex",flex:"none"},i.createElement(d.n,{icon:"arrow-up-right",accessibilityLabel:g.a._("link","Website url link"),size:14,color:r})),i.createElement(d.c,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},i.createElement(d.L,{color:r,size:"sm",truncate:!0,weight:"bold"},l)))})}render(){const{borderRadius:e,bottom:t,hoverStyle:n,isEligibleForWebCloseup:a,onClick:r,pinId:o,position:s,sourceUrl:l,paddingX:c}=this.props;if(!l)return null;const u=this.state.hovered||this.state.focused||this.state.active?n:{};return i.createElement(d.c,{position:s,bottom:t},i.createElement(d.c,{alignItems:"end",display:"flex",justifyContent:"between",marginLeft:-1,marginRight:-1,padding:2},i.createElement(d.c,{minWidth:0,paddingX:c},!a&&i.createElement(d.c,{position:"relative",dangerouslySetInlineStyle:{__style:{borderRadius:e,...u}},onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp},i.createElement(f.b,{external:!0,onClick:r,pinId:o,stopPropagation:!0,to:l},this.renderRightArrowClickthrough())))))}}L(D,"defaultProps",{textColor:"darkGray",backgroundColor:"lightGray",borderRadius:4,position:"absolute",bottom:!0,hoverStyle:{},paddingX:1});var j=n("pLLR"),M=n("Gx6I"),N=n("fArA"),B=n("Y8Sn");function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=Object(i.lazy)(()=>n.e("NuxOneClickSaveButtonCommon").then(n.bind(null,"ZAQh"))),F=Object(i.lazy)(()=>Promise.all([n.e(17),n.e("PersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),V=Object(i.lazy)(()=>Promise.all([n.e(16),n.e(17),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),z=Object(i.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ewYc"))),q=Object(i.lazy)(()=>Promise.all([n.e(17),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),Y=Object(i.lazy)(()=>Promise.all([n.e(16),n.e(41),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),G=Object(i.lazy)(()=>n.e("PinRepSendShareFlyoutButtonCommon").then(n.bind(null,"SCF0"))),$=Object(i.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),W=e=>{const{style:t={}}=e,n={...t,zIndex:c.a.pinActionWrapper};return a.a.createElement(d.c,Object.assign({},e,{dangerouslySetInlineStyle:{__style:n}}))};class K extends a.a.Component{constructor(...e){super(...e),H(this,"state",{isReactionBarShowing:!1}),H(this,"onToggleFlyout",()=>{const{isFlyoutOpen:e,onToggleFlyout:t}=this.props;t(!e)}),H(this,"handleOnSourceImageClick",()=>{const{imageSignature:e,requestContext:t,slotIndex:n}=this.props;Object(S.g)(13),new O.c(t,"smb_pin_stats_from_business_profile").enabled(),this.handleClickLogging(35,{grid_index:n,image_signature:e})}),H(this,"handleToggleHover",e=>{this.props.onToggleFlyout(!1,e)}),H(this,"handleToggleSubmenu",(e,t)=>{this.props.onToggleFlyout(e,t,"save")}),H(this,"handleDropdownClose",()=>{this.props.onToggleFlyout(!1)}),H(this,"handleClickthroughLogging",()=>{const{componentType:e,contextLogData:t,pin:n,slotIndex:i,viewType:a,viewParameter:r}=this.props,{id:o}=n;Object(P.a)(12,{...t,view:a,viewParameter:r,component:e,objectId:o,grid_index:i}),this.handleClickLogging(162)}),H(this,"handleSaveButtonClick",()=>{this.handleClickLogging(0)}),H(this,"handleLikeButtonClick",({event:e})=>{e&&e.stopPropagation&&(e.stopPropagation(),this.toggleReaction())}),H(this,"handleLikeButtonTouch",e=>{e&&e.stopPropagation&&(e.stopPropagation(),this.toggleReaction())}),H(this,"toggleReaction",()=>{const{boardActivity:e,updateReaction:t,reactionByMe:n,pin:i}=this.props;let a=0;0===n&&(a=1),t(e&&e.id||i.id,x.a.BOARD_ACTIVITY,n,a)})}getViewInfo(){const{viewType:e,showEditPinButton:t}=this.props,n=5===e,i=2===e,a=4===e;return{isBoardView:n,isSearchView:i,isProfileView:a,isOwnProfileView:a&&t,isOwnBoardView:(n||164===e)&&t,isOwnPinSearchView:i&&t}}cropImageStyles(){const{imageHeight:e,pin:t,truncatePinHeight:n}=this.props;let i={};const a=t.story_pin_data_id;if(t.image_crop&&n&&!a&&(0!==t.image_crop.min_y||1!==t.image_crop.max_y)){const n=t.image_crop.min_y,a=t.image_crop.max_y;i={marginTop:n>0?-1*n*e+"px":"0px",marginBottom:a<1?Math.round(-1*(1-a)*e)+"px":"0px"}}return i}handleClickLogging(e,t){const{componentType:n,contextLogData:i,viewParameter:a,viewType:r,pin:{id:o}}=this.props;Object(P.a)(101,{...i,...t,component:n,view:r,viewParameter:a,element:e,objectId:o})}renderSendShareButton(e){const{images:t,pin:{id:n},viewType:i}=this.props;return a.a.createElement(v.a,{id:"share-button"},a.a.createElement(w.a,null,a.a.createElement(G,{imageSrc:t&&t["236x"].url,onClick:()=>this.handleClickLogging(98),onToggleFlyout:this.onToggleFlyout,onFlyoutDismiss:this.handleDropdownClose,pinId:n,sendType:"pin",shownWithinMasonry:!0,isFlyoutOpen:this.props.isFlyoutOpen,viewType:i,backgroundColor:"transparentDarkGray",iconColor:"white",iconSize:e})))}renderEditButton(e){const{pin:{id:t,carousel_data:n},viewParameter:i,viewType:r}=this.props;return a.a.createElement(v.a,{id:"edit-button"},a.a.createElement(w.a,null,a.a.createElement(q,{component:0,pinId:t,onToggleModal:this.handleToggleHover,view:r,viewParameter:i,carouselSlotCurrentIndex:n&&n.index,style:e})))}renderEditAndSendRow(e,t){const n={bgColor:"transparentDarkGray",iconColor:"white",size:"md"};return a.a.createElement(W,{padding:1,position:"absolute",top:!0,left:!0,display:"flex"},e&&a.a.createElement(d.c,{padding:1},this.renderSendShareButton("md")),t&&a.a.createElement(d.c,{padding:1},this.renderEditButton(n)))}renderPrimaryButtons(){const{hideSaveButton:e,inNewUserOneTapExperiment:t,onSave:n,pin:i,showRepinButton:r,showPromoteButton:o,showCondensedInfo:s,showButtons:l,viewer:c,saveOptions:u,viewParameter:p,showClickthroughButton:m}=this.props,h="controlled"===u.type,g=u&&"persistentOneClickSave"===u.type,y=h&&u.saved&&u.save,f=r||o,_=u&&"none"!==u.type?u.renderPinSaveTooltip:void 0;if(!(y||l&&f||!!_||g))return m?a.a.createElement(d.c,{position:"absolute",bottom:!0,color:"transparentDarkGray",right:!0,marginBottom:2,marginRight:2,shape:"pill"},a.a.createElement(d.c,{paddingX:3,paddingY:1},a.a.createElement(d.L,{color:"white",size:"xs",weight:"bold"},"Open"))):null;if(e)return null;let b=null;const E=a.a.createElement(v.a,{id:"pin-save-button"},a.a.createElement(w.a,null,a.a.createElement(Y,{onClickCallback:()=>{this.handleClickLogging(0)},onToggleModal:this.handleToggleHover,oneTapSave:h?u:void 0,pin:i,renderPinSaveTooltip:_})));o?b=a.a.createElement(v.a,{id:"promote-button"},a.a.createElement(w.a,null,a.a.createElement(z,{pin:i}))):"inline"===u.type?b=a.a.createElement(v.a,{id:"better-save"},a.a.createElement(w.a,null,a.a.createElement(V,{initialSelection:u&&u.initialSelection,useMasonryFlyout:!0,onSave:()=>{u&&u.onSave&&u.onSave(),n&&n()},onToggleFlyout:this.handleToggleSubmenu,onToggleModal:this.handleToggleHover,pin:i,renderPinSaveTooltip:_,viewParameter:p,renderSavedStatus:null}))):"persistentOneClickSave"===u.type?b=a.a.createElement(w.a,null,a.a.createElement(F,{onToggleModal:this.handleToggleHover,pin:i,saveOptions:u})):(y||r&&c.isAuth)&&(b=t?a.a.createElement(v.a,{id:"nux-one-click-save"},a.a.createElement(w.a,null,a.a.createElement(U,{onClickCallback:this.handleSaveButtonClick,pin:i}))):E),s&&(b=E);const T="inline"!==u.type||s?"auto":"100%";return a.a.createElement(W,{padding:2,position:"absolute",top:!0,right:!0,width:T},b)}renderGradientOverlay(e){const{showButtons:t}=this.props;return a.a.createElement(d.c,{position:"relative"},e,t&&a.a.createElement(d.c,{bottom:!0,left:!0,height:"100%",position:"absolute",right:!0,top:!0,width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",opacity:.3}}}))}renderClickThrough(e){const{denseViewSelected:t,domain:n,isEligibleForWebCloseup:i,pin:{id:r},sourceUrl:o}=this.props;return a.a.createElement(D,{denseViewSelected:t,domain:n,isEligibleForWebCloseup:i,sourceUrl:o,pinId:r,position:e,textColor:"white",backgroundColor:"transparentDarkGray",borderRadius:20,onClick:this.handleClickthroughLogging,hoverStyle:{backgroundColor:"#333"},maxHeight:32,paddingX:0})}renderHolisticHoverOwnPinViewCondensed(){const{pin:{id:e},domain:t,sourceUrl:n,showEditPinButton:i}=this.props,r={size:"md",iconColor:"white",bgColor:"transparentDarkGray"},o={pinId:e,domain:t,sourceUrl:n,bgColor:"transparentDarkGray",...r};return a.a.createElement(W,{padding:1,width:"100%",position:"absolute",bottom:!0,left:!0,display:"flex",alignItems:"center",justifyContent:"around"},a.a.createElement(d.c,{padding:1},a.a.createElement(d.c,{width:40,height:40},a.a.createElement(_,Object.assign({},o,{onClick:this.handleClickthroughLogging})))),a.a.createElement(d.c,{padding:1},i&&this.renderEditButton(r)),a.a.createElement(d.c,{padding:1},this.renderSendShareButton("md")))}renderHolisticHoverOwnPinView(){const{showSendButton:e,showEditPinButton:t,pin:{id:n},domain:i,isEligibleForWebCloseup:r,sourceUrl:o}=this.props,s={iconColor:"white",bgColor:"transparentDarkGray",size:"sm"};return a.a.createElement(W,{padding:1,position:"absolute",bottom:!0,left:!0,display:"flex",width:"100%",alignItems:"center",height:50},a.a.createElement(d.c,{width:"65%"},a.a.createElement(D,{domain:i,isEligibleForWebCloseup:r,sourceUrl:o,pinId:n,position:"relative",textColor:"white",backgroundColor:"transparentDarkGray",borderRadius:20,onClick:this.handleClickthroughLogging,hoverStyle:{backgroundColor:"#333"},maxHeight:32,paddingX:0})),a.a.createElement(d.c,{width:"35%",display:"flex",justifyContent:"end"},t&&a.a.createElement(d.c,{padding:1},this.renderEditButton(s)),e&&a.a.createElement(d.c,{padding:1},this.renderSendShareButton("sm"))))}renderReactionButton(e,t){const{denseViewSelected:n}=this.props;return a.a.createElement(v.a,{id:"board-reactions-button"},a.a.createElement(w.a,null,a.a.createElement(I.a,{name:"group_boards_reactions",activate:!1},({anyEnabled:t,customActivate:i})=>a.a.createElement($,{pin:e,activateReactionsExperiment:i,inReactionsExperiment:t,onShowReactionsBar:()=>{this.setState({isReactionBarShowing:!0})},onHideReactionsBar:()=>{this.setState({isReactionBarShowing:!1})},supportsReactionBar:!n}))))}renderSecondaryButtons(){const{showCondensedInfo:e}=this.props;return e?this.renderHolisticHoverOwnPinViewCondensed():this.renderHolisticHoverOwnPinView()}renderTopButtons(){const{pin:e,showReactions:t,showButtons:n,reactionByMe:r}=this.props,{isReactionBarShowing:o}=this.state;let s=null;if(t){const t=0!==r;if(n){const t=o?"100%":null;s=a.a.createElement(i.Fragment,null,a.a.createElement(W,{width:t,position:"absolute",top:!0,left:!0,padding:2},this.renderReactionButton(e,r)),this.renderSecondaryButtons())}else t&&(s=a.a.createElement(W,{position:"absolute",top:!0,left:!0,padding:2},this.renderReactionButton(e,r)))}else s=a.a.createElement(i.Fragment,null,n&&this.renderSecondaryButtons(),this.renderPrimaryButtons());return s}render(){const{currentlyPlayingVideo:e,children:t,isEligibleForAnalyticsCloseup:n,pin:{carousel_data:r,id:o,videos:s},selection:c,showButtons:u,viewParameter:p,viewType:m,componentType:h}=this.props,g=this.cropImageStyles(),_=!!s&&!!s.video_list,{duration:b=0}=s&&s.video_list&&s.video_list[Object.keys(s.video_list)[0]]||{};return a.a.createElement(d.c,{"data-test-id":r?"carousel-pin":"",position:"relative"},u&&r&&a.a.createElement(y.default,{pinId:o,componentType:h,viewParameter:p,viewType:m}),a.a.createElement(f.b,{deeplinkUrls:Object(C.m)(o),onClick:this.handleOnSourceImageClick,forceRefresh:1,extraData:{isReact:!0,reactData:this.props.pin,searchOptions:this.props.searchOptions},style:{cursor:"zoom-in",display:"block",position:"relative"},to:Object(B.b)(o,n||!1)},a.a.createElement(d.v,{shape:"rounded",wash:!0},a.a.createElement(d.c,{dangerouslySetInlineStyle:{__style:g},minHeight:55},this.renderGradientOverlay(t))),a.a.createElement(d.c,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0})),c!==qe.NO_SELECTION&&a.a.createElement("div",{className:l()("pinSelectionBorder",{selected:c===qe.SELECTED})}),a.a.createElement(i.Fragment,null,this.renderTopButtons(),u||!_||e?null:a.a.createElement(W,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},a.a.createElement(T.a,{duration:b}))))}}H(K,"defaultProps",{onToggleFlyout:()=>{},pinsBoardEditableByViewer:!1,showCondensedInfo:!1,showOnPinAnalyticsNUX:!1,showPromoteButton:!1});var X=Object(r.connect)((e,t)=>{const{pin:{id:n},boardActivity:i}=t,a=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},r=Object(B.j)(n,a),o=i&&i.id||n,s=e.activityItems[o];let l=0;return s&&null!==s.reaction_by_me&&void 0!==s.reaction_by_me&&(l=s.reaction_by_me),{currentlyPlayingVideo:r,reactionByMe:l}},(e,t)=>({updateReaction:Object(N.bindActionCreators)(M.c,e)}))(K),Z=n("q7Wf");function Q(e){const{feedbackType:t,topic:n}=e,i=e.pinner||{},r=i.full_name,o="topic"===t,s=!o&&"followed"===t,l=`/${i.username}/`,c=Object(Z.g)(n),u=`/search/pins/?q=${encodeURIComponent(c)}&rs=image_only_attribution`,p=o?u:l,m={topic:g.a._("From {topic}","attribution on pin rep"),followed:g.a._("From {pinnerName}","attribution on pin rep"),pfyBoard:g.a._("Picked for you","attribution on pin rep"),pfy:g.a._("Picked for you","attribution on pin rep")}[t];if(!m)return null;if(s||o){const e=0===m.indexOf("{"),t=o?n:r,i=e?m.slice(m.indexOf("}")+1):m.slice(0,m.indexOf("{"));return e?a.a.createElement(d.c,{display:"inlineBlock",marginTop:1},a.a.createElement(f.b,{to:p},a.a.createElement(d.L,{inline:!0,size:"xs",truncate:!0,weight:"bold"},t)),a.a.createElement(d.L,{inline:!0,size:"xs"},i)):a.a.createElement(d.c,{display:"inlineBlock",marginTop:1},a.a.createElement(d.L,{inline:!0,size:"xs"},i),a.a.createElement(f.b,{to:p},a.a.createElement(d.L,{inline:!0,size:"xs",truncate:!0,weight:"bold"},t)))}return a.a.createElement(d.c,{display:"inlineBlock",marginTop:1},a.a.createElement(d.L,{inline:!0,size:"xs"},m))}var J=n("vvax");function ee({pin:e,feedbackType:t,imageOnlyAttribution:n,isHovering:i,isVideo:r,onClickThrough:o,sourceUrl:s}){const l=Object(C.m)(e.id),c=e.attribution||{},u=c.author_url||c.provider_url,p=c.author_name,m=c.rich_site_name||c.provider_name,h=p?Object(J.b)(g.a._("by {{ authorName }}","attribution on pin rep"),{authorName:p}):m,y=!h&&e.has_required_attribution_provider?e.domain:h,_=u||s,b=_&&y,E=i&&!b&&n&&!r&&!e.is_native&&"followed"!==t,w=(e.source_interest||{}).name,v="io-topic-attr-"+w;return a.a.createElement(a.a.Fragment,null,b&&a.a.createElement(d.c,{paddingY:1},a.a.createElement(d.L,{size:"sm",weight:"bold"},a.a.createElement(f.b,{deeplinkUrls:l,external:!0,onClick:o,pinId:e.id,stopPropagation:!0,style:{color:"#898989"},to:_},y))),n&&t&&a.a.createElement(d.c,{"data-test-id":v}),E&&t&&a.a.createElement(Q,{feedbackType:t,pinner:e.pinner,topic:w}))}var te=n("b9Z9");function ne({avatarUrl:e,creditNameLink:t,name:n=""}){return t?a.a.createElement(f.b,{className:"underlineLink",stopPropagation:!0,to:t},a.a.createElement(d.a,{name:n,src:e,size:"sm"})):a.a.createElement(d.a,{name:n,src:e,size:"sm"})}function ie({name:e,creditNameLink:t}){return a.a.createElement(d.c,null,t?a.a.createElement(f.b,{className:"underlineLink",stopPropagation:!0,to:t},a.a.createElement(d.L,{size:"xs",truncate:!0,weight:"bold"},e)):a.a.createElement(d.L,{size:"xs",truncate:!0,weight:"bold"},e))}function ae({title:e,link:t}){return e?a.a.createElement(d.c,null,t?a.a.createElement(f.b,{className:"underlineLink",stopPropagation:!0,to:t},a.a.createElement(d.L,{truncate:!0,size:"xs"},e)):a.a.createElement(d.L,{truncate:!0,size:"xs"},e)):null}var re=n("fc1g");const oe=32,se=e=>!!e.promoter&&!e.is_downstream_promotion;var le=Object(r.connect)(null,e=>({setMostRecentPin:t=>e(Object(re.b)(t))}))((function({hideTitle:e,pin:t,viewType:n,viewParameter:i,setMostRecentPin:r}){const{board:o,promoter:s}=t,l=t.pinner||{},c=se(t),u=t.promoter||l,p=()=>{r(t.id),Object(P.a)(101,{view:n,viewParameter:i,element:c?283:27,objectId:t.id})};let m,h,y,_,b,E;c&&s?(m=`/${s.username}/`,h=g.a._("Promoted by"),_=s.full_name,E=s.image_small_url):(m=o&&o.url,h=l.full_name,_=o&&o.name&&"protected"!==o.privacy?o.name:"",E=l.image_small_url,y=`/${l.username}/`,b=o?o.url:"");const w=!c&&!!s,v=a.a.createElement(d.c,{display:"flex",direction:"row",alignItems:"center",marginLeft:-1,marginRight:-1},a.a.createElement(d.c,{paddingX:1},a.a.createElement(te.a,{user:u,username:u&&u.username,avatarSize:oe,isDarkPromoter:w,pinId:t.id,viewParameter:i},a.a.createElement(ne,{avatarUrl:E,creditNameLink:y,name:h}))),a.a.createElement(d.c,{paddingX:1,overflow:"hidden"},a.a.createElement(ie,{creditNameLink:y,name:h}),!e&&a.a.createElement(ae,{link:b,title:_})));return!m||y||b?v:a.a.createElement(f.b,{className:"underlineLink",stopPropagation:!0,onClick:p,to:m},v)}));const ce=Object(i.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),de=e=>e&&e.board_activity&&e.board_activity.id||e.id;var ue=function({pin:e,feedbackType:t,hideAttribution:n,imageOnlyAttribution:i,isHovering:r,imageOnly:o,isVideo:s,onClickThrough:l,onReactionReplyClick:u,showCredits:p,showPinReactionsReply:m,sourceUrl:h,viewParameter:g,viewType:y}){const f=e.promoter||!o&&(p||"followed"===t),_=e.board&&e.board.should_show_board_activity;let b=f&&!n;("promoted"===t||e.promoter&&!e.is_downstream_promotion)&&(b=!0);const E=de(e);return a.a.createElement(a.a.Fragment,null,a.a.createElement(ee,{pin:e,feedbackType:t,imageOnlyAttribution:i,isHovering:r,isVideo:s,onClickThrough:l,sourceUrl:h}),(f||_)&&a.a.createElement(d.c,{dangerouslySetInlineStyle:{__style:{zIndex:c.a.max}},paddingY:1,position:"absolute"},!_&&b&&a.a.createElement(le,{hideTitle:!!_,pin:e,viewParameter:g,viewType:y}),_&&a.a.createElement(d.c,{position:"relative","data-test-id":"board-activity-reactions",minHeight:16},a.a.createElement(w.a,null,a.a.createElement(ce,{pinId:e.id,board:e.board,activityId:E,showReply:m})))))},pe=n("+tKw");var me=Object(r.connect)(({pins:e},{pinId:t})=>({carousel_data:e[t]&&e[t].carousel_data}))(({carousel_data:e,description:t})=>{let n=t;if(e){const{carousel_slots:t=[],index:i}=e;t[i]&&t[i].details&&(n=t[i].details)}const i=e?{height:"39px",overflow:"hidden"}:{};return a.a.createElement(d.c,{dangerouslySetInlineStyle:{__style:i},paddingY:1},a.a.createElement(d.L,{size:"sm",weight:"bold"},a.a.createElement(pe.a,{text:n,options:{hashtags:{appendText:`${n}`,source:"hashtag_pinrep"}}})))}),he=n("qhFy");var ge=Object(r.connect)(({pins:e},{pinId:t})=>({carouselData:e[t]&&e[t].carousel_data}),()=>({}))(({carouselData:e,handleOneTapLogging:t,pinDeeplinkUrls:n,pinId:i,sourceUrl:r})=>{let o,s="one-tap-desktop",l=r;if(e){const{carousel_slots:t=[],id:n,index:i}=e;t[i]&&t[i].link&&(l=t[i].link),o={carousel_slot_id:t[i]&&t[i].id,carousel_data_id:n,carousel_slot_index:i},s+="-carousel"}return a.a.createElement(I.a,{name:"ads_desktop_whitespace_gaps"},({anyEnabled:e})=>a.a.createElement("div",{"data-test-id":e?"oneTapPromotedPin":"otpp"},a.a.createElement(v.a,{id:s},a.a.createElement(f.b,{auxData:o&&o,className:"oneTapNavigateLink",deeplinkUrls:n,external:!0,onClick:t,pinId:i,stopPropagation:!0,to:l}))))});function ye({buyableProduct:e,showProductInfo:t,richSummary:n}){if(!t)return null;let i,r;if(e){const{display_active_min_price:t,display_active_max_price:n,is_available:a}=e;r=a,i=t===n?t:`${t} - ${n}`}else if(n&&(n.products||[]).length>0){const e=n.products[0].offer_summary||{},{availability:t,price:a}=e;i=a,1===t?r=!0:2===t&&(r=!1)}return i?a.a.createElement(d.c,{display:"flex",paddingY:1},a.a.createElement(d.c,{marginRight:2},a.a.createElement(d.L,{size:"sm"},i)),void 0!==r&&a.a.createElement(d.L,{size:"sm",color:r?"darkGray":"gray"},r?g.a._("In stock","A product Pin that is available"):g.a._("Out of stock","A product Pin that is out of stock"))):null}const fe=76;var _e=function({chips:e}){return a.a.createElement(d.c,{display:"flex",direction:"row",justifyContent:"between"},e.map(e=>{const t=e.images["750x"]||{};return a.a.createElement(d.c,{marginTop:1,key:e.id},a.a.createElement(f.b,{stopPropagation:!0,to:`/pin/${e.id}/`},a.a.createElement(d.v,{shape:"rounded",width:fe,height:fe,wash:!0},a.a.createElement(d.q,{alt:"",naturalHeight:t.height,naturalWidth:t.width,src:t.url,fit:"cover"}))))}))},be=n("4+TC"),Ee=n("wIXi"),we=n("Sci3"),ve=n("NhEX"),Te=n("/90Z"),xe=n("HOY+"),Ce=n("bZS0"),Ie=n("Pezf");function Oe({richSummary:e}){return a.a.createElement(d.c,{display:"flex"},!!e.display_cook_time&&a.a.createElement(d.c,{alignItems:"center",display:"flex"},a.a.createElement(d.n,{icon:"clock",accessibilityLabel:g.a._("cooking time","time it takes to cook a recipe"),color:"darkGray",size:10,inline:!0}),a.a.createElement(d.c,{paddingX:1},a.a.createElement(d.L,{inline:!0,size:"sm"},!!e.display_cook_time&&Object(Ce.a)(Object(Ie.b)(e.display_cook_time))))))}var Se=n("tXBB"),Pe=n("Zxas"),ke=n("zwad"),Le=n("2qKt"),Re=n("0nTG"),Ae=n("2rEd"),De=n("YxyV"),je=n("vZlu"),Me=n("dtw8"),Ne=n("joD6"),Be=n("0S8y");function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return qe}));const Ue=Object(i.lazy)(()=>n.e("PinFeedbackButtonCommon").then(n.bind(null,"ktVW"))),Fe=Object(i.lazy)(()=>n.e("PinFeedbackConfirmationCommon").then(n.bind(null,"ZM4i"))),Ve=Object(i.lazy)(()=>Promise.resolve().then(n.bind(null,"2rEd"))),ze=228,qe={NO_SELECTION:"NO_SELECTION",SELECTED:"SELECTED",UNSELECTED:"UNSELECTED"},Ye=e=>{const{aggregated_pin_data:{creator_analytics:t},creator_analytics:n,story_pin_data_id:i}=e;return!n||!!!i&&t?t:n};E.a.number,E.a.number,E.a.number,E.a.shape({}),E.a.string,E.a.bool,E.a.bool,E.a.func,E.a.shape({title:E.a.oneOfType([E.a.string,E.a.arrayOf(E.a.node)]),subTitle:E.a.oneOfType([E.a.string,E.a.arrayOf(E.a.node)])}),E.a.bool,E.a.bool,E.a.bool,E.a.bool,E.a.bool,E.a.shape({type:E.a.oneOf(["promoted","followed","topic","pfyBoard","pfy","search","newsHub","default"]).isRequired,data:E.a.shape({})}),E.a.bool,E.a.bool,E.a.func,E.a.func,Ee.a.isRequired,E.a.bool,E.a.shape({push:E.a.func.isRequired}),E.a.shape({type:E.a.oneOf(["classic","inline","controlled","persistentOneClickSave"]).isRequired}),E.a.shape({boardId:E.a.string,localPinId:E.a.string,sectionId:E.a.string,title:E.a.string,url:E.a.string}),E.a.shape({query:E.a.string.isRequired,scope:E.a.string.isRequired}),E.a.oneOf([qe.NO_SELECTION,qe.SELECTED,qe.UNSELECTED]),j.b,E.a.bool,E.a.bool,E.a.bool,E.a.bool,E.a.number.isRequired,E.a.bool,E.a.shape({id:E.a.string,isAuth:E.a.bool,isPartner:E.a.bool,username:E.a.string}),E.a.number,E.a.number;class Ge extends a.a.Component{constructor(...e){super(...e),He(this,"state",{isHovering:!1,flyoutShown:!1,flyoutSource:"send",isNewlySaved:!1,savedInfo:this.props.savedInfo}),He(this,"onPinRepClick",e=>{const{pin:{id:t,is_promoted:n},requestContext:i,requestContext:{unauthId:a,userAgent:r,userAgent:{raw:o,platform:s}},router:l,viewer:c,setCurrentVideo:d,videosAutoplaying:u}=this.props,m=Object(B.b)(t,this.isEligibleForAnalyticsCloseup());Object(B.j)(t,u)&&(0===this.currentVideoCurrentTime||this.currentVideoCurrentTime)&&d({pinId:t,isPromoted:n,currentTime:this.currentVideoCurrentTime});const h=e.target;if(!h||!h.nodeName||!h.parentElement)return;const g=new p.b(o,s);if(g.shouldDeepLink(document.referrer,r,c.isAuth))return e.preventDefault(),void g.navigateToDeepLink(a,Object(C.m)(t));const y=h.parentElement,f=h.nodeName,_=y.nodeName,b=y.parentElement&&y.parentElement.nodeName;"A"!==f&&"A"!==_&&"BUTTON"!==f&&"BUTTON"!==_&&"A"!==b&&"BUTTON"!==b&&(new O.c(i,"smb_pin_stats_from_business_profile").enabled(),e.metaKey||e.ctrlKey?(e.preventDefault(),window.open(m)):l.push(m))}),He(this,"getComponentType",()=>this.props.componentType||0),He(this,"getSourceURL",()=>{const{pin:e}=this.props,{link:t,tracked_link:n}=e;return n||t}),He(this,"getPinTypes",()=>{const{pin:e}=this.props,{attribution:t,buyable_product:n,carousel_data:i,embed:a,is_collage_pin:r,is_eligible_for_web_closeup:o,rich_summary:s,videos:l}=e,c=[];i&&c.push("carousel"),o&&c.push("oneTap"),Object(B.i)(l)&&c.push("video");const d=a||t&&t.embed||null;return d&&"gif"===d.type&&c.push("gif"),d&&d.src&&!d.type&&c.push("embeddedVideo"),(n||s&&"product"===s.type_name)&&c.push("product"),s&&"recipe"===s.type_name&&c.push("recipe"),r&&c.push("collage"),c}),He(this,"feedbackHelpers",Object(h.a)({i18n:g.a,interpolateNamedTemplate:J.b})),He(this,"handleSave",()=>{this.setState({isHovering:!0})}),He(this,"handleOneTapLogging",()=>{const{contextLogData:e,pin:t}=this.props,{id:n}=t,i=o.a.getInstance(),a=i.getViewFromContext();this.handleClickthroughLogging(!0),Object(P.a)(13,{...e,closeup_navigation_type:"web_closeup",objectId:n,component:0,view:3}),i.addViewToContext(a)}),He(this,"_getPrefetchCompletionPercent",e=>{if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}),He(this,"handleClickthroughLogging",e=>{const{contextLogData:t,pin:{id:n,link:i},slotIndex:a,viewType:r,viewParameter:o}=this.props;Object(P.a)(12,{...t,view:r,viewParameter:o,component:this.getComponentType(),objectId:n,grid_index:a,pin_id:n,prefetch_percentage_complete:e?this._getPrefetchCompletionPercent(i):null})}),He(this,"handleReactionReplyClick",e=>()=>this.props.router.push(e)),He(this,"handleToggleFlyout",(e,t=!1,n)=>{const i=!(!e&&!t);this.setState({flyoutShown:e,isHovering:i,flyoutSource:n})}),He(this,"handleMouseOver",()=>{this.state.isHovering||this.setState(()=>({isHovering:!0}))}),He(this,"handleMouseLeave",()=>{this.state.isHovering&&this.setState(()=>({isHovering:!1}))}),He(this,"handleCurrentVideoCurrentTimeChanged",e=>{const{pin:t,videosAutoplaying:n}=this.props,{id:i}=t;Object(B.j)(i,n)&&(this.currentVideoCurrentTime=e.time)})}static getDerivedStateFromProps(e,t){return e.savedInfo&&t.savedInfo!==e.savedInfo?{isNewlySaved:!0,savedInfo:e.savedInfo}:null}get canDelete(){const{access:e}=this.props.pin;return(e||[]).includes("delete")}get isOwnPin(){const{access:e}=this.props.pin;return(e||[]).includes("write")}getTruncatedString(e){const{pin:{is_promoted:t}}=this.props,n=t?60:50;return e&&Object(Pe.a)(e.trim(),n)||""}getPinTitle(){const{pin:{carousel_data:e,title:t,buyable_product:n,rich_summary:i}}=this.props,a=i&&"mobile application"!==i.type_name;if(this.isOwnPin&&!e)return"";if(e){const{carousel_slots:t=[],index:n}=e;if(t[n]&&t[n].title)return t[n].title.trim()}return this.getTruncatedString(t||a&&i.display_name||n&&n.title)}getFeedbackType(){const{feedback:e,viewParameter:t,pin:n}=this.props;return this.feedbackHelpers.getFeedbackType({board:n.board,feedback:e,viewParameter:t,pin:n,pinner:n.pinner})}isEligibleForAnalyticsCloseup(){const{requestContext:e,viewParameter:t,viewer:n}=this.props,i=92===t,a=43===t;let r=!1;return this.isOwnPin&&n.isPartner&&!i&&!a&&(r=new O.c(e,"smb_pin_stats_from_business_profile").enabledWithNoActivation()),r}render(){const{boardCount:e,carouselIndex:t,contextLogData:n,createdAt:i,debugImpressionLogged:r,debugImpressionStarted:o,denseViewSelected:s,experience:p,feedback:h,feedbackText:y,isHomefeedContextualMenuTooltipExperience:f,isNewOrResurrectedNonPartner:_,isSocialSeasonalBoard:b,hideAttribution:E,hideFeedbackButton:T,showCondensedInfo:x,showFeedbackOverlay:O,isShareable:S,hideHover:P,hideSaveButton:k,lowResOnly:L,highResOnly:R,onError:A,onLoad:D,pin:j,pinsBoardEditableByViewer:M,saveOptions:N,savedInfo:H,searchOptions:U,selection:F=qe.NO_SELECTION,showImageOnly:V,slotIndex:z,truncatePinHeight:q,viewer:Y,viewParameter:G,viewType:$,showCredits:W,showFeedback:K,showProductInfo:Z,showPinReactionsReply:Q,showPinStats:J,showSavedInfo:ee,undoAction:te,undoText:ne,requestContext:ie}=this.props,ae="boolean"==typeof V?V:_,re=_,{ad_match_reason:oe,aggregated_pin_data:se,board:ce,board_activity:de,buyable_product:fe,carousel_data:Ee,creator_analytics:Ce,debug_info_html:Ie,description:Pe="",domain:Le,dominant_color:je,grid_title:Me,id:Ne,image_signature:He,images:Ge,is_quick_promotable:$e,is_eligible_for_web_closeup:We,pinner:Ke={},promoted_is_removable:Xe,promoter:Ze,recommendation_reason:Qe,rich_summary:Je,source_interest:et,category:tt}=j,{flyoutShown:nt,flyoutSource:it,isHovering:at,isNewlySaved:rt}=this.state,ot=this.getSourceURL(),st=((p||{}).display_data||{}).lite,lt=(this.isOwnPin||this.canDelete)&&!st,ct=!st&&S,dt={...n,...Object(Re.a)(j,n)},{done:ut}=(se||{}).aggregated_stats||{},{pin_tags_chips:pt}=se||{},mt=Ge&&Ge["236x"].height,ht=Ge&&Ge["236x"].width,gt=this.getPinTypes(),yt=Object(B.g)(j),{isCarousel:ft,isOneTap:_t,isRecipe:bt,isStoryPin:Et,isVideo:wt}=Object(Ae.getEligiblePinTypes)(gt),vt=Et?"":this.getTruncatedString(Me),Tt=this.getPinTitle(),xt=this.getTruncatedString(Pe),Ct=ae,It=!Ct&&"string"==typeof Me&&!Ee,Ot=!Ct&&!Tt&&!It,St=!(Ct||!Tt||It||b),Pt=l()("PinRep","Module","Pin","hasAttribution","summary","fullWidth",{flyoutShown:nt}),kt=Object(De.h)(j),Lt=gt.length>0,Rt=!_t&&!ft&&wt||bt&&!ft&&(!j.rich_summary||!j.rich_summary.aggregate_rating||!j.rich_summary.aggregate_rating.review_count),At=!b&&St&&Tt.length>0,Dt=!b&&Ot&&xt.length>0,jt=!At&&!Dt&&b,Mt=b&&gt.includes("gif"),Nt=Y.isAuth&&Y.isEmployee&&Ie,Bt=0!==Object.keys(Ce||{}).length||0!==Object.keys(se||{}).length&&0!==Object.keys(se.creator_analytics||{}).length,Ht=N||(!lt&&void 0!==e&&e>1?{type:"inline"}:{type:"classic"}),Ut=Y.isAuth&&ct&&S&&!jt,Ft="persistentOneClickSave"===Ht.type,Vt=Ht&&Ht.savedInfo&&Ht.savedInfo.title||"",zt=this.getFeedbackType();let qt=Le;if(Ee){const e=t||Ee.index||0,{carousel_slots:n=[]}=Ee,i=n[e]&&n[e].link||"";qt=(qt=i&&ke.a.parse(i).hostname)&&qt.replace("www.","")||Le}const Yt=j.is_native||j.promoter||!Ct&&(W||"followed"===zt),Gt=j.board&&j.board.should_show_board_activity,$t=Gt&&Yt&&!E,Wt=1===z&&!!f;return a.a.createElement(d.c,{position:"relative"},a.a.createElement("div",{className:Pt,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"pin","data-test-pin-id":j.id},H&&ee&&a.a.createElement(v.a,{id:"savedInfo"},a.a.createElement(d.c,{width:"172px",marginTop:Ft?3:2,paddingY:3,paddingX:3,position:"absolute",left:!0,top:!0,dangerouslySetInlineStyle:{__style:{zIndex:c.a.saved}}},a.a.createElement(be.a,{isNewlySaved:rt,name:Ft?Vt:H.title,url:Ft?Ht&&Ht.savedInfo&&Ht.savedInfo.url:H.url}))),a.a.createElement(u,{debugImpressionLogged:r,debugImpressionStarted:o,slotIndex:this.props.slotIndex},a.a.createElement("div",{className:l()("pinWrapper",K&&"disableHover"),"data-test-id":"pinWrapper",onClick:this.onPinRepClick},$t&&Gt&&a.a.createElement(d.c,{marginBottom:2},a.a.createElement(le,{hideTitle:!!Gt,pin:j,viewParameter:G,viewType:$})),We&&a.a.createElement(ge,{pinDeeplinkUrls:Object(C.m)(Ne),handleOneTapLogging:this.handleOneTapLogging,pinId:Ne,sourceUrl:ot}),a.a.createElement(I.a,{name:"web_nux_one_tap_save",isEligible:Y.isAuth&&Object(Be.c)({user:Y,days:7})},({anyEnabled:e})=>a.a.createElement(X,{boardActivity:de,buyableProduct:fe,componentType:this.getComponentType(),contextLogData:dt,denseViewSelected:s,description:Pe,domain:qt,dominantColor:je,doneCount:ut,hideSaveButton:k,imageHeight:mt,imageSignature:He,images:Ge,imageWidth:ht,showReactions:Gt,isEligibleForWebCloseup:We,isEligibleForAnalyticsCloseup:this.isEligibleForAnalyticsCloseup(),inNewUserOneTapExperiment:e,onSave:this.handleSave,onToggleFlyout:this.handleToggleFlyout,pin:j,pinsBoardEditableByViewer:M,pinTitle:Tt,requestContext:ie,saveOptions:Ht,searchOptions:U,selection:F,showButtons:!!(at&&!P||nt),showCondensedInfo:x,showEditPinButton:lt,showPromoteButton:$e,showRepinButton:!$e&&!Xe,showSendButton:Ut,slotIndex:z,sourceUrl:ot,truncatePinHeight:q,viewer:Y,viewParameter:G,viewType:$,isFlyoutOpen:nt&&"save"!==it},a.a.createElement(I.a,{name:"ads_desktop_video_ads",isEligible:wt,activate:!1},({anyEnabled:e})=>!wt||!e&&yt?a.a.createElement(he.a,{lowResOnly:L,highResOnly:R,onLoad:D,onError:A,pin:j,saved:!!H,animateGif:Mt}):a.a.createElement(xe.a,{inAdsDesktopVideoExperiment:e,isExperimentalPinRep:!1,lowResOnly:L,highResOnly:R,onLoad:D,onError:A,pin:j,saved:!!H,onTimeChange:this.handleCurrentVideoCurrentTimeChanged,viewType:$,viewParameter:G,currentTimeFromPinRep:this.currentVideoCurrentTime})))),!!pt&&!x&&pt.length>=3&&a.a.createElement(_e,{chips:pt.slice(0,3)}),jt&&a.a.createElement(d.c,{marginTop:2,marginBottom:3,width:"100%"},a.a.createElement(d.c,{width:ze,margin:"auto"},a.a.createElement(Se.a,{onFlyoutDismiss:()=>this.handleToggleFlyout(!nt&&"save"!==it),onToggleFlyout:()=>this.handleToggleFlyout(!nt&&"save"!==it),pinId:j.id,sendType:"pin",shownWithinMasonry:!0,isFlyoutOpen:nt&&"save"!==it,viewType:$}))),(!Ct||zt)&&!x&&!jt&&(Lt||J||At||Dt||Z||i||It||Nt||zt)&&a.a.createElement(d.c,{display:"flex",direction:"row",marginTop:1},a.a.createElement(d.c,{paddingX:2,flex:"grow",width:"100%"},J&&Bt&&a.a.createElement(we.a,{stats:Ye(j),isVideo:wt,isStoryPin:!!j.story_pin_data_id}),i&&!yt&&a.a.createElement(d.c,{paddingY:1},a.a.createElement(d.L,{color:"darkGray",size:"xs"},g.a.getHumanizedTimesince(i))),Lt&&!Rt&&a.a.createElement(d.c,{"data-test-id":"pin-type",minHeight:ft&&_t?40:24},a.a.createElement(w.a,null,a.a.createElement(Ve,{componentType:0,viewParameter:G,viewType:$,pinId:Ne,pin:j,types:gt}))),a.a.createElement(d.c,{display:"flex",justifyContent:"between"},a.a.createElement(d.c,{column:12},!!j.story_pin_data_id&&a.a.createElement(d.c,{paddingY:1},a.a.createElement(Te.a,{icon:"story-pin",pinId:Ne})),a.a.createElement(ye,{buyableProduct:fe,richSummary:Je,showProductInfo:Z}),It&&vt.length>0&&a.a.createElement(d.c,{paddingY:1},a.a.createElement(d.L,{size:"sm",weight:"bold"},a.a.createElement(pe.a,{text:vt,options:{hashtags:{appendText:vt,source:"hashtag_pinrep"}}}))),St&&Tt.length>0&&a.a.createElement(ve.a,{title:Tt,pinId:Ne}),Ot&&xt.length>0&&a.a.createElement(me,{description:xt,pinId:Ne}),bt&&a.a.createElement(Oe,{richSummary:Je}),a.a.createElement(ue,{feedbackType:zt,hideAttribution:E,imageOnly:Ct,imageOnlyAttribution:re,isHovering:at,isVideo:wt,onClickThrough:this.handleClickthroughLogging,onReactionReplyClick:this.handleReactionReplyClick,pin:j,showCredits:W,showPinReactionsReply:Q,sourceUrl:ot,viewParameter:G,viewType:$}))),Nt&&a.a.createElement(d.c,{paddingY:1},a.a.createElement("pre",null,Ie))),a.a.createElement(d.c,{display:"flex",direction:"column",alignItems:"center"},!T&&zt&&a.a.createElement(d.c,{"data-test-id":"feedback-button",display:"flex",justifyContent:"end",position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:c.a.max}},width:24,height:24},a.a.createElement(w.a,null,a.a.createElement(Ue,{ad_match_reason:oe,bestPinImgSrc:kt,board:ce,feedbackData:h&&h.data||{},feedbackType:zt,hideDownload:wt,isHomefeedContextualMenuTooltip:Wt,pinDescription:xt,pinTitle:Tt,pinId:Ne,pinCategory:tt,pinImage:Ge&&Ge["236x"].url,pinner:Ke,promoter:Ze,recommendationReason:Qe,reportPin:Object(m.a)({pin:j,viewParameter:G,viewType:$}),sourceInterest:et,viewParameter:G,viewType:$})))))))),a.a.createElement(I.a,{name:"web_homefeed_control_panel_nag",activate:!1},({anyEnabled:e})=>a.a.createElement(I.a,{name:"web_homefeed_control_panel_pin_feedback"},({anyEnabled:t})=>!!K&&a.a.createElement(w.a,null,a.a.createElement(Fe,{feedbackText:y,feedbackType:zt,pinId:Ne,pinImage:Ge&&Ge["236x"].url,undoAction:te,undoText:ne,isHomefeedControlPanelExp:e||t,showFeedbackOverlay:O})))))}}He(Ge,"defaultProps",{pinsBoardEditableByViewer:!1,showCondensedInfo:!1,truncatePinHeight:!0,showSavedInfo:!0});t.b=Object(N.compose)(Me.withRouter,Ne.a,Object(Le.a)(12),j.e,Object(r.connect)(({boards:e,experiences:t,pins:n,ui:i,viewer:a},{pin:{id:r,board:o}})=>{const s=n[r],l=a.isAuth?a.boardCount:void 0,c=o&&o.id,d=e.content[c],u=d&&(d.access||[]).includes("write"),{isSocialSeasonalBoard:p=!1}=e,m=a.isAuth&&(Object(Be.c)({user:a})||Object(Be.d)({user:a}))&&!a.isPartner;let h;if(s){const{carousel_data:e}=s;h=e&&e.index}const g=t&&t.eligibleExperiences&&t.eligibleExperiences[1000116]&&501093===t.eligibleExperiences[1000116].experience_id,y=i.app?i.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}};return{isSocialSeasonalBoard:p,boardCount:l,carouselIndex:h,isHomefeedContextualMenuTooltipExperience:g,feedbackText:s&&s.feedbackText,hideSaveButton:s&&s.pinner&&s.pinner.blocked_by_me,isNewOrResurrectedNonPartner:m,isShareable:!d||"secret"!==d.privacy,pinsBoardEditableByViewer:u,savedInfo:s&&s.savedInfo,showFeedback:s&&s.showFeedback,showFeedbackOverlay:s&&s.showFeedbackOverlay,undoAction:s&&s.undoAction,undoText:s&&s.undoText,videosAutoplaying:y}},(e,t)=>({setCurrentVideo:t=>e(Object(je.c)(t))})))(Ge)},US8k:function(e,t,n){function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,"a",(function(){return i}))},VJm5:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("ZbwW"),s=n("Ye/N"),l=n("gYog"),c=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=474,p=(e,t,n,i,r,o,l,d,p,m,h,g)=>{const{images:y,details:f=""}=e;let _,b,E,w;d?(_=p||0,b=m||0,E=y&&(y["564x"]&&y["564x"].url||y["736x"]&&y["736x"].url||y["236x"]&&y["236x"].url)):i?(_=u,b=y&&Math.min(_/.8,_/(y["564x"].width/y["564x"].height)),E=y&&y["564x"].url):(b=y&&y["236x"].height,_=y&&y["236x"].width,E=y&&y["236x"].url),w=r?`${y["236x"].url} 1x`:i?`${y["564x"].url} 1x`:[y["474x"]&&`${y["474x"].url} 2x`,y["736x"]&&`${y["736x"].url} 3x`,y.orig&&`${y.orig.url} 4x`].filter(Boolean).join(", ");const v=f||`${s.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`;return a.a.createElement(c.c,Object.assign({key:`carousel-slot-${t}-${n}`},g?{}:{height:b,width:_}),a.a.createElement(c.c,g?{height:h,width:g}:{},a.a.createElement(c.q,{alt:v,fit:g?"cover":"none",naturalHeight:b,naturalWidth:_,onError:o,onLoad:l,src:E,srcSet:w})))};class m extends i.Component{constructor(...e){super(...e),d(this,"state",{showBadge:!0}),d(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:i}=this.state,{carousel_slots:r,index:o}=e,s=i?.8:0;return!t&&n?a.a.createElement(c.c,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginRight:5,marginTop:5,shape:"rounded",dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:s,transition:"opacity .3s"}}},a.a.createElement(c.L,{color:"white",size:"md"},`${o+1}/${r.length}`)):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:a}=n,{index:r}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),a!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:i=0,cropHeight:r,cropWidth:o,carouselData:s,highResOnly:d,lowResOnly:m,onError:h,onLoad:g,pinId:y,isEditMode:f}=this.props;if(!s)return null;const{carousel_slots:_=[],index:b}=s,E=void 0!==t?t:b,w=!e&&o;let v;return v=e?i:w||(d?u:236),a.a.createElement(c.c,{height:n||"100%",width:v,overflow:"hidden","data-test-id":"carousel-pin"},!f&&this.renderBadge(),a.a.createElement(l.a,{trackCarousel:!0,key:`carousel-impression-key-${E}`,impressionType:"Pin",loggingId:y,slotIndex:b,viewParameter:72,viewType:1},a.a.createElement(c.c,{position:"absolute",height:n||"100%",width:v,overflow:"hidden"})),a.a.createElement(c.c,{width:v*_.length,dangerouslySetInlineStyle:{__style:{left:E*v*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative"},_.map((t,a)=>p(t,y,a,d,m,h,g,e,i,n,r,o))))}}d(m,"defaultProps",{showCarouselBadge:!0});t.a=Object(r.connect)(({pins:e},{carouselData:t,pinId:n})=>{const i=e[n],a=t||Object(o.a)(i);return{carouselData:a&&{...a,carousel_slots:(a.carousel_slots||[]).filter(e=>!!e.images["236x"])}}},()=>({}))(m)},Warx:function(e,t,n){n.d(t,"a",(function(){return r}));const i=80,a="…";function r(e,t={}){const{maxLength:n=i,suffix:r=a}=t;return e.length<=n?e:e.substring(0,n-1).replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,"")+r}},XRfM:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return h}));var i=n("Ye/N");const a=function(e){return i.a.getPluralFunction(e)},r=function(e,t,n,i,a="symbol"){const r={maximumFractionDigits:e,minimumFractionDigits:t};return n&&(r.style=n,"currency"===n&&(r.currency=i,r.currencyDisplay=a)),r},o=function(e,t){const n=t||0,i=Math.pow(10,n),a=+(n?e*i:e).toFixed(8),r=Math.floor(a),o=a-r,s=o>.5-1e-8&&o<.5+1e-8?r%2==0?r:r+1:Math.round(a);return n?s/i:s},s={USD:"$",GBP:"£",CAD:"$",EUR:"€",AUD:"A$",NZD:"NZ$",SEK:"kr",NOK:"kr",DKK:"kr"},l=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function c(e,t,n,i,a,o,s){const c=r(n,i,a,o,s);return t.toLocaleString([l(e)?e:"en-US"],c)}function d(e,t,n){let a,r;const s=n&&n.style||void 0,l=n&&n.shortform||!1,d=n&&n.uplimit||void 0,u=n&&n.currency||void 0;if(d&&t>d)return`${d}+`;if("currency"===s?(a=void 0===n||void 0===n.maximum_fraction_digits?2:n.maximum_fraction_digits,r=void 0===n||void 0===n.minimum_fraction_digits?2:n.minimum_fraction_digits):(a=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,r=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits),l&&t>999&&(a=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,r=0),a<r)return String(t);let p=t,m="";const h=[{"100M":{value:1e8,localeKey:i.a._("億","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:i.a._("万","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],g=[{b:{value:1e9,localeKey:i.a._("b","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:i.a._("m","Abbreviation for one million.")}},{k:{value:1e3,localeKey:i.a._("k","Abbreviation for one thousand.")}}],y=/^zh|ja|ko/.test(e);if(l&&t>999){const e=y?h:g;for(let n=0;n<e.length;n+=1){const i=Object.keys(e[n])[0],r=e[n][i].value;if(t>=r){p=o(t/r*Math.pow(10,a))/Math.pow(10,a),m=e[n][i].localeKey;break}}}return c(e,p,a,r,s,u||void 0)+m}const u={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH_DAY:"short_month_day"},p=function(e){return 1.1.toLocaleString(e).substring(1,2)},m=function(e,t){return","===p(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},h=function(e,t){return","===p(t)&&e?e.replace(",","."):e},g={DateFormatType:u,formatDate:function(e,t,n,i=!0){if(n===u.YEAR)return(t.getYear()+1900).toString();{let a;switch(n){case u.LONG:a={year:"numeric",month:"long",day:"numeric"};break;case u.NUMERIC:a={year:"numeric",month:"numeric",day:"numeric"};break;case u.WEEKDAY_DATE:a={weekday:"long",month:"long",day:"numeric",year:"numeric"};break;case u.SHORT_WEEKDAY_DATE:a={weekday:"short",month:"numeric",day:"numeric"};break;case u.MONTH_DAY:a={month:"long",day:"numeric"};break;case u.SHORT_MONTH_DAY:a={month:"short",day:"numeric"};break;case u.LONG_MONTH_YEAR:a={month:"long",year:"numeric"};break;default:throw new Error('invalid dateFormatType "'+n+'"')}return i&&(a.timeZone="UTC"),IntlPolyfill.__disableRegExpRestore(),new IntlPolyfill.DateTimeFormat(e,a).format(t)}},ngettext:function(e,t,n,r){const o=+a(e)(r);let s;return s="en-US"===e&&1===o?n:t,i.a._(s,"",o)},prettyNumberFormat:d,numberFormat:c,currencySymbols:s,localizeCurrencyValue:m,unlocalizeCurrencyValue:h};t.b=g},XSD5:function(e,t,n){function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return i}))},YxyV:function(e,t,n){n.d(t,"l",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"o",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return f})),n.d(t,"n",(function(){return _})),n.d(t,"d",(function(){return E})),n.d(t,"i",(function(){return w})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return T})),n.d(t,"e",(function(){return x}));n("Ye/N"),n("xdpg");var i=n("yjg8"),a=n("wzxk"),r=n("9Hsp");const o=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},s=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:1,maxNumDescriptionLines:2}),l=e=>"ja"===e?23:19,c=e=>{return l(e)*s().maxNumTitleLines},d=(e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const a=s().maxNumTitleLines;(n=Math.floor(e.length/i)+1)>a&&(n=a)}return n},u=(e,t)=>{return((e,t)=>{if(e){const n=d(e,t);return l(t)*n}return 0})(Object(a.d)(e),t)+8},p=e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!(!t&&!n)||!(!e.rich_metadata||!e.rich_metadata.title)},m=e=>{const t=e.pin_join||{};let n=t.visual_annotation||[],i=Object(a.c)(t)||[],o=e.description||"";const s=(e.rich_metadata||{}).description||"",l=n.map(e=>{return(t.annotations_with_links||{})[e]||{name:e,url:""}}),c=Object(a.b)(e).toLocaleLowerCase().trim(),d=o.toLocaleLowerCase().trim(),u=s.toLocaleLowerCase().trim(),p=i.length>0?i[0].toLocaleLowerCase().trim():"";return s&&s.length>3&&u!==c?(d!==u&&d!==p&&(i=[...i,o]),o=s):i.length>0&&i[0].length>=3&&p!==c?(o&&o.length>3&&d!==c&&d!==p&&(i=[...i,o]),o=i[0],i=i.slice(1)):(!o||o.length<3||d===c)&&(n.length?(o=n.join(", "),n=[]):o=""),o&&(o=Object(r.a)(Object(r.b)(o,496)).trim()),{description:o,vaseAnnotations:n,vaseDescriptions:i,annotationsWithLinks:l}},h=(e,t,n)=>{if("pin"===n)return m(e);if("board"===n){if((t&&t.v2ActivateExperiment("meta_pin_title_description_board")||"").startsWith("enabled"))return m(e)}return Object(a.e)(e)},g=(e,t=!1)=>e&&e.length>0&&!t,y=e=>{let t=0;if(e){e=Object(r.a)(e);const n=35,i=s().maxNumDescriptionLines;(t=Math.floor(e.length/n)+1)>i&&(t=i)}return t},f=e=>{const t=s();return t.descriptionLineHeight*t.maxNumDescriptionLines},_=(e,t,n,i,a,r=!0,o=!1)=>{if(!i)return null;if(r){const t=g(n);return e&&e.length>0||!t&&n&&n.length>0}return!1},b=(e,t,n,i)=>{let a=0;const{description:r,vaseAnnotations:o,vaseDescriptions:l}=h(e,n,t),c=s();if(_(l,r,o,e,n)&&(a+=c.seeMoreButtonHeight,a+=c.seeMoreButtonBottomMargin),g(o,i)&&(a+=c.vaseCarouselHeight),!i){const e=y(r);a+=c.descriptionVerticalMargin+c.descriptionLineHeight*e}if(e.pinner&&e.board&&(a+=28),e.expandedVASE&&l&&l.length>0){a+=((e,t,n)=>{const{vaseDescriptions:i}=h(e,t,n);let a=0;return i&&i.length>0&&i.forEach((e,t)=>{a+=Math.ceil(e.length/49)}),11*a+5*i.length})(e,n,t)}return a},E=(e,t,n,i=!1,a,r)=>{const o=p(e)?u(e,t):0,s=i?0:b(e,r,n,a);return o||s?s+o+10:0},w=(e,t="orig")=>{const n=["orig","736x","564x","474x","236x","170x"];let i=e.images[t];if(i)return i;{const a=n.indexOf(t);if(a>=0)for(let t=a+1;t<n.length;t+=1){const a=n[t];if(i=e.images[a])return i}}return e.images["236x"]};function v(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const T=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let a=n<t?n:t,r=600;n>600&&!e.fullImage&&(r=500);const o=w(e,"orig");if(o){const e=Math.floor(o.height*i.e/o.width);a=e>r?r:e}return a},x=(e,t=6)=>{const n=[];if(e.length>0){const i=new Set;let a=0;for(;n.length<t&&a<e.length;){const t=e[a];t.images&&(!t.link||t.link&&!i.has(t.link))&&(n.push(t),i.add(t.link)),a+=1}}return n}},ZbwW:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("EDqd");function a(e){const t=e&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0];return t&&t.additional_images&&t.additional_images.length>0?Object(i.a)(e.images,t,e.carousel_data&&e.carousel_data.index):e&&e.carousel_data}},Zxas:function(e,t,n){n.d(t,"a",(function(){return r}));const i=80,a="…";function r(e,t=i,n=a){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},b9Z9:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("n6mq");const o=136,s={__style:{opacity:.5}};function l({isHorizontalDesign:e}){return e?a.a.createElement(r.c,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},a.a.createElement(r.c,{dangerouslySetInlineStyle:s,color:"midnight",height:"100%",width:"100%",flex:"grow"}),a.a.createElement(r.c,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.c,{dangerouslySetInlineStyle:s,color:"olive",width:"100%",flex:"grow"}),a.a.createElement(r.c,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.c,{dangerouslySetInlineStyle:s,color:"maroon",width:"100%",flex:"grow"})):a.a.createElement(r.c,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},a.a.createElement(r.c,{dangerouslySetInlineStyle:s,color:"midnight",height:"100%",flex:"grow"}),a.a.createElement(r.c,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.c,{display:"flex",height:o,direction:"column",flex:"grow"},a.a.createElement(r.c,{dangerouslySetInlineStyle:s,color:"olive",width:"100%",flex:"grow"}),a.a.createElement(r.c,{color:"white",height:"2px",flex:"none"}),a.a.createElement(r.c,{dangerouslySetInlineStyle:s,color:"maroon",width:"100%",flex:"grow"})))}var c=n("Ye/N");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=136,p={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class m extends i.PureComponent{constructor(...e){super(...e),d(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),d(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url),n):n}),d(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return a.a.createElement(r.c,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%"},!!e&&a.a.createElement(r.q,{naturalHeight:1,src:e,fit:"cover",alt:c.a._("user's pin","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)}))}),d(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?a.a.createElement(r.c,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0)):2===t.length?a.a.createElement(r.c,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0),a.a.createElement(r.c,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)):e?a.a.createElement(r.c,{height:"100%",width:"100%",display:"flex",direction:"row"},a.a.createElement(r.c,{height:"100%",width:"100%"},this.getImage(t[0],0)),a.a.createElement(r.c,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.c,{height:"100%",width:"100%"},this.getImage(t[1],1)),a.a.createElement(r.c,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.c,{height:"100%",width:"100%"},this.getImage(t[2],2))):a.a.createElement(r.c,{height:"100%",width:"100%",display:"flex",direction:"row"},a.a.createElement(r.c,{height:"100%",flex:"grow"},this.getImage(t[0],0)),a.a.createElement(r.c,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.c,{display:"flex",height:u,direction:"column",flex:"grow"},a.a.createElement(r.c,{width:"100%",flex:"grow"},this.getImage(t[1],1)),a.a.createElement(r.c,{color:"white",height:"2px",flex:"none"}),a.a.createElement(r.c,{width:"100%",flex:"grow"},this.getImage(t[2],2)))),a.a.createElement(r.c,{height:u,display:"flex",direction:"column"},a.a.createElement(r.c,{width:"100%",position:"relative",flex:"grow"},a.a.createElement(l,{isHorizontalDesign:e}),n,a.a.createElement(r.c,{dangerouslySetInlineStyle:p,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})))}}var h=n("3gA6"),g=n("U4JR");function y(e,t){Object(g.a)(101,{view:e,viewParameter:t,component:13406,element:11373})}var f=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:o,userFullName:s,viewParameter:l,viewType:c}=e,d=i?80:86;return a.a.createElement(r.c,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0,zIndex:1}},display:"flex",flex:"none",shape:"circle"},a.a.createElement(r.c,{flex:"none",height:d,width:d},a.a.createElement(h.b,{onClick:y(c,l),to:o,stopPropagation:!0},a.a.createElement(r.a,{name:s,src:t,verified:n}))))},_=n("Zxas");function b({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:o}){const s=o*t,l=Object(_.a)(e,s);return n?a.a.createElement(r.L,{align:i?"left":"center",overflow:"normal",size:"sm",weight:"bold"},l):a.a.createElement(r.L,{align:i?"left":"center",overflow:"normal",size:"sm",weight:"normal",color:i?"darkGray":"gray"},l)}const E=18;function w({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const o=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:o?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:o?1:0}}};return a.a.createElement(r.c,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column"},a.a.createElement(r.c,{height:E,width:"100%"},a.a.createElement(r.L,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold"},i)),a.a.createElement(r.c,{marginTop:2,overflow:"hidden",position:"relative",width:"100%"},a.a.createElement(r.c,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"},a.a.createElement(r.c,{color:"lightGray",shape:"pill",width:180,flex:"grow"}),a.a.createElement(r.c,{height:6,flex:"none"}),a.a.createElement(r.c,{color:"lightGray",shape:"pill",width:140,flex:"grow"})),n&&!!t&&a.a.createElement(r.c,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1},a.a.createElement(b,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})),n&&!!e&&a.a.createElement(r.c,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2},a.a.createElement(b,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})),!n&&!!o&&a.a.createElement(r.c,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%"},a.a.createElement(b,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:o}))))}var v=n("/MKj"),T=n("oRao"),x=n("vvax");function C({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:o}){return i?Object(x.b)(c.a._("{{ followCount }} {{ followText }}"),{followCount:a.a.createElement(r.c,{dangerouslySetInlineStyle:{__style:o?null:{opacity:.75}},"data-test-id":"followCount",display:"inlineBlock",key:"followCount",marginRight:1},a.a.createElement(r.L,{color:o?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold"},a.a.createElement(T.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0}))),followText:a.a.createElement(r.c,{"data-test-id":"followText",display:"inlineBlock",key:"followText"},a.a.createElement(r.L,{weight:"bold",color:o?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center"},e))}):a.a.createElement(r.c,{"data-test-id":"followText",key:"followText"},a.a.createElement(r.L,{weight:"bold",color:o?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center"},e))}var I=n("CvCA"),O=n("nGHF"),S=n("ZVOf");var P=Object(v.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(S.a)(t)),unfollow:t=>e(Object(S.b)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:i,follow:o,id:s,viewParameter:l,viewType:d,fullName:u,imageUrl:p,profileUrl:m}){const{showOneToast:h}=Object(O.b)(),y=i?c.a._("Following","User follow button"):c.a._("Follow","User follow button"),f=e=>Object(g.a)(e,{view:d,viewParameter:l,component:13406,element:11372});return a.a.createElement(r.c,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative"},a.a.createElement(r.Q,{onTouch:()=>{i?(Object(S.b)(s),f(46)):(o(s),f(45),h(({onHide:e})=>a.a.createElement(I.a,{onHide:e,text:[c.a._("Now following","text that comes before a board/user name in toast"),u],href:m,imageUrl:p})))},shape:"pill"},a.a.createElement(r.c,{alignItems:"center",color:i?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,shape:"pill"},a.a.createElement(C,{followerCount:e,followText:y,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:i}))))}));function k({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:o,isCreator:s,isHorizontalDesign:l,isVerified:c,userFullName:d,username:u,viewParameter:p,viewType:m}){const h=function(e){return`/${e}`}(u);return a.a.createElement(r.c,{alignItems:l?"start":"center",display:"flex",direction:"column",paddingX:l?5:6,paddingY:l?3:4,marginTop:2,width:"100%"},a.a.createElement(f,{avatarUrl:e,isHorizontalDesign:l,isVerified:c,url:h,userFullName:d,viewType:m,viewParameter:p}),l&&a.a.createElement(r.c,{position:"relative",width:"100%"},a.a.createElement(r.c,{display:"flex",marginTop:-2,marginRight:-2,position:"absolute",right:!0,top:!0},a.a.createElement(P,{fullName:d,followerCount:i,id:o,imageUrl:e,isHorizontalDesign:l,profileUrl:h,showFollowerCount:s})),a.a.createElement(r.c,{width:"100%",display:"flex",left:!0,marginTop:1},a.a.createElement(w,{description:t,domainUrl:n,isHorizontalDesign:l,userFullName:d}))),!l&&a.a.createElement(r.c,{width:"100%"},a.a.createElement(w,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:l}),a.a.createElement(r.c,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement(P,{followerCount:i,fullName:d,id:o,imageUrl:e,isHorizontalDesign:l,profileUrl:h,showFollowerCount:s}))))}var L=n("TiQD");const R=24;function A({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:o,top:s,width:l,height:c}=e.getBoundingClientRect(),d=o+window.pageXOffset,u=s+window.pageYOffset,p=d+l+i+R/2>window.innerWidth,m={left:p?d:d+l,top:u+c/2,zIndex:L.a},h={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-R/2-i:R/2,top:-i/2-44},g={top:-R/2,left:-R/2,fill:"white"},y=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return a.a.createElement(r.c,{position:"absolute",dangerouslySetInlineStyle:{__style:m}},a.a.createElement(r.c,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:h},width:i,overflow:"hidden"},t),a.a.createElement(r.c,{position:"absolute",dangerouslySetInlineStyle:{__style:g}},a.a.createElement("svg",{width:R,height:R},a.a.createElement("path",{d:y}))))}var D=n("eOdZ"),j=n("LT60"),M=n("joD6"),N=n("fArA"),B=n("/5zs"),H=n("pLLR");function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F=300,V=150;t.a=Object(N.compose)(H.e,M.a)(class extends i.PureComponent{constructor(e){super(e),U(this,"anchorRef",a.a.createRef()),U(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(D.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),D.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),D.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),U(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),U(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isHovering:!1,isVisible:!1}),clearTimeout(this.openTimeout))},V)}),U(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:a,isLoaded:r,isMounted:o}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&a!==t&&this.forceUpdate(),t&&this.setState({isHovering:!0,currentPinId:t});const s=new B.b(n,"web_avatar_hover_cards_v2");156!==i&&0!==i||e||!(s.check("enabled")||s.check("enabled2_vertical")||s.check("enabled2_horizontal"))?o&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout(()=>{o&&this.setState({isVisible:!0})},F))}),U(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isHovering:!1,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t;return{user:{...Boolean(n)?n:{},...Boolean(i)?i:{}}}}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:o,viewParameter:s,viewType:l}=this.props,{isVisible:c,showcase:d,user:u,userPins:p}=this.state,{about:h,domain_url:g,follower_count:y,full_name:f,id:_,image_medium_url:b,show_creator_profile:E,verified_identity:w}=u||{},v=o.id===_,T=!!w&&w.verified,x=new B.b(n,"web_avatar_hover_cards_v2").checkWithNoActivation("enabled2_horizontal");return a.a.createElement(r.c,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard},a.a.createElement(r.c,{marginLeft:-2,marginRight:-2,paddingX:2,position:"relative"},a.a.createElement(r.c,{height:e,left:!0,marginLeft:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t),!v&&!!u&&!!i&&c&&a.a.createElement(r.c,null,a.a.createElement(j.a,null,a.a.createElement(r.s,null,a.a.createElement(A,{anchor:this.anchorRef.current,isHorizontalDesign:x},a.a.createElement(r.c,{color:"white",dangerouslySetInlineStyle:{__style:{zIndex:L.a}},onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%"},a.a.createElement(r.c,{width:"100%"},a.a.createElement(m,{isHorizontalDesign:x,userPins:p,showcase:d}),a.a.createElement(k,{avatarUrl:b,description:h,domainUrl:g,followerCount:y,id:_,isCreator:E,isHorizontalDesign:x,isVerified:T,userFullName:f,username:i,viewParameter:s,viewType:l}))))))))}})},bZS0:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("oRao"),s=n("vvax");function l({m:e,h:t,rm:n,rh:i}){return e&&(!t||i<=0)?Object(s.b)(r.a.ngettext("{{mins}} minute","{{mins}} minutes",n),{mins:a.a.createElement(o.a,{key:"recipe-minutes",maximumFractionDigits:2,value:n})}):t?Object(s.b)(r.a.ngettext("{{hrs}} hour","{{hrs}} hours",i),{hrs:a.a.createElement(o.a,{key:"recipe-hours",maximumFractionDigits:2,value:i})}):null}},fc1g:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r}));const i=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),a=e=>({type:"MOST_RECENT_PLP",payload:{plpPinId:e}}),r=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},fevN:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("rYoy"),s=n("n6mq");const l=Object(i.lazy)(()=>n.e("SendObjectWrapperCommon").then(n.bind(null,"geGc")));function c(e){return a.a.createElement(o.a,{fallback:a.a.createElement(s.c,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2},a.a.createElement(s.H,{accessibilityLabel:r.a._("Loading sharing","Accessibility label for loading sharing UI"),show:!0}))},a.a.createElement(l,e))}},gYog:function(e,t,n){var i=n("q1tI"),a=n("i8i4"),r=n("/MKj"),o=n("ZbwW"),s=n("D2p8"),l=n("U4JR");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},HybridSearchHero:{impressionType:"hybridSearchHeroImpressions",idType:"hybridSearchHero",eventType:7308},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573}};t.a=Object(r.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(o.a)(n)}}),()=>({}))(class extends i.Component{constructor(e){super(e),c(this,"trackImpression",()=>{try{this.node=Object(a.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),c(this,"logImpression",e=>{const{carousel_data:t,impressionType:n,trackCarousel:i,contextLogData:a,viewData:r,viewType:o,viewParameter:s,componentType:c,objectIdStr:u,loggingId:p,slotIndex:m,impressionAuxFields:h}=this.props,g=d[n],y=g.idType,f=e.forcedExit&&"removed"===e.forcedExit?0:void 0,_={endTime:e.endTime,[y]:p,slotIndex:m,time:e.startTime,renderDuration:e.endTime-e.startTime,...h,forcedExit:f};if(i||Object(l.a)(g.eventType,{viewData:r||{},view:o,viewParameter:s,component:c,objectIdStr:u,eventData:{[g.impressionType]:[_]},...a}),t&&i){const{carousel_slots:e,index:n,id:i}=t;Object(l.a)(7352,{viewData:r||{},view:o,viewParameter:s,component:c,objectIdStr:u,eventData:{pinCarouselSlotImpressions:[{..._,carouselDataId:Number(i),carouselSlotId:e[n]&&Number(e[n].id),slotIndex:n}]},...a})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}})},i9se:function(e,t,n){n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("Y+p1"),a=n.n(i),r=n("QkVN"),o=n.n(r),s=n("KFEb");const l={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},c={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},d={[c.BOARD]:s.a.BOARD_ACTIVITYITEMS,[c.BOARD_ACTIVITY]:s.a.BOARD_ACTIVITYCOMMENTS,[c.BOARD_ACTIVITY_COMMENT]:s.a.BOARD_ACTIVITYCOMMENTS},u={},p=(e,t)=>{const n={...o()({},e,t),...t.content?{content:t.content}:{},...t.reaction_counts?{reaction_counts:t.reaction_counts}:{}};return a()(e,n)?e:n},m=e=>e.reduce((e,t)=>{if(11===t.activity_type&&t.comment&&t.ref_board_activity){const n=t.comment,i=t.ref_board_activity;n&&i&&(e.push({...n,user:t.user}),e.push(i),e.push({...t,comment:{id:n.id},ref_board_activity:{id:i.id}}))}else e.push(t);return e},[]);t.d=(e=u,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:{data:n,name:i,options:a}}=t;if("BoardActivityCommentFeedResource"===i){const t=(n||[]).reduce((t,n)=>(t[n.id]=p(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityFeedResource"===i){const t=m(n||[]).reduce((t,n)=>(t[n.id]=p(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityResource"===i&&n){const t=n;return{...e,[t.id]:p(e[t.id],t)}}if("BoardActivityPinsGridCommentsResource"===i){const t=Object.values(n||{}).reduce((e,t)=>e.concat(t||[]),[]).reduce((t,n)=>Object.prototype.hasOwnProperty.call(n,"id")?{...t,[n.id]:p(e[n.id],n)}:t,{});return{...e,...t}}if("BoardActivityCommentResource"===i&&n){const t=n,i={[t.id]:p(e[t.id],t)};if(t.root_board_activity){const n=t.root_board_activity.id;i[n]=p(e[n],t.root_board_activity)}return{...e,...i}}if("NewsHubDetailsResource"===i&&n&&n.length>0&&n[0].content_items){const t={};return n.forEach(e=>{e.content_items.forEach(e=>{const n=e.content_object&&e.content_object.type;if(n===c.BOARD_ACTIVITY_COMMENT||n===c.BOARD_ACTIVITY){const n=e.content_object;m([n]).forEach(e=>t[e.id]=e)}})}),{...e,...t}}if(["PinResource","PinPageResource"].includes(i)&&n&&n.board_activity){const t=n.board_activity;return t.board=n.board,{...e,[t.id]:p(e[t.id],t)}}if(("BoardFeedResource"===i||"BoardSectionPinsResource"===i)&&("react_grid_pin_with_board_activity"===a.field_set_key||"partner_react_grid_pin_with_board_activity"===a.field_set_key)||"BoardActivityPinsFeedResource"===i){const t=(n||[]).reduce((t,n)=>{const i=n.board_activity;return i&&i.id&&(t[i.id]=p(e[i.id],i)),t},{});return{...e,...t}}}else{if("ACTIVITY_ITEM_CREATED"===t.type){const{payload:{activityItem:n}}=t;return{...e,[n.id]:n}}if("ACTIVITY_ITEM_DELETED"===t.type){const{payload:{activityId:n,activityType:i}}=t;if(i===c.BOARD_ACTIVITY_COMMENT||i===c.BOARD_ACTIVITY){const t={...e};return delete t[n],t}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:p(e[n.id],n)}}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:i}}=t,a=e[i];if(a&&[c.BOARD_ACTIVITY_COMMENT,c.BOARD_ACTIVITY].includes(a.type)){const t={...a,comment_count:n?a.comment_count+1:a.comment_count-1};return{...e,[i]:t}}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){const{payload:{increment:n,id:i,reactionType:a}}=t,r=e[i]||{},{reaction_counts:o={}}=r,s=o[a]||0,l=n?s+1:Math.max(s-1,0),c=n?a:0,d={...r,reaction_counts:{...o,[a]:l},reaction_by_me:c};return{...e,[i]:d}}}}return e}},nj6m:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("2xqg"),o=n.n(r),s=n("n6mq");const l=({fill:e,width:t,color:n,isLego:i=!1})=>{const r="yellow"===n?"#e2780d":"#333",o="half"===e?a.a.createElement("svg",{height:t,width:t,viewBox:"0 0 24 24",role:"img",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fill:r,d:"M12.00,0.00 L12.00,0.00 C11.40,0.00 10.79,0.35 10.57,1.06 L8.48,7.92 L1.49,7.92 C0.07,7.92 -0.54,9.75 0.59,10.62 L6.30,15.03 L4.16,22.04 C3.73,23.44 5.34,24.57 6.49,23.68 L12.00,19.43 L12.00,0.00 Z"}),a.a.createElement("path",{fill:"lightgray",d:"M12.00,0.00 L12.00,0.00 C12.60,0.00 13.21,0.35 13.43,1.06 L15.52,7.92 L22.51,7.92 C23.93,7.92 24.55,9.75 23.41,10.62 L17.70,15.03 L19.84,22.04 C20.27,23.44 18.66,24.57 17.51,23.68 L12.00,19.43 L12.00,0.00 Z"})):a.a.createElement("svg",{height:t,width:t,viewBox:"0 0 24 24",role:"img",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fill:"full"===e?r:"lightgray",d:"M13.43,1.06 L15.52,7.92 L22.51,7.92 C23.93,7.92 24.54,9.75 23.41,10.62 L17.70,15.03 L19.84,22.04 C20.27,23.44 18.66,24.57 17.51,23.68 L12.00,19.43 L6.49,23.68 C5.34,24.57 3.73,23.44 4.16,22.04 L6.30,15.03 L0.59,10.62 C-0.54,9.75 0.07,7.92 1.49,7.92 L8.48,7.92 L10.58,1.06 C11.01,-0.35 12.99,-0.35 13.43,1.06"}));return a.a.createElement(s.c,{dangerouslySetInlineStyle:{__style:{marginRight:i?"3px":0}},display:"inlineBlock"},o)};function c({max_rating:e,rating:t,width:n,color:i,isLego:r=!1}){const s=[],c=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(isNaN(c))return null;const d=Math.floor(c),u=c-d;return o()(d,e=>s.push(a.a.createElement(l,{fill:"full",width:n,key:e,color:i,isLego:r}))),u>=.75?s.push(a.a.createElement(l,{fill:"full",width:n,key:s.length,color:i,isLego:r})):u>=.25&&s.push(a.a.createElement(l,{fill:"half",width:n,key:s.length,color:i,isLego:r})),o()(5-s.length,()=>s.push(a.a.createElement(l,{fill:"empty",width:n,key:s.length,color:i,isLego:r}))),a.a.createElement(a.a.Fragment,null,s)}},oRao:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("XRfM"),o=n("pLLR");t.a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:i,shortformMaximumFractionDigits:s,formatStyle:l,uplimit:c,value:d})=>a.a.createElement(o.a,null,a=>Object(r.d)(a.locale,d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:i,shortform_maximum_fraction_digits:s,style:l,uplimit:c}))},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user"}},pSsd:function(e,t,n){n.d(t,"a",(function(){return i}));const i="favorited"},q7Wf:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p}));var i=n("JW66"),a=n("zwad");const r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function o(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+a.a.getQueryStringFromObject({term_meta:e.map(e=>s(e))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find(e=>i.a.SEARCH_FILTER_CONJUNCTIONS.includes(e.toLowerCase()))?[e]:t}return[]}function d({type:e,query:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map(t=>({index:n,term:t,type:e}));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return c(t).map(t=>({term:t,type:e,index:n}));default:return[]}}function u(e){const{query:t,rs:n,scope:i,guideAdded:r,filters:o,termMeta:s,user:l}=e;if(!t)return"/";const c={q:t,rs:n,term_meta:s};if(o&&(c.filters=o),l&&(c.user=l),r&&r.term&&(c.add_refine=`${r.term}|guide|word|${r.index}`),window.location.pathname.startsWith("/explore"))return`/search/pins/?${a.a.getQueryStringFromObject(c)}`;let d=i;return["pins","buyable_pins","my_pins","boards","users"].includes(d)||(d="pins"),d?`/search/${d}/?${a.a.getQueryStringFromObject(c)}`:`${window.location.pathname}?${a.a.getQueryStringFromObject(c)}`}function p(e,t,n,i){const r=a.a.getQueryStringParams();r.add_refine&&(r["term_meta[]"]?r["term_meta[]"].push(r.add_refine):r["term_meta[]"]=[r.add_refine]);const o=r["term_meta[]"];return u({query:e,rs:i,termMeta:"string"==typeof o?[o]:o,guideAdded:{term:t,index:n}})}},qWlA:function(e,t,n){var i=n("zpPL"),a=n("+PUW");t.a=e=>{const t=i.a.instance&&i.a.instance.getState()||{viewer:{}};return!t.viewer.isAuth||t.viewer.isLimitedLogin?e=>i.a.instance.dispatch(a.a):e}},qhFy:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("VJm5"),o=n("TSYQ"),s=n.n(o),l=n("H2go"),c=n("n6mq");function d({onError:e,onLoad:t,pin:n}){const{title:i="",dominant_color:r,images:o={}}=n,s=`${16/9*100}%`,d=o["236x"].width>o["236x"].height?o["736x"]:o["236x"];return a.a.createElement(c.c,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:s}}},a.a.createElement(c.c,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:l.a.storyPinImage}}},a.a.createElement(c.q,{alt:i,color:r,naturalHeight:d.height,naturalWidth:d.width,onError:e,onLoad:t,src:d.url,fit:"cover"})))}t.a=({cropHeight:e,cropWidth:t,highResOnly:n,lowResOnly:i,mediumResOnly:o,onError:l,onLoad:u,pin:p,saved:m=!1,animateGif:h})=>{const{carousel_data:g,description:y="",dominant_color:f,id:_,images:b}=p;if(g)return a.a.createElement(r.a,{onError:l,onLoad:u,highResOnly:n,lowResOnly:i,pinId:_});let E,w="",v=0,T=0;if(b){let e=b["236x"];n?e=b["736x"]||b.orig||b["474x"]||b["236x"]:o&&(e=b["474x"]||b.orig||b["236x"]),v=e.height,T=e.width,w=e.url,E=i||o||n?`${e.url} 1x`:[`${b["236x"].url} 1x`,b["474x"]&&`${b["474x"].url} 2x`,b["736x"]&&`${b["736x"].url} 3x`,b.orig&&`${b.orig.url} 4x`].filter(Boolean).join(", ")}if(h){const e=Math.max(p.embed&&p.embed.width||0,236),t=Math.max(p.embed&&p.embed.height||0,236),n=p.embed?p.embed.src:"";n&&(v=t,T=e,w=n,E="")}return a.a.createElement(c.c,{minHeight:120,display:"flex",alignItems:"center"},a.a.createElement(c.c,{flex:"grow"},a.a.createElement("div",{className:s()({savedGradient:m})},p.story_pin_data_id?a.a.createElement(d,{pin:p,onError:l,onLoad:u}):a.a.createElement(c.c,t?{height:e,width:t}:{},a.a.createElement(c.q,{alt:y,color:f,fit:t?"cover":"none",naturalHeight:v,naturalWidth:T,onError:l,onLoad:u,src:w,srcSet:E})))))}},rSLd:function(e,t,n){n.r(t),n.d(t,"CarouselEllipsis",(function(){return f}));var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("XSD5"),s=n("ZbwW"),l=n("0nTG"),c=n("/5zs"),d=n("U4JR"),u=n("pLLR"),p=n("n6mq"),m=n("fArA");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=()=>{},y=(e,t,n,i,a,r,o,s,c,u)=>{if(!u){const{carousel_slots:u,id:p}=a;Object(d.a)(108,{...c,objectId:t,component:s,view:o,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(l.a)(e)||{}})}};class f extends a.a.Component{constructor(...e){super(...e),h(this,"state",{isHovered:!1}),h(this,"handleMouseEnter",()=>{this.setState({isHovered:!0})}),h(this,"handleMouseLeave",()=>{this.setState({isHovered:!1})})}render(){const{carouselIndex:e,carouselData:t,changeCarouselSlotIndex:n,handleCarouselSwipe:i,isCloseup:r,pin:o,pinId:s,contextLogData:l,requestContext:d,viewParameter:u,viewType:m,componentType:h,isEditMode:f,closeupImageHovered:_=!1,variant:b}=this.props;if(!t)return null;const{isHovered:E}=this.state,{carousel_slots:w=[],index:v}=t,T=void 0!==e?e:v,x="default"===b,C=!r&&new c.c(d,"web_carousel_pip_improvements").enabled();d.experiments.flush();const I=C?10:x&&r||!r?8:16,O=r&&x||C?2:1,S={__style:{backgroundColor:E?"rgba(0, 0, 0, 0.05)":_?"rgba(0, 0, 0, 0)":"rgba(0, 0, 0, 0.7)"}},P=x?"white":"#555",k=x?"rgba(255, 255, 255, 0.5)":"lightGray",L=[];for(let c=0;c<w.length;c+=1){const e=c===T;L.push(a.a.createElement(p.c,{key:s+c,marginRight:c!==w.length-1?O:0},a.a.createElement(p.Q,{fullWidth:!1,shape:"circle",onTouch:({event:e})=>{f||void 0===n||(e.preventDefault(),e.stopPropagation(),n(String(s),c)),void 0!==i&&i(c),y(o,s,T,c,t,u,m,h,l,f)}},a.a.createElement(p.c,{"data-test-id":"ellipsis-size",height:I,width:I,dangerouslySetInlineStyle:{__style:{backgroundColor:e?P:k}},shape:"circle"}))))}return a.a.createElement(p.c,Object.assign({"data-test-id":"carousel-ellipsis",display:"flex"},x&&r&&!C?{shape:"pill",height:44,justifyContent:"center",alignItems:"center",paddingX:4,dangerouslySetInlineStyle:S}:{marginTop:1,marginLeft:f?2:-2,marginBottom:f?1:0,justifyContent:C?"center":"start",alignItems:C?"center":"stretch"},{onMouseEnter:x?this.handleMouseEnter:g,onMouseLeave:x?this.handleMouseLeave:g}),L)}}t.default=Object(m.compose)(Object(r.connect)(({pins:e},{carouselData:t,pinId:n})=>{const i=e[n];return{pin:i,carouselData:t||Object(s.a)(i)}},e=>({changeCarouselSlotIndex:(t,n)=>e(Object(o.a)(t,n))})),u.e)(f)},"s+7V":function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("i8i4"),o=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=new Map;let c=null;const d=e=>{e.forEach(e=>{const t=l.get(e.target);t&&t(e)})},u=e=>{c.unobserve(e),l.delete(e)},p=(e,t="-64px 0px 0px 0px",n)=>{const i={root:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};c=c||new window.IntersectionObserver(d,i),l.set(e,n),c.observe(e)},m=e=>l.has(e);t.a=e=>{class t extends i.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{const e=this._node;e&&m(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=o.a.findDOMNode(this)}catch(i){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;p(n,e,e=>{if(!l.has(n))return;const i=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=this.props.trackFullVisible?e.intersectionRatio>=1:i,r=this.props.trackFullVisible?0===e.intersectionRatio:!a;!this.seen&&a?this.enter(e):this.seen&&r&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),u(e))}render(){return a.a.createElement(e,this.props)}}return s(t,"displayName",`WithVisibilityChanged(${e.displayName||e.name})`),t}},tXBB:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("qWlA"),o=n("Ye/N"),s=n("CgR/"),l=n("n6mq");t.a=s.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e,viewType:t})=>a.a.createElement("div",{className:"pinRepSendShareFlyoutButton"},a.a.createElement(l.d,{onClick:({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),Object(r.a)(e)()},text:o.a._("Send","Send a pin"),color:"gray",accessibilityLabel:o.a._("Send","Accessible label to send a pin")})))},vZlu:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function o(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}},wIXi:function(e,t,n){var i=n("17x9"),a=n.n(i);t.a=a.a.shape({access:a.a.arrayOf(a.a.string),ad_match_reason:a.a.number,aggregated_pin_data:a.a.shape({aggregated_stats:a.a.shape({done:a.a.number,likes:a.a.number,saves:a.a.number}),pin_tags:a.a.arrayOf(a.a.shape({pin_tag_key:a.a.string.isRequired,x_percent:a.a.number.isRequired,y_percent:a.a.number.isRequired}))}),attribution:a.a.shape({embed:a.a.shape({src:a.a.string})}),board:a.a.shape({followed_by_me:a.a.bool,id:a.a.string,url:a.a.string,name:a.a.string}),buyable_product:a.a.shape({display_active_max_price:a.a.string,display_active_min_price:a.a.string,short_description:a.a.string,title:a.a.string}),debug_info_html:a.a.string,description:a.a.string,domain:a.a.string,dominant_color:a.a.string,done_by_me:a.a.bool,embed:a.a.shape({src:a.a.string,type:a.a.string}),id:a.a.string,images:a.a.shape({"236x":a.a.shape({url:a.a.string,height:a.a.number}),"474x":a.a.shape({url:a.a.string,height:a.a.number})}),image_signature:a.a.string,is_quick_promotable:a.a.bool,is_eligible_for_web_closeup:a.a.bool,is_native:a.a.bool,link:a.a.string,native_creator:a.a.shape({username:a.a.string,full_name:a.a.string,id:a.a.string,image_small_url:a.a.string}),per_pin_analytics:a.a.shape({clickthrough:a.a.number,closeup:a.a.number,id:a.a.string,impression:a.a.number,repin:a.a.number,total_engagement:a.a.number,type:a.a.string}),pinner:a.a.shape({explicitly_followed_by_me:a.a.bool,full_name:a.a.string,id:a.a.string,image_small_url:a.a.string}),promoter:a.a.shape({username:a.a.string,full_name:a.a.string,image_small_url:a.a.string}),recommendationReason:a.a.shape({reason:a.a.string,board:a.a.shape({id:a.a.string,name:a.a.string,url:a.a.string}),interest:a.a.shape({id:a.a.string}),pin:a.a.shape({id:a.a.string})}),repin_count:a.a.number,rich_summary:a.a.shape({display_name:a.a.string}),source_interest:a.a.shape({name:a.a.string,url_name:a.a.string,id:a.a.string}),tracked_link:a.a.string,title:a.a.string,type:a.a.string,videos:a.a.shape({}),saved:a.a.bool})},wzxk:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("9Hsp");const a=e=>"string"==typeof e?e:"",r=e=>e.visual_descriptions&&e.visual_descriptions.length>0?e.visual_descriptions:e.i18n_visual_descriptions&&e.i18n_visual_descriptions.length>0?e.i18n_visual_descriptions:[],o=e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"",s=e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const{place_summary:t,rich_summary:n}=e,i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e);return t?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return i=i||{},{faviconLink:(n=n||{})["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:n?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:null},l=e=>{const t=e.pin_join||{};let n=t.visual_annotation||[],a=r(t)||[],s=e.description||"";const l=n.map(e=>{return(t.annotations_with_links||{})[e]||{name:e,url:""}}),c=o(e).toLocaleLowerCase().trim(),d=s.toLocaleLowerCase().trim(),u=a.length>0&&a[0].toLocaleLowerCase().trim()===c,p=d===c;return a.length>0&&a[0].length>=3&&!u?!s||s.length<3||p?(s=a[0],a=a.slice(1)):s=(a=[...a,s])[0]:(!s||s.length<3||p)&&(n.length?(s=n.join(", "),n=[]):s=""),s&&(s=Object(i.a)(Object(i.b)(s,496)).trim()),{description:s,vaseAnnotations:n,vaseDescriptions:a,annotationsWithLinks:l}},c=(e,t,n)=>{const i=a(e);let r=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),o=a(t);n!==i.toLowerCase()&&n!==o.trim().toLowerCase()&&(r=e)}let o=n.visual_annotation;o&&(r&&(r+=" "),r+=o=o.join(", "))}return r}},xOLo:function(e,t,n){n.r(t),n.d(t,"CarouselSliders",(function(){return g}));var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("XSD5"),s=n("ZbwW"),l=n("Ye/N"),c=n("0nTG"),d=n("U4JR"),u=n("n6mq");const p={slider:{cursor:"pointer",height:"100%",position:"relative",width:"10%",zIndex:"105",pointerEvents:"auto"}},m=(e,t,n,i,a,r,o,s,l,u)=>{if(!u||!a){const{carousel_slots:u,id:p}=a;Object(d.a)(108,{...l,objectId:t,component:s,view:o,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(c.a)(e)||{}})}},h=(e,t,n,i,a,r)=>{r||void 0===i||(e.preventDefault(),e.stopPropagation(),i(t,n)),void 0!==a&&a(n)},g=({carouselIndex:e,carouselData:t,changeCarouselSlotIndex:n,handleCarouselSwipe:i,pin:r,pinId:o,contextLogData:s,viewParameter:c,viewType:d,componentType:g,isEditMode:y})=>{if(!t)return null;const{carousel_slots:f,index:_}=t,b=void 0!==e?e:_,E=Math.max(0,b-1),w=Math.min(f.length-1,b+1);return a.a.createElement(u.c,{display:"flex",justifyContent:"between",position:"absolute",left:!0,right:!0,bottom:!0,top:!0},a.a.createElement("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{h(e,o,E,n,i,y),m(r,o,b,E,t,c,d,g,s,y)},onKeyUp:e=>{h(e,o,E,n,i,y),m(r,o,b,E,t,c,d,g,s,y)},style:p.slider},b>0&&a.a.createElement(u.c,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement(u.n,{color:"white",icon:"arrow-back",accessibilityLabel:l.a._("View Previous","Button to advance carousel to the previous image")}))),a.a.createElement("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{h(e,o,w,n,i,y),m(r,o,b,w,t,c,d,g,s,y)},onKeyUp:e=>{h(e,o,w,n,i,y),m(r,o,b,w,t,c,d,g,s,y)},style:p.slider},b<f.length-1&&a.a.createElement(u.c,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement(u.n,{color:"white",icon:"arrow-forward",accessibilityLabel:l.a._("View Next","Button to advance carousel to the next image")}))))};t.default=Object(r.connect)(({pins:e},{carouselData:t,pinId:n})=>{const i=e[n];return{pin:i,carouselData:t||Object(s.a)(i)}},e=>({changeCarouselSlotIndex:(t,n)=>e(Object(o.a)(t,n))}))(g)},yKES:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("US8k"),s=n("n6mq");const l=24;function c({duration:e}){return a.a.createElement(s.c,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:l,justifyContent:"center",paddingX:2,shape:"pill"},a.a.createElement(s.n,{accessibilityLabel:r.a._("Video camera icon","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),a.a.createElement(s.c,{marginLeft:1},a.a.createElement(s.L,{color:"white",size:"xs",truncate:!0},Object(o.a)(e))))}},yjg8:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return m}));const i=236,a=24,r=2,o=125,s=16,l=14,c=e=>e||16,d=900,u=24,p=(e=!1)=>e?12:u,m=(e,t,n,i)=>{const a=e+l;return`\n@media (min-width: ${t*a}px) and (max-width: ${(n+1)*a-1}px) {\n  ${i}\n}\n`}}}]);
//# sourceMappingURL=pjs-3-65f43a018061fcacf546.mjs.map
